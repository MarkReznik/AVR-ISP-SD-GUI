
AVRASM ver. 2.1.30  D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm Tue Dec 15 21:01:36 2015

D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1086): warning: Register r5 already defined by the .DEF directive
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1087): warning: Register r4 already defined by the .DEF directive
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1088): warning: Register r7 already defined by the .DEF directive
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1089): warning: Register r6 already defined by the .DEF directive
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1090): warning: Register r9 already defined by the .DEF directive
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1091): warning: Register r8 already defined by the .DEF directive
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1092): warning: Register r11 already defined by the .DEF directive
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1093): warning: Register r10 already defined by the .DEF directive
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1094): warning: Register r13 already defined by the .DEF directive
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1095): warning: Register r12 already defined by the .DEF directive
                 
                 
                 ;CodeVisionAVR C Compiler V3.12 Advanced
                 ;(C) Copyright 1998-2014 Pavel Haiduc, HP InfoTech s.r.l.
                 ;http://www.hpinfotech.com
                 
                 ;Build configuration    : Release
                 ;Chip type              : ATmega328P
                 ;Program type           : Application
                 ;Clock frequency        : 12.000000 MHz
                 ;Memory model           : Small
                 ;Optimize for           : Size
                 ;(s)printf features     : long, width
                 ;(s)scanf features      : int, width
                 ;External RAM size      : 0
                 ;Data Stack size        : 512 byte(s)
                 ;Heap size              : 0 byte(s)
                 ;Promote 'char' to 'int': Yes
                 ;'char' is unsigned     : No
                 ;8 bit enums            : Yes
                 ;Global 'const' stored in FLASH: Yes
                 ;Enhanced function parameter passing: No
                 ;Enhanced core instructions: On
                 ;Automatic register allocation for global variables: On
                 ;Smart register allocation: On
                 
                 	#define _MODEL_SMALL_
                 
                 	#pragma AVRPART ADMIN PART_NAME ATmega328P
                 	#pragma AVRPART MEMORY PROG_FLASH 32768
                 	#pragma AVRPART MEMORY EEPROM 1024
                 	#pragma AVRPART MEMORY INT_SRAM SIZE 2048
                 	#pragma AVRPART MEMORY INT_SRAM START_ADDR 0x100
                 
                 	#define CALL_SUPPORTED 1
                 
                 	.LISTMAC
                 	.EQU EERE=0x0
                 	.EQU EEWE=0x1
                 	.EQU EEMWE=0x2
                 	.EQU UDRE=0x5
                 	.EQU RXC=0x7
                 	.EQU EECR=0x1F
                 	.EQU EEDR=0x20
                 	.EQU EEARL=0x21
                 	.EQU EEARH=0x22
                 	.EQU SPSR=0x2D
                 	.EQU SPDR=0x2E
                 	.EQU SMCR=0x33
                 	.EQU MCUSR=0x34
                 	.EQU MCUCR=0x35
                 	.EQU WDTCSR=0x60
                 	.EQU UCSR0A=0xC0
                 	.EQU UDR0=0xC6
                 	.EQU SPL=0x3D
                 	.EQU SPH=0x3E
                 	.EQU SREG=0x3F
                 	.EQU GPIOR0=0x1E
                 
                 	.DEF R0X0=R0
                 	.DEF R0X1=R1
                 	.DEF R0X2=R2
                 	.DEF R0X3=R3
                 	.DEF R0X4=R4
                 	.DEF R0X5=R5
                 	.DEF R0X6=R6
                 	.DEF R0X7=R7
                 	.DEF R0X8=R8
                 	.DEF R0X9=R9
                 	.DEF R0XA=R10
                 	.DEF R0XB=R11
                 	.DEF R0XC=R12
                 	.DEF R0XD=R13
                 	.DEF R0XE=R14
                 	.DEF R0XF=R15
                 	.DEF R0X10=R16
                 	.DEF R0X11=R17
                 	.DEF R0X12=R18
                 	.DEF R0X13=R19
                 	.DEF R0X14=R20
                 	.DEF R0X15=R21
                 	.DEF R0X16=R22
                 	.DEF R0X17=R23
                 	.DEF R0X18=R24
                 	.DEF R0X19=R25
                 	.DEF R0X1A=R26
                 	.DEF R0X1B=R27
                 	.DEF R0X1C=R28
                 	.DEF R0X1D=R29
                 	.DEF R0X1E=R30
                 	.DEF R0X1F=R31
                 
                 	.EQU __SRAM_START=0x0100
                 	.EQU __SRAM_END=0x08FF
                 	.EQU __DSTACK_SIZE=0x0200
                 	.EQU __HEAP_SIZE=0x0000
                 	.EQU __CLEAR_SRAM_SIZE=__SRAM_END-__SRAM_START+1
                 
                 	.MACRO __CPD1N
                 	CPI  R30,LOW(@0)
                 	LDI  R26,HIGH(@0)
                 	CPC  R31,R26
                 	LDI  R26,BYTE3(@0)
                 	CPC  R22,R26
                 	LDI  R26,BYTE4(@0)
                 	CPC  R23,R26
                 	.ENDM
                 
                 	.MACRO __CPD2N
                 	CPI  R26,LOW(@0)
                 	LDI  R30,HIGH(@0)
                 	CPC  R27,R30
                 	LDI  R30,BYTE3(@0)
                 	CPC  R24,R30
                 	LDI  R30,BYTE4(@0)
                 	CPC  R25,R30
                 	.ENDM
                 
                 	.MACRO __CPWRR
                 	CP   R@0,R@2
                 	CPC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __CPWRN
                 	CPI  R@0,LOW(@2)
                 	LDI  R30,HIGH(@2)
                 	CPC  R@1,R30
                 	.ENDM
                 
                 	.MACRO __ADDB1MN
                 	SUBI R30,LOW(-@0-(@1))
                 	.ENDM
                 
                 	.MACRO __ADDB2MN
                 	SUBI R26,LOW(-@0-(@1))
                 	.ENDM
                 
                 	.MACRO __ADDW1MN
                 	SUBI R30,LOW(-@0-(@1))
                 	SBCI R31,HIGH(-@0-(@1))
                 	.ENDM
                 
                 	.MACRO __ADDW2MN
                 	SUBI R26,LOW(-@0-(@1))
                 	SBCI R27,HIGH(-@0-(@1))
                 	.ENDM
                 
                 	.MACRO __ADDW1FN
                 	SUBI R30,LOW(-2*@0-(@1))
                 	SBCI R31,HIGH(-2*@0-(@1))
                 	.ENDM
                 
                 	.MACRO __ADDD1FN
                 	SUBI R30,LOW(-2*@0-(@1))
                 	SBCI R31,HIGH(-2*@0-(@1))
                 	SBCI R22,BYTE3(-2*@0-(@1))
                 	.ENDM
                 
                 	.MACRO __ADDD1N
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	SBCI R22,BYTE3(-@0)
                 	SBCI R23,BYTE4(-@0)
                 	.ENDM
                 
                 	.MACRO __ADDD2N
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	SBCI R24,BYTE3(-@0)
                 	SBCI R25,BYTE4(-@0)
                 	.ENDM
                 
                 	.MACRO __SUBD1N
                 	SUBI R30,LOW(@0)
                 	SBCI R31,HIGH(@0)
                 	SBCI R22,BYTE3(@0)
                 	SBCI R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __SUBD2N
                 	SUBI R26,LOW(@0)
                 	SBCI R27,HIGH(@0)
                 	SBCI R24,BYTE3(@0)
                 	SBCI R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ANDBMNN
                 	LDS  R30,@0+(@1)
                 	ANDI R30,LOW(@2)
                 	STS  @0+(@1),R30
                 	.ENDM
                 
                 	.MACRO __ANDWMNN
                 	LDS  R30,@0+(@1)
                 	ANDI R30,LOW(@2)
                 	STS  @0+(@1),R30
                 	LDS  R30,@0+(@1)+1
                 	ANDI R30,HIGH(@2)
                 	STS  @0+(@1)+1,R30
                 	.ENDM
                 
                 	.MACRO __ANDD1N
                 	ANDI R30,LOW(@0)
                 	ANDI R31,HIGH(@0)
                 	ANDI R22,BYTE3(@0)
                 	ANDI R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ANDD2N
                 	ANDI R26,LOW(@0)
                 	ANDI R27,HIGH(@0)
                 	ANDI R24,BYTE3(@0)
                 	ANDI R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ORBMNN
                 	LDS  R30,@0+(@1)
                 	ORI  R30,LOW(@2)
                 	STS  @0+(@1),R30
                 	.ENDM
                 
                 	.MACRO __ORWMNN
                 	LDS  R30,@0+(@1)
                 	ORI  R30,LOW(@2)
                 	STS  @0+(@1),R30
                 	LDS  R30,@0+(@1)+1
                 	ORI  R30,HIGH(@2)
                 	STS  @0+(@1)+1,R30
                 	.ENDM
                 
                 	.MACRO __ORD1N
                 	ORI  R30,LOW(@0)
                 	ORI  R31,HIGH(@0)
                 	ORI  R22,BYTE3(@0)
                 	ORI  R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ORD2N
                 	ORI  R26,LOW(@0)
                 	ORI  R27,HIGH(@0)
                 	ORI  R24,BYTE3(@0)
                 	ORI  R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __DELAY_USB
                 	LDI  R24,LOW(@0)
                 __DELAY_USB_LOOP:
                 	DEC  R24
                 	BRNE __DELAY_USB_LOOP
                 	.ENDM
                 
                 	.MACRO __DELAY_USW
                 	LDI  R24,LOW(@0)
                 	LDI  R25,HIGH(@0)
                 __DELAY_USW_LOOP:
                 	SBIW R24,1
                 	BRNE __DELAY_USW_LOOP
                 	.ENDM
                 
                 	.MACRO __GETD1S
                 	LDD  R30,Y+@0
                 	LDD  R31,Y+@0+1
                 	LDD  R22,Y+@0+2
                 	LDD  R23,Y+@0+3
                 	.ENDM
                 
                 	.MACRO __GETD2S
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	LDD  R24,Y+@0+2
                 	LDD  R25,Y+@0+3
                 	.ENDM
                 
                 	.MACRO __PUTD1S
                 	STD  Y+@0,R30
                 	STD  Y+@0+1,R31
                 	STD  Y+@0+2,R22
                 	STD  Y+@0+3,R23
                 	.ENDM
                 
                 	.MACRO __PUTD2S
                 	STD  Y+@0,R26
                 	STD  Y+@0+1,R27
                 	STD  Y+@0+2,R24
                 	STD  Y+@0+3,R25
                 	.ENDM
                 
                 	.MACRO __PUTDZ2
                 	STD  Z+@0,R26
                 	STD  Z+@0+1,R27
                 	STD  Z+@0+2,R24
                 	STD  Z+@0+3,R25
                 	.ENDM
                 
                 	.MACRO __CLRD1S
                 	STD  Y+@0,R30
                 	STD  Y+@0+1,R30
                 	STD  Y+@0+2,R30
                 	STD  Y+@0+3,R30
                 	.ENDM
                 
                 	.MACRO __POINTB1MN
                 	LDI  R30,LOW(@0+(@1))
                 	.ENDM
                 
                 	.MACRO __POINTW1MN
                 	LDI  R30,LOW(@0+(@1))
                 	LDI  R31,HIGH(@0+(@1))
                 	.ENDM
                 
                 	.MACRO __POINTD1M
                 	LDI  R30,LOW(@0)
                 	LDI  R31,HIGH(@0)
                 	LDI  R22,BYTE3(@0)
                 	LDI  R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __POINTW1FN
                 	LDI  R30,LOW(2*@0+(@1))
                 	LDI  R31,HIGH(2*@0+(@1))
                 	.ENDM
                 
                 	.MACRO __POINTD1FN
                 	LDI  R30,LOW(2*@0+(@1))
                 	LDI  R31,HIGH(2*@0+(@1))
                 	LDI  R22,BYTE3(2*@0+(@1))
                 	LDI  R23,BYTE4(2*@0+(@1))
                 	.ENDM
                 
                 	.MACRO __POINTB2MN
                 	LDI  R26,LOW(@0+(@1))
                 	.ENDM
                 
                 	.MACRO __POINTW2MN
                 	LDI  R26,LOW(@0+(@1))
                 	LDI  R27,HIGH(@0+(@1))
                 	.ENDM
                 
                 	.MACRO __POINTW2FN
                 	LDI  R26,LOW(2*@0+(@1))
                 	LDI  R27,HIGH(2*@0+(@1))
                 	.ENDM
                 
                 	.MACRO __POINTD2FN
                 	LDI  R26,LOW(2*@0+(@1))
                 	LDI  R27,HIGH(2*@0+(@1))
                 	LDI  R24,BYTE3(2*@0+(@1))
                 	LDI  R25,BYTE4(2*@0+(@1))
                 	.ENDM
                 
                 	.MACRO __POINTBRM
                 	LDI  R@0,LOW(@1)
                 	.ENDM
                 
                 	.MACRO __POINTWRM
                 	LDI  R@0,LOW(@2)
                 	LDI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __POINTBRMN
                 	LDI  R@0,LOW(@1+(@2))
                 	.ENDM
                 
                 	.MACRO __POINTWRMN
                 	LDI  R@0,LOW(@2+(@3))
                 	LDI  R@1,HIGH(@2+(@3))
                 	.ENDM
                 
                 	.MACRO __POINTWRFN
                 	LDI  R@0,LOW(@2*2+(@3))
                 	LDI  R@1,HIGH(@2*2+(@3))
                 	.ENDM
                 
                 	.MACRO __GETD1N
                 	LDI  R30,LOW(@0)
                 	LDI  R31,HIGH(@0)
                 	LDI  R22,BYTE3(@0)
                 	LDI  R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __GETD2N
                 	LDI  R26,LOW(@0)
                 	LDI  R27,HIGH(@0)
                 	LDI  R24,BYTE3(@0)
                 	LDI  R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __GETB1MN
                 	LDS  R30,@0+(@1)
                 	.ENDM
                 
                 	.MACRO __GETB1HMN
                 	LDS  R31,@0+(@1)
                 	.ENDM
                 
                 	.MACRO __GETW1MN
                 	LDS  R30,@0+(@1)
                 	LDS  R31,@0+(@1)+1
                 	.ENDM
                 
                 	.MACRO __GETD1MN
                 	LDS  R30,@0+(@1)
                 	LDS  R31,@0+(@1)+1
                 	LDS  R22,@0+(@1)+2
                 	LDS  R23,@0+(@1)+3
                 	.ENDM
                 
                 	.MACRO __GETBRMN
                 	LDS  R@0,@1+(@2)
                 	.ENDM
                 
                 	.MACRO __GETWRMN
                 	LDS  R@0,@2+(@3)
                 	LDS  R@1,@2+(@3)+1
                 	.ENDM
                 
                 	.MACRO __GETWRZ
                 	LDD  R@0,Z+@2
                 	LDD  R@1,Z+@2+1
                 	.ENDM
                 
                 	.MACRO __GETD2Z
                 	LDD  R26,Z+@0
                 	LDD  R27,Z+@0+1
                 	LDD  R24,Z+@0+2
                 	LDD  R25,Z+@0+3
                 	.ENDM
                 
                 	.MACRO __GETB2MN
                 	LDS  R26,@0+(@1)
                 	.ENDM
                 
                 	.MACRO __GETW2MN
                 	LDS  R26,@0+(@1)
                 	LDS  R27,@0+(@1)+1
                 	.ENDM
                 
                 	.MACRO __GETD2MN
                 	LDS  R26,@0+(@1)
                 	LDS  R27,@0+(@1)+1
                 	LDS  R24,@0+(@1)+2
                 	LDS  R25,@0+(@1)+3
                 	.ENDM
                 
                 	.MACRO __PUTB1MN
                 	STS  @0+(@1),R30
                 	.ENDM
                 
                 	.MACRO __PUTW1MN
                 	STS  @0+(@1),R30
                 	STS  @0+(@1)+1,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1MN
                 	STS  @0+(@1),R30
                 	STS  @0+(@1)+1,R31
                 	STS  @0+(@1)+2,R22
                 	STS  @0+(@1)+3,R23
                 	.ENDM
                 
                 	.MACRO __PUTB1EN
                 	LDI  R26,LOW(@0+(@1))
                 	LDI  R27,HIGH(@0+(@1))
                 	CALL __EEPROMWRB
                 	.ENDM
                 
                 	.MACRO __PUTW1EN
                 	LDI  R26,LOW(@0+(@1))
                 	LDI  R27,HIGH(@0+(@1))
                 	CALL __EEPROMWRW
                 	.ENDM
                 
                 	.MACRO __PUTD1EN
                 	LDI  R26,LOW(@0+(@1))
                 	LDI  R27,HIGH(@0+(@1))
                 	CALL __EEPROMWRD
                 	.ENDM
                 
                 	.MACRO __PUTBR0MN
                 	STS  @0+(@1),R0
                 	.ENDM
                 
                 	.MACRO __PUTBMRN
                 	STS  @0+(@1),R@2
                 	.ENDM
                 
                 	.MACRO __PUTWMRN
                 	STS  @0+(@1),R@2
                 	STS  @0+(@1)+1,R@3
                 	.ENDM
                 
                 	.MACRO __PUTBZR
                 	STD  Z+@1,R@0
                 	.ENDM
                 
                 	.MACRO __PUTWZR
                 	STD  Z+@2,R@0
                 	STD  Z+@2+1,R@1
                 	.ENDM
                 
                 	.MACRO __GETW1R
                 	MOV  R30,R@0
                 	MOV  R31,R@1
                 	.ENDM
                 
                 	.MACRO __GETW2R
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	.ENDM
                 
                 	.MACRO __GETWRN
                 	LDI  R@0,LOW(@2)
                 	LDI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __PUTW1R
                 	MOV  R@0,R30
                 	MOV  R@1,R31
                 	.ENDM
                 
                 	.MACRO __PUTW2R
                 	MOV  R@0,R26
                 	MOV  R@1,R27
                 	.ENDM
                 
                 	.MACRO __ADDWRN
                 	SUBI R@0,LOW(-@2)
                 	SBCI R@1,HIGH(-@2)
                 	.ENDM
                 
                 	.MACRO __ADDWRR
                 	ADD  R@0,R@2
                 	ADC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __SUBWRN
                 	SUBI R@0,LOW(@2)
                 	SBCI R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __SUBWRR
                 	SUB  R@0,R@2
                 	SBC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __ANDWRN
                 	ANDI R@0,LOW(@2)
                 	ANDI R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __ANDWRR
                 	AND  R@0,R@2
                 	AND  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __ORWRN
                 	ORI  R@0,LOW(@2)
                 	ORI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __ORWRR
                 	OR   R@0,R@2
                 	OR   R@1,R@3
                 	.ENDM
                 
                 	.MACRO __EORWRR
                 	EOR  R@0,R@2
                 	EOR  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __GETWRS
                 	LDD  R@0,Y+@2
                 	LDD  R@1,Y+@2+1
                 	.ENDM
                 
                 	.MACRO __PUTBSR
                 	STD  Y+@1,R@0
                 	.ENDM
                 
                 	.MACRO __PUTWSR
                 	STD  Y+@2,R@0
                 	STD  Y+@2+1,R@1
                 	.ENDM
                 
                 	.MACRO __MOVEWRR
                 	MOV  R@0,R@2
                 	MOV  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __INWR
                 	IN   R@0,@2
                 	IN   R@1,@2+1
                 	.ENDM
                 
                 	.MACRO __OUTWR
                 	OUT  @2+1,R@1
                 	OUT  @2,R@0
                 	.ENDM
                 
                 	.MACRO __CALL1MN
                 	LDS  R30,@0+(@1)
                 	LDS  R31,@0+(@1)+1
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __CALL1FN
                 	LDI  R30,LOW(2*@0+(@1))
                 	LDI  R31,HIGH(2*@0+(@1))
                 	CALL __GETW1PF
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __CALL2EN
                 	LDI  R26,LOW(@0+(@1))
                 	LDI  R27,HIGH(@0+(@1))
                 	CALL __EEPROMRDW
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __CALL2EX
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	CALL __EEPROMRDD
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __GETW1STACK
                 	IN   R30,SPL
                 	IN   R31,SPH
                 	ADIW R30,@0+1
                 	LD   R0,Z+
                 	LD   R31,Z
                 	MOV  R30,R0
                 	.ENDM
                 
                 	.MACRO __GETD1STACK
                 	IN   R30,SPL
                 	IN   R31,SPH
                 	ADIW R30,@0+1
                 	LD   R0,Z+
                 	LD   R1,Z+
                 	LD   R22,Z
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __NBST
                 	BST  R@0,@1
                 	IN   R30,SREG
                 	LDI  R31,0x40
                 	EOR  R30,R31
                 	OUT  SREG,R30
                 	.ENDM
                 
                 
                 	.MACRO __PUTB1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	CALL __PUTDP1
                 	.ENDM
                 
                 
                 	.MACRO __GETB1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R30,Z
                 	.ENDM
                 
                 	.MACRO __GETB1HSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R31,Z
                 	.ENDM
                 
                 	.MACRO __GETW1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R0,Z+
                 	LD   R31,Z
                 	MOV  R30,R0
                 	.ENDM
                 
                 	.MACRO __GETD1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R0,Z+
                 	LD   R1,Z+
                 	LD   R22,Z+
                 	LD   R23,Z
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __GETB2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R26,X
                 	.ENDM
                 
                 	.MACRO __GETW2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	.ENDM
                 
                 	.MACRO __GETD2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R1,X+
                 	LD   R24,X+
                 	LD   R25,X
                 	MOVW R26,R0
                 	.ENDM
                 
                 	.MACRO __GETBRSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@1)
                 	SBCI R31,HIGH(-@1)
                 	LD   R@0,Z
                 	.ENDM
                 
                 	.MACRO __GETWRSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@2)
                 	SBCI R31,HIGH(-@2)
                 	LD   R@0,Z+
                 	LD   R@1,Z
                 	.ENDM
                 
                 	.MACRO __GETBRSX2
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	LD   R@0,X
                 	.ENDM
                 
                 	.MACRO __GETWRSX2
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	LD   R@0,X+
                 	LD   R@1,X
                 	.ENDM
                 
                 	.MACRO __LSLW8SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R31,Z
                 	CLR  R30
                 	.ENDM
                 
                 	.MACRO __PUTB1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X+,R31
                 	ST   X+,R22
                 	ST   X,R23
                 	.ENDM
                 
                 	.MACRO __CLRW1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __CLRD1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X+,R30
                 	ST   X+,R30
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTB2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z,R26
                 	.ENDM
                 
                 	.MACRO __PUTW2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z+,R26
                 	ST   Z,R27
                 	.ENDM
                 
                 	.MACRO __PUTD2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z+,R26
                 	ST   Z+,R27
                 	ST   Z+,R24
                 	ST   Z,R25
                 	.ENDM
                 
                 	.MACRO __PUTBSRX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@1)
                 	SBCI R31,HIGH(-@1)
                 	ST   Z,R@0
                 	.ENDM
                 
                 	.MACRO __PUTWSRX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@2)
                 	SBCI R31,HIGH(-@2)
                 	ST   Z+,R@0
                 	ST   Z,R@1
                 	.ENDM
                 
                 	.MACRO __PUTB1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X+,R31
                 	ST   X+,R22
                 	ST   X,R23
                 	.ENDM
                 
                 	.MACRO __MULBRR
                 	MULS R@0,R@1
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __MULBRRU
                 	MUL  R@0,R@1
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __MULBRR0
                 	MULS R@0,R@1
                 	.ENDM
                 
                 	.MACRO __MULBRRU0
                 	MUL  R@0,R@1
                 	.ENDM
                 
                 	.MACRO __MULBNWRU
                 	LDI  R26,@2
                 	MUL  R26,R@0
                 	MOVW R30,R0
                 	MUL  R26,R@1
                 	ADD  R31,R0
                 	.ENDM
                 
                 ;NAME DEFINITIONS FOR GLOBAL VARIABLES ALLOCATED TO REGISTERS
                 	.DEF _rx_wr_index=R5
                 	.DEF _rx_rd_index=R4
                 	.DEF _rx_counter=R7
                 	.DEF _tx_wr_index=R6
                 	.DEF _tx_rd_index=R9
                 	.DEF _Buttons=R8
                 	.DEF _CurrentButton=R11
                 	.DEF _g_IsFuseClock=R10
                 	.DEF _g_DeviceCode=R13
                 	.DEF _g_MemType=R12
                 
                 ;GPIOR0 INITIALIZATION VALUE
                 	.EQU __GPIOR0_INIT=0x00
                 
                 	.CSEG
                 	.ORG 0x00
                 
                 ;START OF CODE MARKER
                 __START_OF_CODE:
                 
                 ;INTERRUPT VECTORS
000000 940c 06dd 	JMP  __RESET
000002 940c 0000 	JMP  0x00
000004 940c 0000 	JMP  0x00
000006 940c 0000 	JMP  0x00
000008 940c 0000 	JMP  0x00
00000a 940c 0000 	JMP  0x00
00000c 940c 0000 	JMP  0x00
00000e 940c 0000 	JMP  0x00
000010 940c 0000 	JMP  0x00
000012 940c 0000 	JMP  0x00
000014 940c 0000 	JMP  0x00
000016 940c 0000 	JMP  0x00
000018 940c 0000 	JMP  0x00
00001a 940c 1bd5 	JMP  _timer_comp_isr
00001c 940c 0000 	JMP  0x00
00001e 940c 0000 	JMP  0x00
000020 940c 0000 	JMP  0x00
000022 940c 0000 	JMP  0x00
000024 940c 0715 	JMP  _usart_rx_isr
000026 940c 0000 	JMP  0x00
000028 940c 0747 	JMP  _usart_tx_isr
00002a 940c 0787 	JMP  _adc_isr
00002c 940c 0000 	JMP  0x00
00002e 940c 0000 	JMP  0x00
000030 940c 0000 	JMP  0x00
000032 940c 0000 	JMP  0x00
                 
                 _DeviceDesc:
000034 ff13
000035 7f20
000036 7f28
000037 ff30      	.DB  0x13,0xFF,0x20,0x7F,0x28,0x7F,0x30,0xFF
000038 ff34
000039 7f38
00003a ff48
00003b ff4c      	.DB  0x34,0xFF,0x38,0x7F,0x48,0xFF,0x4C,0xFF
00003c ff51
00003d ff55
00003e ff56
00003f ff68      	.DB  0x51,0xFF,0x55,0xFF,0x56,0xFF,0x68,0xFF
000040 ff6c
000041 ff86
000042 ff87
000043 4001      	.DB  0x6C,0xFF,0x86,0xFF,0x87,0xFF,0x1,0x40
000044 4004
000045 4005
000046 4006
000047 4007      	.DB  0x4,0x40,0x5,0x40,0x6,0x40,0x7,0x40
000048 4008
000049 4009
00004a 100e
00004b 101a      	.DB  0x8,0x40,0x9,0x40,0xE,0x10,0x1A,0x10
00004c 200f
00004d 201b
00004e 2014
00004f 201c      	.DB  0xF,0x20,0x1B,0x20,0x14,0x20,0x1C,0x20
000050 401d
000051 1023
000052 2031
000053 2033      	.DB  0x1D,0x40,0x23,0x10,0x31,0x20,0x33,0x20
000054 4035
000055 4037
000056 4039
000057 403d      	.DB  0x35,0x40,0x37,0x40,0x39,0x40,0x3D,0x40
000058 403e
000059 1057
00005a 203a
00005b 4041      	.DB  0x3E,0x40,0x57,0x10,0x3A,0x20,0x41,0x40
00005c 8043
00005d 8045
00005e 105e
00005f 4060      	.DB  0x43,0x80,0x45,0x80,0x5E,0x10,0x60,0x40
000060 4062
000061 4064
000062 2069
000063 4072      	.DB  0x62,0x40,0x64,0x40,0x69,0x20,0x72,0x40
000064 4074
000065 2076
000066 4078
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1147): warning: .cseg .db misalignment - padding zero byte
000067 0000      	.DB  0x74,0x40,0x76,0x20,0x78,0x40,0x0
                 _SwID:
000068 5641
000069 2052
00006a 5349
00006b 0050      	.DB  0x41,0x56,0x52,0x20,0x49,0x53,0x50,0x0
                 _roll:
00006c 79e9
00006d 5425
00006e df88
00006f b9a5      	.DB  0xE9,0x79,0x25,0x54,0x88,0xDF,0xA5,0xB9
000070 c2f6
000071 fcab
000072 b1b3
000073 e137      	.DB  0xF6,0xC2,0xAB,0xFC,0xB3,0xB1,0x37,0xE1
000074 d583
000075 0497
000076 fe38
000077 2699      	.DB  0x83,0xD5,0x97,0x4,0x38,0xFE,0x99,0x26
000078 8ee4
000079 f74b
00007a c504
00007b 1fa5      	.DB  0xE4,0x8E,0x4B,0xF7,0x4,0xC5,0xA5,0x1F
00007c 6888
00007d 1def
00007e bc39
00007f d862      	.DB  0x88,0x68,0xEF,0x1D,0x39,0xBC,0x62,0xD8
000080 0f63
000081 a56a
000082 aa12
000083 8ce5      	.DB  0x63,0xF,0x6A,0xA5,0x12,0xAA,0xE5,0x8C
000084 3675
000085 81ba
000086 308f
000087 eb3d      	.DB  0x75,0x36,0xBA,0x81,0x8F,0x30,0x3D,0xEB
000088 fee0
000089 fa70
00008a ae94
00008b 31b5      	.DB  0xE0,0xFE,0x70,0xFA,0x94,0xAE,0xB5,0x31
                 _error_msg:
00008c 0ae2
00008d 0ae3
00008e 0aef
00008f 0afa      	.DB  LOW(_0x60000*2),HIGH(_0x60000*2),LOW(_0x60000*2+1),HIGH(_0x60000*2+1),LOW(_0x60000*2+13),HIGH(_0x60000*2+13),LOW(_0x60000*2+24),HIGH(_0x60000*2+24)
000090 0b07
000091 0b12
000092 0b1d
000093 0b2d      	.DB  LOW(_0x60000*2+37),HIGH(_0x60000*2+37),LOW(_0x60000*2+48),HIGH(_0x60000*2+48),LOW(_0x60000*2+59),HIGH(_0x60000*2+59),LOW(_0x60000*2+75),HIGH(_0x60000*2+75)
000094 0b37
000095 0b40
000096 0b52
000097 0b65      	.DB  LOW(_0x60000*2+85),HIGH(_0x60000*2+85),LOW(_0x60000*2+94),HIGH(_0x60000*2+94),LOW(_0x60000*2+112),HIGH(_0x60000*2+112),LOW(_0x60000*2+131),HIGH(_0x60000*2+131)
000098 0b76
000099 0b85
00009a 0b96
00009b 0ba6      	.DB  LOW(_0x60000*2+148),HIGH(_0x60000*2+148),LOW(_0x60000*2+163),HIGH(_0x60000*2+163),LOW(_0x60000*2+180),HIGH(_0x60000*2+180),LOW(_0x60000*2+196),HIGH(_0x60000*2+196)
                 _cvt_G005:
00009c 9a80
00009d 4190
00009e 418e
00009f 808f      	.DB  0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80
0000a0 4545
0000a1 4945
0000a2 4949
0000a3 8f8e      	.DB  0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F
0000a4 9290
0000a5 4f92
0000a6 4f99
0000a7 5555      	.DB  0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55
0000a8 9959
0000a9 9b9a
0000aa 9d9c
0000ab 9f9e      	.DB  0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F
0000ac 4941
0000ad 554f
0000ae a5a5
0000af a7a6      	.DB  0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7
0000b0 a9a8
0000b1 abaa
0000b2 21ac
0000b3 afae      	.DB  0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF
0000b4 b1b0
0000b5 b3b2
0000b6 b5b4
0000b7 b7b6      	.DB  0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7
0000b8 b9b8
0000b9 bbba
0000ba bdbc
0000bb bfbe      	.DB  0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF
0000bc c1c0
0000bd c3c2
0000be c5c4
0000bf c7c6      	.DB  0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7
0000c0 c9c8
0000c1 cbca
0000c2 cdcc
0000c3 cfce      	.DB  0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF
0000c4 d1d0
0000c5 d3d2
0000c6 d5d4
0000c7 d7d6      	.DB  0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7
0000c8 d9d8
0000c9 dbda
0000ca dddc
0000cb dfde      	.DB  0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF
0000cc e1e0
0000cd e3e2
0000ce e5e4
0000cf e7e6      	.DB  0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7
0000d0 e9e8
0000d1 ebea
0000d2 edec
0000d3 efee      	.DB  0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF
0000d4 f1f0
0000d5 f3f2
0000d6 f5f4
0000d7 f7f6      	.DB  0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7
0000d8 f9f8
0000d9 fbfa
0000da fdfc
0000db fffe      	.DB  0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF
                 
                 ;GLOBAL REGISTER VARIABLES INITIALIZATION
                 __REG_VARS:
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1184): warning: .cseg .db misalignment - padding zero byte
0000dc 0005      	.DB  0x5
                 
                 _0x0:
0000dd 6e49
0000de 7469
0000df 6420
0000e0 6e6f      	.DB  0x49,0x6E,0x69,0x74,0x20,0x64,0x6F,0x6E
0000e1 2e65
0000e2 4320
0000e3 7275
0000e4 6572      	.DB  0x65,0x2E,0x20,0x43,0x75,0x72,0x72,0x65
0000e5 746e
0000e6 6620
0000e7 6c6f
0000e8 6564      	.DB  0x6E,0x74,0x20,0x66,0x6F,0x6C,0x64,0x65
0000e9 2072
0000ea 7369
0000eb 2520
0000ec 2e64      	.DB  0x72,0x20,0x69,0x73,0x20,0x25,0x64,0x2E
0000ed 0a0d
0000ee 4100
0000ef 5256
0000f0 4920      	.DB  0xD,0xA,0x0,0x41,0x56,0x52,0x20,0x49
0000f1 5053
0000f2 5320
0000f3 2044
0000f4 0056      	.DB  0x53,0x50,0x20,0x53,0x44,0x20,0x56,0x0
0000f5 3332
0000f6 0061
0000f7 002e
0000f8 7250      	.DB  0x32,0x33,0x61,0x0,0x2E,0x0,0x50,0x72
0000f9 7365
0000fa 2073
0000fb 7453
0000fc 706f      	.DB  0x65,0x73,0x73,0x20,0x53,0x74,0x6F,0x70
0000fd 4c00
0000fe 7369
0000ff 2074
000100 6f4c      	.DB  0x0,0x4C,0x69,0x73,0x74,0x20,0x4C,0x6F
000101 6b63
000102 6465
000103 4300
000104 7275      	.DB  0x63,0x6B,0x65,0x64,0x0,0x43,0x75,0x72
000105 6572
000106 746e
000107 4620
000108 6c6f      	.DB  0x72,0x65,0x6E,0x74,0x20,0x46,0x6F,0x6C
000109 6564
00010a 2072
00010b 6425
00010c 0a0d      	.DB  0x64,0x65,0x72,0x20,0x25,0x64,0xD,0xA
00010d 5000
00010e 6f72
00010f 7267
000110 6d61      	.DB  0x0,0x50,0x72,0x6F,0x67,0x72,0x61,0x6D
000111 696d
000112 676e
000113 2e20
000114 2e2e      	.DB  0x6D,0x69,0x6E,0x67,0x20,0x2E,0x2E,0x2E
000115 002e
000116 694c
000117 7473
000118 5520      	.DB  0x2E,0x0,0x4C,0x69,0x73,0x74,0x20,0x55
000119 6c6e
00011a 636f
00011b 656b
00011c 0064      	.DB  0x6E,0x6C,0x6F,0x63,0x6B,0x65,0x64,0x0
00011d 6552
00011e 6461
00011f 6620
000120 6c6f      	.DB  0x52,0x65,0x61,0x64,0x20,0x66,0x6F,0x6C
000121 6564
000122 2072
000123 3000
000124 2000      	.DB  0x64,0x65,0x72,0x20,0x0,0x30,0x0,0x20
000125 666f
000126 0020
000127 6946
000128 656c      	.DB  0x6F,0x66,0x20,0x0,0x46,0x69,0x6C,0x65
000129 0020
00012a 6520
00012b 7272
00012c 726f      	.DB  0x20,0x0,0x20,0x65,0x72,0x72,0x6F,0x72
00012d 002e
00012e 2020
00012f 2020
000130 2020      	.DB  0x2E,0x0,0x20,0x20,0x20,0x20,0x20,0x20
000131 2020
000132 2020
000133 2020
000134 2020      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
000135 2020
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1209): warning: .cseg .db misalignment - padding zero byte
000136 0000      	.DB  0x20,0x20,0x0
                 _0x20000:
000137 6572
000138 6461
000139 0079
00013a 0a0d      	.DB  0x72,0x65,0x61,0x64,0x79,0x0,0xD,0xA
00013b 6552
00013c 6f62
00013d 746f
00013e 6e69      	.DB  0x52,0x65,0x62,0x6F,0x6F,0x74,0x69,0x6E
00013f 2067
000140 6f74
000141 6220
000142 6f6f      	.DB  0x67,0x20,0x74,0x6F,0x20,0x62,0x6F,0x6F
000143 6c74
000144 6461
000145 7265
000146 2e2e      	.DB  0x74,0x6C,0x61,0x64,0x65,0x72,0x2E,0x2E
000147 002e      	.DB  0x2E,0x0
                 _0x40000:
000148 0a0d
000149 7245
00014a 6f72
00014b 2e72      	.DB  0xD,0xA,0x45,0x72,0x72,0x6F,0x72,0x2E
00014c 7066
00014d 7274
00014e 253d
00014f 2c75      	.DB  0x66,0x70,0x74,0x72,0x3D,0x25,0x75,0x2C
000150 7562
000151 5b66
000152 5d30
000153 253d      	.DB  0x62,0x75,0x66,0x5B,0x30,0x5D,0x3D,0x25
000154 3230
000155 2c78
000156 7562
000157 5b66      	.DB  0x30,0x32,0x78,0x2C,0x62,0x75,0x66,0x5B
000158 5d31
000159 253d
00015a 3230
00015b 0d78      	.DB  0x31,0x5D,0x3D,0x25,0x30,0x32,0x78,0xD
00015c 000a
00015d 0a0d
00015e 6142
00015f 2064      	.DB  0xA,0x0,0xD,0xA,0x42,0x61,0x64,0x20
000160 6568
000161 3d78
000162 3025
000163 7832      	.DB  0x68,0x65,0x78,0x3D,0x25,0x30,0x32,0x78
000164 0a0d
000165 4200
000166 6461
000167 6820      	.DB  0xD,0xA,0x0,0x42,0x61,0x64,0x20,0x68
000168 7865
000169 6420
00016a 6769
00016b 7469      	.DB  0x65,0x78,0x20,0x64,0x69,0x67,0x69,0x74
00016c 0021
00016d 0a0d
00016e 6564
00016f 7562      	.DB  0x21,0x0,0xD,0xA,0x64,0x65,0x62,0x75
000170 3d67
000171 6425
000172 0d00
000173 660a      	.DB  0x67,0x3D,0x25,0x64,0x0,0xD,0xA,0x66
000174 6c69
000175 6e65
000176 6d61
000177 2065      	.DB  0x69,0x6C,0x65,0x6E,0x61,0x6D,0x65,0x20
000178 203d
000179 7325
00017a 0d00
00017b 660a      	.DB  0x3D,0x20,0x25,0x73,0x0,0xD,0xA,0x66
00017c 5f77
00017d 6576
00017e 2072
00017f 203d      	.DB  0x77,0x5F,0x76,0x65,0x72,0x20,0x3D,0x20
000180 7325
000181 0d00
000182 630a
000183 6968      	.DB  0x25,0x73,0x0,0xD,0xA,0x63,0x68,0x69
000184 6e70
000185 6d61
000186 2065
000187 203d      	.DB  0x70,0x6E,0x61,0x6D,0x65,0x20,0x3D,0x20
000188 7325
000189 0d00
00018a 630a
00018b 6968      	.DB  0x25,0x73,0x0,0xD,0xA,0x63,0x68,0x69
00018c 6370
00018d 646f
00018e 2065
00018f 203d      	.DB  0x70,0x63,0x6F,0x64,0x65,0x20,0x3D,0x20
000190 7830
000191 7825
000192 0d00
000193 730a      	.DB  0x30,0x78,0x25,0x78,0x0,0xD,0xA,0x73
000194 6769
000195 616e
000196 7574
000197 6572      	.DB  0x69,0x67,0x6E,0x61,0x74,0x75,0x72,0x65
000198 3d20
000199 2520
00019a 3230
00019b 2078      	.DB  0x20,0x3D,0x20,0x25,0x30,0x32,0x78,0x20
00019c 3025
00019d 7832
00019e 2520
00019f 3230      	.DB  0x25,0x30,0x32,0x78,0x20,0x25,0x30,0x32
0001a0 0078
0001a1 0a0d
0001a2 7270
0001a3 676f      	.DB  0x78,0x0,0xD,0xA,0x70,0x72,0x6F,0x67
0001a4 7566
0001a5 6573
0001a6 2073
0001a7 203d      	.DB  0x66,0x75,0x73,0x65,0x73,0x20,0x3D,0x20
0001a8 3025
0001a9 7832
0001aa 2520
0001ab 3230      	.DB  0x25,0x30,0x32,0x78,0x20,0x25,0x30,0x32
0001ac 2078
0001ad 3025
0001ae 7832
0001af 2520      	.DB  0x78,0x20,0x25,0x30,0x32,0x78,0x20,0x25
0001b0 3230
0001b1 0078
0001b2 0a0d
0001b3 6f6e      	.DB  0x30,0x32,0x78,0x0,0xD,0xA,0x6E,0x6F
0001b4 6d72
0001b5 7566
0001b6 6573
0001b7 2073      	.DB  0x72,0x6D,0x66,0x75,0x73,0x65,0x73,0x20
0001b8 203d
0001b9 3025
0001ba 7832
0001bb 2520      	.DB  0x3D,0x20,0x25,0x30,0x32,0x78,0x20,0x25
0001bc 3230
0001bd 2078
0001be 3025
0001bf 7832      	.DB  0x30,0x32,0x78,0x20,0x25,0x30,0x32,0x78
0001c0 2520
0001c1 3230
0001c2 0078
0001c3 0a0d      	.DB  0x20,0x25,0x30,0x32,0x78,0x0,0xD,0xA
0001c4 616d
0001c5 6b73
0001c6 7566
0001c7 6573      	.DB  0x6D,0x61,0x73,0x6B,0x66,0x75,0x73,0x65
0001c8 2073
0001c9 203d
0001ca 3025
0001cb 7832      	.DB  0x73,0x20,0x3D,0x20,0x25,0x30,0x32,0x78
0001cc 2520
0001cd 3230
0001ce 2078
0001cf 3025      	.DB  0x20,0x25,0x30,0x32,0x78,0x20,0x25,0x30
0001d0 7832
0001d1 2520
0001d2 3230
0001d3 0078      	.DB  0x32,0x78,0x20,0x25,0x30,0x32,0x78,0x0
0001d4 0a0d
0001d5 6863
0001d6 7069
0001d7 6973      	.DB  0xD,0xA,0x63,0x68,0x69,0x70,0x73,0x69
0001d8 657a
0001d9 3d20
0001da 2520
0001db 756c      	.DB  0x7A,0x65,0x20,0x3D,0x20,0x25,0x6C,0x75
0001dc 0d00
0001dd 700a
0001de 6761
0001df 7365      	.DB  0x0,0xD,0xA,0x70,0x61,0x67,0x65,0x73
0001e0 7a69
0001e1 2065
0001e2 203d
0001e3 7525      	.DB  0x69,0x7A,0x65,0x20,0x3D,0x20,0x25,0x75
0001e4 0d00
0001e5 500a
0001e6 6f72
0001e7 7267      	.DB  0x0,0xD,0xA,0x50,0x72,0x6F,0x67,0x72
0001e8 6d61
0001e9 696d
0001ea 676e
0001eb 4420      	.DB  0x61,0x6D,0x6D,0x69,0x6E,0x67,0x20,0x44
0001ec 6e6f
0001ed 2065
0001ee 203d
0001ef 6c25      	.DB  0x6F,0x6E,0x65,0x20,0x3D,0x20,0x25,0x6C
0001f0 0075
0001f1 0a0d
0001f2 7250
0001f3 676f      	.DB  0x75,0x0,0xD,0xA,0x50,0x72,0x6F,0x67
0001f4 6172
0001f5 6d6d
0001f6 6e69
0001f7 2067      	.DB  0x72,0x61,0x6D,0x6D,0x69,0x6E,0x67,0x20
0001f8 7641
0001f9 6961
0001fa 616c
0001fb 6c62      	.DB  0x41,0x76,0x61,0x69,0x6C,0x61,0x62,0x6C
0001fc 2065
0001fd 203d
0001fe 6c25
0001ff 0075      	.DB  0x65,0x20,0x3D,0x20,0x25,0x6C,0x75,0x0
000200 0a0d
000201 7453
000202 7261
000203 6974      	.DB  0xD,0xA,0x53,0x74,0x61,0x72,0x74,0x69
000204 676e
000205 5020
000206 6f72
000207 7267      	.DB  0x6E,0x67,0x20,0x50,0x72,0x6F,0x67,0x72
000208 6d61
000209 4d20
00020a 646f
00020b 2e65      	.DB  0x61,0x6D,0x20,0x4D,0x6F,0x64,0x65,0x2E
00020c 2e2e
00020d 0020
00020e 7250
00020f 676f      	.DB  0x2E,0x2E,0x20,0x0,0x50,0x72,0x6F,0x67
000210 4d20
000211 646f
000212 2065
000213 5000      	.DB  0x20,0x4D,0x6F,0x64,0x65,0x20,0x0,0x50
000214 4600
000215 4941
000216 004c
000217 6f4e      	.DB  0x0,0x46,0x41,0x49,0x4C,0x0,0x4E,0x6F
000218 7420
000219 7261
00021a 6567
00021b 0074      	.DB  0x20,0x74,0x61,0x72,0x67,0x65,0x74,0x0
00021c 4f20
00021d 2e4b
00021e 4400
00021f 6e6f      	.DB  0x20,0x4F,0x4B,0x2E,0x0,0x44,0x6F,0x6E
000220 0065
000221 0a0d
000222 6143
000223 6c6c      	.DB  0x65,0x0,0xD,0xA,0x43,0x61,0x6C,0x6C
000224 7320
000225 5f64
000226 6f6d
000227 6e75      	.DB  0x20,0x73,0x64,0x5F,0x6D,0x6F,0x75,0x6E
000228 2074
000229 7566
00022a 636e
00022b 6620      	.DB  0x74,0x20,0x66,0x75,0x6E,0x63,0x20,0x66
00022c 6961
00022d 656c
00022e 2064
00022f 0a0d      	.DB  0x61,0x69,0x6C,0x65,0x64,0x20,0xD,0xA
000230 0d00
000231 430a
000232 6c61
000233 206c      	.DB  0x0,0xD,0xA,0x43,0x61,0x6C,0x6C,0x20
000234 6473
000235 6d5f
000236 756f
000237 746e      	.DB  0x73,0x64,0x5F,0x6D,0x6F,0x75,0x6E,0x74
000238 6620
000239 6e75
00023a 2063
00023b 6b6f      	.DB  0x20,0x66,0x75,0x6E,0x63,0x20,0x6F,0x6B
00023c 0d20
00023d 000a
00023e 7075
00023f 6400      	.DB  0x20,0xD,0xA,0x0,0x75,0x70,0x0,0x64
000240 776f
000241 006e
000242 616d
000243 6678      	.DB  0x6F,0x77,0x6E,0x0,0x6D,0x61,0x78,0x66
000244 6c6f
000245 6564
000246 7372
000247 0d00      	.DB  0x6F,0x6C,0x64,0x65,0x72,0x73,0x0,0xD
000248 630a
000249 6e6f
00024a 6966
00024b 3a67      	.DB  0xA,0x63,0x6F,0x6E,0x66,0x69,0x67,0x3A
00024c 5520
00024d 3d70
00024e 6425
00024f 4420      	.DB  0x20,0x55,0x70,0x3D,0x25,0x64,0x20,0x44
000250 776f
000251 3d6e
000252 6425
000253 4d20      	.DB  0x6F,0x77,0x6E,0x3D,0x25,0x64,0x20,0x4D
000254 7861
000255 6f46
000256 646c
000257 7265      	.DB  0x61,0x78,0x46,0x6F,0x6C,0x64,0x65,0x72
000258 3d73
000259 6425
00025a 7200
00025b 6c6f      	.DB  0x73,0x3D,0x25,0x64,0x0,0x72,0x6F,0x6C
00025c 636c
00025d 756f
00025e 746e
00025f 7265      	.DB  0x6C,0x63,0x6F,0x75,0x6E,0x74,0x65,0x72
000260 0d00
000261 620a
000262 6675
000263 6566      	.DB  0x0,0xD,0xA,0x62,0x75,0x66,0x66,0x65
000264 0d72
000265 250a
000266 0073
000267 7270      	.DB  0x72,0xD,0xA,0x25,0x73,0x0,0x70,0x72
000268 676f
000269 6f63
00026a 6e75
00026b 6574      	.DB  0x6F,0x67,0x63,0x6F,0x75,0x6E,0x74,0x65
00026c 7272
00026d 7365
00026e 7465
00026f 0d00      	.DB  0x72,0x72,0x65,0x73,0x65,0x74,0x0,0xD
000270 520a
000271 7365
000272 7465
000273 7020      	.DB  0xA,0x52,0x65,0x73,0x65,0x74,0x20,0x70
000274 6f72
000275 2067
000276 6f63
000277 6e75      	.DB  0x72,0x6F,0x67,0x20,0x63,0x6F,0x75,0x6E
000278 6574
000279 2072
00027a 6f64
00027b 656e      	.DB  0x74,0x65,0x72,0x20,0x64,0x6F,0x6E,0x65
00027c 0d2e
00027d 000a
00027e 616d
00027f 7078      	.DB  0x2E,0xD,0xA,0x0,0x6D,0x61,0x78,0x70
000280 6f72
000281 7367
000282 7000
000283 6761      	.DB  0x72,0x6F,0x67,0x73,0x0,0x70,0x61,0x67
000284 7365
000285 7a69
000286 0065
000287 6863      	.DB  0x65,0x73,0x69,0x7A,0x65,0x0,0x63,0x68
000288 7069
000289 6973
00028a 657a
00028b 6d00      	.DB  0x69,0x70,0x73,0x69,0x7A,0x65,0x0,0x6D
00028c 7361
00028d 666b
00028e 7375
00028f 7365      	.DB  0x61,0x73,0x6B,0x66,0x75,0x73,0x65,0x73
000290 6e00
000291 726f
000292 666d
000293 7375      	.DB  0x0,0x6E,0x6F,0x72,0x6D,0x66,0x75,0x73
000294 7365
000295 7000
000296 6f72
000297 6667      	.DB  0x65,0x73,0x0,0x70,0x72,0x6F,0x67,0x66
000298 7375
000299 7365
00029a 7300
00029b 6769      	.DB  0x75,0x73,0x65,0x73,0x0,0x73,0x69,0x67
00029c 616e
00029d 7574
00029e 6572
00029f 7300      	.DB  0x6E,0x61,0x74,0x75,0x72,0x65,0x0,0x73
0002a0 6970
0002a1 6964
0002a2 0076
0002a3 7270      	.DB  0x70,0x69,0x64,0x69,0x76,0x0,0x70,0x72
0002a4 676f
0002a5 6e69
0002a6 6f66
0002a7 7000      	.DB  0x6F,0x67,0x69,0x6E,0x66,0x6F,0x0,0x70
0002a8 6f72
0002a9 6e67
0002aa 6d61
0002ab 0065      	.DB  0x72,0x6F,0x67,0x6E,0x61,0x6D,0x65,0x0
0002ac 0a0d
0002ad 7270
0002ae 676f
0002af 6e69      	.DB  0xD,0xA,0x70,0x72,0x6F,0x67,0x69,0x6E
0002b0 6f66
0002b1 253d
0002b2 0073
0002b3 0a0d      	.DB  0x66,0x6F,0x3D,0x25,0x73,0x0,0xD,0xA
0002b4 7073
0002b5 6469
0002b6 7669
0002b7 253d      	.DB  0x73,0x70,0x69,0x64,0x69,0x76,0x3D,0x25
0002b8 0064
0002b9 0a0d
0002ba 6154
0002bb 6772      	.DB  0x64,0x0,0xD,0xA,0x54,0x61,0x72,0x67
0002bc 7465
0002bd 7320
0002be 6769
0002bf 616e      	.DB  0x65,0x74,0x20,0x73,0x69,0x67,0x6E,0x61
0002c0 7574
0002c1 6572
0002c2 6920
0002c3 3a73      	.DB  0x74,0x75,0x72,0x65,0x20,0x69,0x73,0x3A
0002c4 2520
0002c5 3230
0002c6 2078
0002c7 3025      	.DB  0x20,0x25,0x30,0x32,0x78,0x20,0x25,0x30
0002c8 7832
0002c9 2520
0002ca 3230
0002cb 0078      	.DB  0x32,0x78,0x20,0x25,0x30,0x32,0x78,0x0
0002cc 7420
0002cd 7261
0002ce 6567
0002cf 2074      	.DB  0x20,0x74,0x61,0x72,0x67,0x65,0x74,0x20
0002d0 6f6e
0002d1 2074
0002d2 6f63
0002d3 6e6e      	.DB  0x6E,0x6F,0x74,0x20,0x63,0x6F,0x6E,0x6E
0002d4 6365
0002d5 6574
0002d6 0d64
0002d7 000a      	.DB  0x65,0x63,0x74,0x65,0x64,0xD,0xA,0x0
0002d8 7257
0002d9 6e6f
0002da 2067
0002db 6174      	.DB  0x57,0x72,0x6F,0x6E,0x67,0x20,0x74,0x61
0002dc 6772
0002dd 7465
0002de 0d00
0002df 520a      	.DB  0x72,0x67,0x65,0x74,0x0,0xD,0xA,0x52
0002e0 6165
0002e1 6964
0002e2 676e
0002e3 7320      	.DB  0x65,0x61,0x64,0x69,0x6E,0x67,0x20,0x73
0002e4 6769
0002e5 616e
0002e6 7574
0002e7 6572      	.DB  0x69,0x67,0x6E,0x61,0x74,0x75,0x72,0x65
0002e8 203a
0002e9 4b4f
0002ea 002e
0002eb 6953      	.DB  0x3A,0x20,0x4F,0x4B,0x2E,0x0,0x53,0x69
0002ec 6e67
0002ed 7461
0002ee 7275
0002ef 2065      	.DB  0x67,0x6E,0x61,0x74,0x75,0x72,0x65,0x20
0002f0 4b4f
0002f1 002e
0002f2 0a0d
0002f3 7245      	.DB  0x4F,0x4B,0x2E,0x0,0xD,0xA,0x45,0x72
0002f4 7361
0002f5 6e69
0002f6 2067
0002f7 6c70      	.DB  0x61,0x73,0x69,0x6E,0x67,0x20,0x70,0x6C
0002f8 6165
0002f9 6573
0002fa 7720
0002fb 6961      	.DB  0x65,0x61,0x73,0x65,0x20,0x77,0x61,0x69
0002fc 2e74
0002fd 2e2e
0002fe 0020
0002ff 7245      	.DB  0x74,0x2E,0x2E,0x2E,0x20,0x0,0x45,0x72
000300 7361
000301 6e69
000302 2e67
000303 2e2e      	.DB  0x61,0x73,0x69,0x6E,0x67,0x2E,0x2E,0x2E
000304 0020
000305 6f44
000306 656e
000307 002e      	.DB  0x20,0x0,0x44,0x6F,0x6E,0x65,0x2E,0x0
000308 0a0d
000309 7250
00030a 676f
00030b 6172      	.DB  0xD,0xA,0x50,0x72,0x6F,0x67,0x72,0x61
00030c 206d
00030d 7546
00030e 6573
00030f 2073      	.DB  0x6D,0x20,0x46,0x75,0x73,0x65,0x73,0x20
000310 6166
000311 6c69
000312 5000
000313 6f72      	.DB  0x66,0x61,0x69,0x6C,0x0,0x50,0x72,0x6F
000314 2067
000315 7546
000316 6573
000317 2073      	.DB  0x67,0x20,0x46,0x75,0x73,0x65,0x73,0x20
000318 6166
000319 6c69
00031a 0d00
00031b 460a      	.DB  0x66,0x61,0x69,0x6C,0x0,0xD,0xA,0x46
00031c 6961
00031d 656c
00031e 2064
00031f 6f74      	.DB  0x61,0x69,0x6C,0x65,0x64,0x20,0x74,0x6F
000320 7620
000321 7265
000322 6669
000323 2079      	.DB  0x20,0x76,0x65,0x72,0x69,0x66,0x79,0x20
000324 7566
000325 6573
000326 0073
000327 6843      	.DB  0x66,0x75,0x73,0x65,0x73,0x0,0x43,0x68
000328 6365
000329 206b
00032a 7546
00032b 6573      	.DB  0x65,0x63,0x6B,0x20,0x46,0x75,0x73,0x65
00032c 2073
00032d 6166
00032e 6c69
00032f 0d00      	.DB  0x73,0x20,0x66,0x61,0x69,0x6C,0x0,0xD
000330 500a
000331 6f72
000332 7267
000333 6d61      	.DB  0xA,0x50,0x72,0x6F,0x67,0x72,0x61,0x6D
000334 4620
000335 7375
000336 7365
000337 5620      	.DB  0x20,0x46,0x75,0x73,0x65,0x73,0x20,0x56
000338 7265
000339 6669
00033a 6569
00033b 2064      	.DB  0x65,0x72,0x69,0x66,0x69,0x65,0x64,0x20
00033c 4b4f
00033d 002e
00033e 0a0d
00033f 6553      	.DB  0x4F,0x4B,0x2E,0x0,0xD,0xA,0x53,0x65
000340 4174
000341 6464
000342 2072
000343 4146      	.DB  0x74,0x41,0x64,0x64,0x72,0x20,0x46,0x41
000344 4c49
000345 0d00
000346 570a
000347 6972      	.DB  0x49,0x4C,0x0,0xD,0xA,0x57,0x72,0x69
000348 6974
000349 676e
00034a 6620
00034b 616c      	.DB  0x74,0x69,0x6E,0x67,0x20,0x66,0x6C,0x61
00034c 6873
00034d 2e2e
00034e 002e
00034f 0a0d      	.DB  0x73,0x68,0x2E,0x2E,0x2E,0x0,0xD,0xA
000350 6641
000351 6574
000352 2072
000353 6966      	.DB  0x41,0x66,0x74,0x65,0x72,0x20,0x66,0x69
000354 656c
000355 704f
000356 6e65
000357 0a0d      	.DB  0x6C,0x65,0x4F,0x70,0x65,0x6E,0xD,0xA
000358 0d00
000359 410a
00035a 7466
00035b 7265      	.DB  0x0,0xD,0xA,0x41,0x66,0x74,0x65,0x72
00035c 7320
00035d 7465
00035e 6120
00035f 7264      	.DB  0x20,0x73,0x65,0x74,0x20,0x61,0x64,0x72
000360 3120
000361 3030
000362 0d30
000363 000a      	.DB  0x20,0x31,0x30,0x30,0x30,0xD,0xA,0x0
000364 0a0d
000365 6c46
000366 7361
000367 2068      	.DB  0xD,0xA,0x46,0x6C,0x61,0x73,0x68,0x20
000368 7270
000369 676f
00036a 6172
00036b 6d6d      	.DB  0x70,0x72,0x6F,0x67,0x72,0x61,0x6D,0x6D
00036c 6e69
00036d 2067
00036e 6166
00036f 6c69      	.DB  0x69,0x6E,0x67,0x20,0x66,0x61,0x69,0x6C
000370 6465
000371 2000
000372 6f44
000373 656e      	.DB  0x65,0x64,0x0,0x20,0x44,0x6F,0x6E,0x65
000374 002e
000375 0a0d
000376 7453
000377 7261      	.DB  0x2E,0x0,0xD,0xA,0x53,0x74,0x61,0x72
000378 2074
000379 6c66
00037a 7361
00037b 6968      	.DB  0x74,0x20,0x66,0x6C,0x61,0x73,0x68,0x69
00037c 676e
00037d 6620
00037e 6f72
00037f 206d      	.DB  0x6E,0x67,0x20,0x66,0x72,0x6F,0x6D,0x20
000380 4453
000381 6163
000382 6472
000383 2e2e      	.DB  0x53,0x44,0x63,0x61,0x72,0x64,0x2E,0x2E
000384 0d2e
000385 000a
000386 0a0d
000387 694c      	.DB  0x2E,0xD,0xA,0x0,0xD,0xA,0x4C,0x69
000388 6563
000389 736e
00038a 7365
00038b 5420      	.DB  0x63,0x65,0x6E,0x73,0x65,0x73,0x20,0x54
00038c 746f
00038d 6c61
00038e 3d20
00038f 2520      	.DB  0x6F,0x74,0x61,0x6C,0x20,0x3D,0x20,0x25
000390 756c
000391 2d20
000392 4420
000393 6e6f      	.DB  0x6C,0x75,0x20,0x2D,0x20,0x44,0x6F,0x6E
000394 2065
000395 203d
000396 6c25
000397 0075      	.DB  0x65,0x20,0x3D,0x20,0x25,0x6C,0x75,0x0
000398 6f4e
000399 6c20
00039a 6369
00039b 6e65      	.DB  0x4E,0x6F,0x20,0x6C,0x69,0x63,0x65,0x6E
00039c 6573
00039d 0073
00039e 0a0d
00039f 6556      	.DB  0x73,0x65,0x73,0x0,0xD,0xA,0x56,0x65
0003a0 6972
0003a1 6966
0003a2 676e
0003a3 6620      	.DB  0x72,0x69,0x66,0x69,0x6E,0x67,0x20,0x66
0003a4 616c
0003a5 6873
0003a6 2e2e
0003a7 002e      	.DB  0x6C,0x61,0x73,0x68,0x2E,0x2E,0x2E,0x0
0003a8 0a0d
0003a9 6146
0003aa 6c69
0003ab 6465      	.DB  0xD,0xA,0x46,0x61,0x69,0x6C,0x65,0x64
0003ac 7420
0003ad 206f
0003ae 6576
0003af 6972      	.DB  0x20,0x74,0x6F,0x20,0x76,0x65,0x72,0x69
0003b0 7966
0003b1 6320
0003b2 6968
0003b3 0070      	.DB  0x66,0x79,0x20,0x63,0x68,0x69,0x70,0x0
0003b4 6146
0003b5 6c69
0003b6 6465
0003b7 7420      	.DB  0x46,0x61,0x69,0x6C,0x65,0x64,0x20,0x74
0003b8 206f
0003b9 6576
0003ba 6972
0003bb 7966      	.DB  0x6F,0x20,0x76,0x65,0x72,0x69,0x66,0x79
0003bc 4400
0003bd 6e6f
0003be 2e65
0003bf 0a0d      	.DB  0x0,0x44,0x6F,0x6E,0x65,0x2E,0xD,0xA
0003c0 6c46
0003c1 7361
0003c2 2068
0003c3 6576      	.DB  0x46,0x6C,0x61,0x73,0x68,0x20,0x76,0x65
0003c4 6972
0003c5 6966
0003c6 6465
0003c7 6320      	.DB  0x72,0x69,0x66,0x69,0x65,0x64,0x20,0x63
0003c8 726f
0003c9 6572
0003ca 7463
0003cb 796c      	.DB  0x6F,0x72,0x72,0x65,0x63,0x74,0x6C,0x79
0003cc 2120
0003cd 2121
0003ce 0d00
0003cf 4e0a      	.DB  0x20,0x21,0x21,0x21,0x0,0xD,0xA,0x4E
0003d0 726f
0003d1 616d
0003d2 206c
0003d3 7546      	.DB  0x6F,0x72,0x6D,0x61,0x6C,0x20,0x46,0x75
0003d4 6573
0003d5 2073
0003d6 6166
0003d7 6c69      	.DB  0x73,0x65,0x73,0x20,0x66,0x61,0x69,0x6C
0003d8 0d00
0003d9 4e0a
0003da 726f
0003db 616d      	.DB  0x0,0xD,0xA,0x4E,0x6F,0x72,0x6D,0x61
0003dc 206c
0003dd 7566
0003de 6573
0003df 2073      	.DB  0x6C,0x20,0x66,0x75,0x73,0x65,0x73,0x20
0003e0 7277
0003e1 7469
0003e2 6e69
0003e3 2067      	.DB  0x77,0x72,0x69,0x74,0x69,0x6E,0x67,0x20
0003e4 6f64
0003e5 656e
0003e6 002e
0003e7 0a0d      	.DB  0x64,0x6F,0x6E,0x65,0x2E,0x0,0xD,0xA
0003e8 6f4e
0003e9 6d72
0003ea 6c61
0003eb 6620      	.DB  0x4E,0x6F,0x72,0x6D,0x61,0x6C,0x20,0x66
0003ec 7375
0003ed 7365
0003ee 7620
0003ef 7265      	.DB  0x75,0x73,0x65,0x73,0x20,0x76,0x65,0x72
0003f0 6669
0003f1 6569
0003f2 2064
0003f3 6f63      	.DB  0x69,0x66,0x69,0x65,0x64,0x20,0x63,0x6F
0003f4 7272
0003f5 6365
0003f6 6c74
0003f7 2079      	.DB  0x72,0x72,0x65,0x63,0x74,0x6C,0x79,0x20
0003f8 2121
0003f9 0021
0003fa 0a0d
0003fb 654c      	.DB  0x21,0x21,0x21,0x0,0xD,0xA,0x4C,0x65
0003fc 7661
0003fd 6e69
0003fe 2067
0003ff 7270      	.DB  0x61,0x76,0x69,0x6E,0x67,0x20,0x70,0x72
000400 676f
000401 6172
000402 6d6d
000403 6e69      	.DB  0x6F,0x67,0x72,0x61,0x6D,0x6D,0x69,0x6E
000404 2067
000405 6f6d
000406 6564
000407 2e2e      	.DB  0x67,0x20,0x6D,0x6F,0x64,0x65,0x2E,0x2E
000408 202e
000409 2000
00040a 4b4f
00040b 0a2e      	.DB  0x2E,0x20,0x0,0x20,0x4F,0x4B,0x2E,0xA
00040c 4600
00040d 6961
00040e 656c
00040f 2e64      	.DB  0x0,0x46,0x61,0x69,0x6C,0x65,0x64,0x2E
000410 0d00
000411 460a
000412 616c
000413 6873      	.DB  0x0,0xD,0xA,0x46,0x6C,0x61,0x73,0x68
000414 6e69
000415 2067
000416 7266
000417 6d6f      	.DB  0x69,0x6E,0x67,0x20,0x66,0x72,0x6F,0x6D
000418 7320
000419 6364
00041a 7261
00041b 2064      	.DB  0x20,0x73,0x64,0x63,0x61,0x72,0x64,0x20
00041c 6146
00041d 6c69
00041e 6465
00041f 2e20      	.DB  0x46,0x61,0x69,0x6C,0x65,0x64,0x20,0x2E
000420 0a0d
000421 0d00
000422 530a
000423 4344      	.DB  0xD,0xA,0x0,0xD,0xA,0x53,0x44,0x43
000424 5241
000425 2044
000426 6146
000427 6c69      	.DB  0x41,0x52,0x44,0x20,0x46,0x61,0x69,0x6C
000428 6465
000429 2e20
00042a 0a0d
00042b 7000      	.DB  0x65,0x64,0x20,0x2E,0xD,0xA,0x0,0x70
00042c 6f72
00042d 656a
00042e 7463
00042f 742e      	.DB  0x72,0x6F,0x6A,0x65,0x63,0x74,0x2E,0x74
000430 7478
000431 6620
000432 6c69
000433 2065      	.DB  0x78,0x74,0x20,0x66,0x69,0x6C,0x65,0x20
000434 696d
000435 7373
000436 6e69
000437 2067      	.DB  0x6D,0x69,0x73,0x73,0x69,0x6E,0x67,0x20
000438 726f
000439 6320
00043a 726f
00043b 7572      	.DB  0x6F,0x72,0x20,0x63,0x6F,0x72,0x72,0x75
00043c 7470
00043d 6465
00043e 0d2e
00043f 000a      	.DB  0x70,0x74,0x65,0x64,0x2E,0xD,0xA,0x0
000440 0a0d
000441 6c46
000442 7361
000443 6968      	.DB  0xD,0xA,0x46,0x6C,0x61,0x73,0x68,0x69
000444 676e
000445 6620
000446 6f72
000447 206d      	.DB  0x6E,0x67,0x20,0x66,0x72,0x6F,0x6D,0x20
000448 6473
000449 6163
00044a 6472
00044b 5020      	.DB  0x73,0x64,0x63,0x61,0x72,0x64,0x20,0x50
00044c 7361
00044d 6573
00044e 2064
00044f 7525      	.DB  0x61,0x73,0x73,0x65,0x64,0x20,0x25,0x75
000450 0d2e
000451 000a
000452 7553
000453 6363      	.DB  0x2E,0xD,0xA,0x0,0x53,0x75,0x63,0x63
000454 7365
000455 2173
000456 2020
000457 4200      	.DB  0x65,0x73,0x73,0x21,0x20,0x20,0x0,0x42
000458 6461
000459 6320
00045a 6568
00045b 6b63      	.DB  0x61,0x64,0x20,0x63,0x68,0x65,0x63,0x6B
00045c 7573
00045d 3a6d
00045e 0020
00045f 6f4e      	.DB  0x73,0x75,0x6D,0x3A,0x20,0x0,0x4E,0x6F
000460 6520
000461 646e
000462 6f20
000463 2066      	.DB  0x20,0x65,0x6E,0x64,0x20,0x6F,0x66,0x20
000464 696c
000465 656e
000466 5600
000467 7265      	.DB  0x6C,0x69,0x6E,0x65,0x0,0x56,0x65,0x72
000468 6669
000469 6e69
00046a 2067
00046b 6c66      	.DB  0x69,0x66,0x69,0x6E,0x67,0x20,0x66,0x6C
00046c 7361
00046d 2e68
00046e 002e
00046f 6f4e      	.DB  0x61,0x73,0x68,0x2E,0x2E,0x0,0x4E,0x6F
000470 6320
000471 6c6f
000472 6e6f
000473 7600      	.DB  0x20,0x63,0x6F,0x6C,0x6F,0x6E,0x0,0x76
000474 7265
000475 6669
000476 6369
000477 7461      	.DB  0x65,0x72,0x69,0x66,0x69,0x63,0x61,0x74
000478 6f69
000479 206e
00047a 7265
00047b 6f72      	.DB  0x69,0x6F,0x6E,0x20,0x65,0x72,0x72,0x6F
00047c 2072
00047d 7461
00047e 6120
00047f 6464      	.DB  0x72,0x20,0x61,0x74,0x20,0x61,0x64,0x64
000480 6572
000481 7373
000482 3020
000483 2578      	.DB  0x72,0x65,0x73,0x73,0x20,0x30,0x78,0x25
000484 0058
000485 5320
000486 6f68
000487 6c75      	.DB  0x58,0x0,0x20,0x53,0x68,0x6F,0x75,0x6C
000488 2064
000489 6562
00048a 3020
00048b 2578      	.DB  0x64,0x20,0x62,0x65,0x20,0x30,0x78,0x25
00048c 0058
00048d 6e20
00048e 746f
00048f 3020      	.DB  0x58,0x0,0x20,0x6E,0x6F,0x74,0x20,0x30
000490 2578
000491 0058
000492 0052
000493 0a0d      	.DB  0x78,0x25,0x58,0x0,0x52,0x0,0xD,0xA
000494 3d30
000495 3025
000496 7832
000497 3120      	.DB  0x30,0x3D,0x25,0x30,0x32,0x78,0x20,0x31
000498 253d
000499 3230
00049a 2078
00049b 0d20      	.DB  0x3D,0x25,0x30,0x32,0x78,0x20,0x20,0xD
00049c 000a
00049d 0a0d
00049e 6553
00049f 7474      	.DB  0xA,0x0,0xD,0xA,0x53,0x65,0x74,0x74
0004a0 6e69
0004a1 2067
0004a2 7566
0004a3 6573      	.DB  0x69,0x6E,0x67,0x20,0x66,0x75,0x73,0x65
0004a4 0073
0004a5 0a0d
0004a6 2020
0004a7 6553      	.DB  0x73,0x0,0xD,0xA,0x20,0x20,0x53,0x65
0004a8 2074
0004a9 6f4c
0004aa 2077
0004ab 7546      	.DB  0x74,0x20,0x4C,0x6F,0x77,0x20,0x46,0x75
0004ac 6573
0004ad 2073
0004ae 6f74
0004af 203a      	.DB  0x73,0x65,0x73,0x20,0x74,0x6F,0x3A,0x20
0004b0 7830
0004b1 3025
0004b2 7832
0004b3 0d00      	.DB  0x30,0x78,0x25,0x30,0x32,0x78,0x0,0xD
0004b4 200a
0004b5 5320
0004b6 7465
0004b7 4820      	.DB  0xA,0x20,0x20,0x53,0x65,0x74,0x20,0x48
0004b8 6769
0004b9 2068
0004ba 7546
0004bb 6573      	.DB  0x69,0x67,0x68,0x20,0x46,0x75,0x73,0x65
0004bc 7420
0004bd 3a6f
0004be 3020
0004bf 2578      	.DB  0x20,0x74,0x6F,0x3A,0x20,0x30,0x78,0x25
0004c0 3230
0004c1 0078
0004c2 0a0d
0004c3 2020      	.DB  0x30,0x32,0x78,0x0,0xD,0xA,0x20,0x20
0004c4 6553
0004c5 2074
0004c6 7845
0004c7 2074      	.DB  0x53,0x65,0x74,0x20,0x45,0x78,0x74,0x20
0004c8 7546
0004c9 6573
0004ca 7420
0004cb 3a6f      	.DB  0x46,0x75,0x73,0x65,0x20,0x74,0x6F,0x3A
0004cc 3020
0004cd 2578
0004ce 3230
0004cf 0078      	.DB  0x20,0x30,0x78,0x25,0x30,0x32,0x78,0x0
0004d0 0a0d
0004d1 2020
0004d2 6553
0004d3 2074      	.DB  0xD,0xA,0x20,0x20,0x53,0x65,0x74,0x20
0004d4 6f4c
0004d5 6b63
0004d6 4620
0004d7 7375      	.DB  0x4C,0x6F,0x63,0x6B,0x20,0x46,0x75,0x73
0004d8 2065
0004d9 6f74
0004da 203a
0004db 7830      	.DB  0x65,0x20,0x74,0x6F,0x3A,0x20,0x30,0x78
0004dc 3025
0004dd 7832
0004de 0d00
0004df 560a      	.DB  0x25,0x30,0x32,0x78,0x0,0xD,0xA,0x56
0004e0 7265
0004e1 6669
0004e2 6979
0004e3 676e      	.DB  0x65,0x72,0x69,0x66,0x79,0x69,0x6E,0x67
0004e4 6620
0004e5 7375
0004e6 7365
0004e7 2e2e      	.DB  0x20,0x66,0x75,0x73,0x65,0x73,0x2E,0x2E
0004e8 002e
0004e9 6556
0004ea 6972
0004eb 7966      	.DB  0x2E,0x0,0x56,0x65,0x72,0x69,0x66,0x79
0004ec 6e69
0004ed 2067
0004ee 7566
0004ef 6573      	.DB  0x69,0x6E,0x67,0x20,0x66,0x75,0x73,0x65
0004f0 2e73
0004f1 4600
0004f2 0d00
0004f3 200a      	.DB  0x73,0x2E,0x0,0x46,0x0,0xD,0xA,0x20
0004f4 4c20
0004f5 776f
0004f6 4620
0004f7 7375      	.DB  0x20,0x4C,0x6F,0x77,0x20,0x46,0x75,0x73
0004f8 2065
0004f9 7257
0004fa 7469
0004fb 6e65      	.DB  0x65,0x20,0x57,0x72,0x69,0x74,0x65,0x6E
0004fc 203a
0004fd 7830
0004fe 3025
0004ff 7832      	.DB  0x3A,0x20,0x30,0x78,0x25,0x30,0x32,0x78
000500 0d00
000501 200a
000502 4c20
000503 776f      	.DB  0x0,0xD,0xA,0x20,0x20,0x4C,0x6F,0x77
000504 4620
000505 7375
000506 2065
000507 6552      	.DB  0x20,0x46,0x75,0x73,0x65,0x20,0x52,0x65
000508 6461
000509 6465
00050a 203a
00050b 7830      	.DB  0x61,0x64,0x65,0x64,0x3A,0x20,0x30,0x78
00050c 3025
00050d 7832
00050e 4e00
00050f 0d00      	.DB  0x25,0x30,0x32,0x78,0x0,0x4E,0x0,0xD
000510 200a
000511 4820
000512 6769
000513 2068      	.DB  0xA,0x20,0x20,0x48,0x69,0x67,0x68,0x20
000514 7546
000515 6573
000516 5720
000517 6972      	.DB  0x46,0x75,0x73,0x65,0x20,0x57,0x72,0x69
000518 6574
000519 3a6e
00051a 3020
00051b 2578      	.DB  0x74,0x65,0x6E,0x3A,0x20,0x30,0x78,0x25
00051c 3230
00051d 0078
00051e 0a0d
00051f 2020      	.DB  0x30,0x32,0x78,0x0,0xD,0xA,0x20,0x20
000520 6948
000521 6867
000522 4620
000523 7375      	.DB  0x48,0x69,0x67,0x68,0x20,0x46,0x75,0x73
000524 2065
000525 6552
000526 6461
000527 6465      	.DB  0x65,0x20,0x52,0x65,0x61,0x64,0x65,0x64
000528 203a
000529 7830
00052a 3025
00052b 7832      	.DB  0x3A,0x20,0x30,0x78,0x25,0x30,0x32,0x78
00052c 4f00
00052d 0d00
00052e 200a
00052f 4520      	.DB  0x0,0x4F,0x0,0xD,0xA,0x20,0x20,0x45
000530 7478
000531 4620
000532 7375
000533 2065      	.DB  0x78,0x74,0x20,0x46,0x75,0x73,0x65,0x20
000534 7257
000535 7469
000536 6e65
000537 203a      	.DB  0x57,0x72,0x69,0x74,0x65,0x6E,0x3A,0x20
000538 7830
000539 3025
00053a 7832
00053b 0d00      	.DB  0x30,0x78,0x25,0x30,0x32,0x78,0x0,0xD
00053c 200a
00053d 4520
00053e 7478
00053f 4620      	.DB  0xA,0x20,0x20,0x45,0x78,0x74,0x20,0x46
000540 7375
000541 2065
000542 6552
000543 6461      	.DB  0x75,0x73,0x65,0x20,0x52,0x65,0x61,0x64
000544 6465
000545 203a
000546 7830
000547 3025      	.DB  0x65,0x64,0x3A,0x20,0x30,0x78,0x25,0x30
000548 7832
000549 5100
00054a 0d00
00054b 200a      	.DB  0x32,0x78,0x0,0x51,0x0,0xD,0xA,0x20
00054c 4c20
00054d 636f
00054e 206b
00054f 7546      	.DB  0x20,0x4C,0x6F,0x63,0x6B,0x20,0x46,0x75
000550 6573
000551 5720
000552 6972
000553 6574      	.DB  0x73,0x65,0x20,0x57,0x72,0x69,0x74,0x65
000554 3a6e
000555 3020
000556 2578
000557 3230      	.DB  0x6E,0x3A,0x20,0x30,0x78,0x25,0x30,0x32
000558 0078
000559 0a0d
00055a 2020
00055b 6f4c      	.DB  0x78,0x0,0xD,0xA,0x20,0x20,0x4C,0x6F
00055c 6b63
00055d 4620
00055e 7375
00055f 2065      	.DB  0x63,0x6B,0x20,0x46,0x75,0x73,0x65,0x20
000560 6552
000561 6461
000562 6465
000563 203a      	.DB  0x52,0x65,0x61,0x64,0x65,0x64,0x3A,0x20
000564 7830
000565 3025
000566 7832
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1480): warning: .cseg .db misalignment - padding zero byte
000567 0000      	.DB  0x30,0x78,0x25,0x30,0x32,0x78,0x0
                 _0x60020:
000568 3a30
000569 312f
00056a 2f30
00056b 6966      	.DB  0x30,0x3A,0x2F,0x31,0x30,0x2F,0x66,0x69
00056c 656c
00056d 3231
00056e 3433
00056f 742e      	.DB  0x6C,0x65,0x31,0x32,0x33,0x34,0x2E,0x74
000570 7478      	.DB  0x78,0x74
                 _0x60000:
000571 4600
000572 5f52
000573 4944
000574 4b53      	.DB  0x0,0x46,0x52,0x5F,0x44,0x49,0x53,0x4B
000575 455f
000576 5252
000577 4600
000578 5f52      	.DB  0x5F,0x45,0x52,0x52,0x0,0x46,0x52,0x5F
000579 4e49
00057a 5f54
00057b 5245
00057c 0052      	.DB  0x49,0x4E,0x54,0x5F,0x45,0x52,0x52,0x0
00057d 5246
00057e 4e5f
00057f 544f
000580 525f      	.DB  0x46,0x52,0x5F,0x4E,0x4F,0x54,0x5F,0x52
000581 4145
000582 5944
000583 4600
000584 5f52      	.DB  0x45,0x41,0x44,0x59,0x0,0x46,0x52,0x5F
000585 4f4e
000586 465f
000587 4c49
000588 0045      	.DB  0x4E,0x4F,0x5F,0x46,0x49,0x4C,0x45,0x0
000589 5246
00058a 4e5f
00058b 5f4f
00058c 4150      	.DB  0x46,0x52,0x5F,0x4E,0x4F,0x5F,0x50,0x41
00058d 4854
00058e 4600
00058f 5f52
000590 4e49      	.DB  0x54,0x48,0x0,0x46,0x52,0x5F,0x49,0x4E
000591 4156
000592 494c
000593 5f44
000594 414e      	.DB  0x56,0x41,0x4C,0x49,0x44,0x5F,0x4E,0x41
000595 454d
000596 4600
000597 5f52
000598 4544      	.DB  0x4D,0x45,0x0,0x46,0x52,0x5F,0x44,0x45
000599 494e
00059a 4445
00059b 4600
00059c 5f52      	.DB  0x4E,0x49,0x45,0x44,0x0,0x46,0x52,0x5F
00059d 5845
00059e 5349
00059f 0054
0005a0 5246      	.DB  0x45,0x58,0x49,0x53,0x54,0x0,0x46,0x52
0005a1 495f
0005a2 564e
0005a3 4c41
0005a4 4449      	.DB  0x5F,0x49,0x4E,0x56,0x41,0x4C,0x49,0x44
0005a5 4f5f
0005a6 4a42
0005a7 4345
0005a8 0054      	.DB  0x5F,0x4F,0x42,0x4A,0x45,0x43,0x54,0x0
0005a9 5246
0005aa 575f
0005ab 4952
0005ac 4554      	.DB  0x46,0x52,0x5F,0x57,0x52,0x49,0x54,0x45
0005ad 505f
0005ae 4f52
0005af 4554
0005b0 5443      	.DB  0x5F,0x50,0x52,0x4F,0x54,0x45,0x43,0x54
0005b1 4445
0005b2 4600
0005b3 5f52
0005b4 4e49      	.DB  0x45,0x44,0x0,0x46,0x52,0x5F,0x49,0x4E
0005b5 4156
0005b6 494c
0005b7 5f44
0005b8 5244      	.DB  0x56,0x41,0x4C,0x49,0x44,0x5F,0x44,0x52
0005b9 5649
0005ba 0045
0005bb 5246
0005bc 4e5f      	.DB  0x49,0x56,0x45,0x0,0x46,0x52,0x5F,0x4E
0005bd 544f
0005be 455f
0005bf 414e
0005c0 4c42      	.DB  0x4F,0x54,0x5F,0x45,0x4E,0x41,0x42,0x4C
0005c1 4445
0005c2 4600
0005c3 5f52
0005c4 4f4e      	.DB  0x45,0x44,0x0,0x46,0x52,0x5F,0x4E,0x4F
0005c5 465f
0005c6 4c49
0005c7 5345
0005c8 5359      	.DB  0x5F,0x46,0x49,0x4C,0x45,0x53,0x59,0x53
0005c9 4554
0005ca 004d
0005cb 5246
0005cc 4d5f      	.DB  0x54,0x45,0x4D,0x0,0x46,0x52,0x5F,0x4D
0005cd 464b
0005ce 5f53
0005cf 4241
0005d0 524f      	.DB  0x4B,0x46,0x53,0x5F,0x41,0x42,0x4F,0x52
0005d1 4554
0005d2 0044
0005d3 5246
0005d4 545f      	.DB  0x54,0x45,0x44,0x0,0x46,0x52,0x5F,0x54
0005d5 4d49
0005d6 4f45
0005d7 5455
0005d8 0d00      	.DB  0x49,0x4D,0x45,0x4F,0x55,0x54,0x0,0xD
0005d9 450a
0005da 5252
0005db 524f
0005dc 2520      	.DB  0xA,0x45,0x52,0x52,0x4F,0x52,0x20,0x25
0005dd 3a64
0005de 2520
0005df 0070
0005e0 0a0d      	.DB  0x64,0x3A,0x20,0x25,0x70,0x0,0xD,0xA
0005e1 5053
0005e2 2049
0005e3 6e49
0005e4 7469      	.DB  0x53,0x50,0x49,0x20,0x49,0x6E,0x69,0x74
0005e5 4620
0005e6 6961
0005e7 656c
0005e8 2e64      	.DB  0x20,0x46,0x61,0x69,0x6C,0x65,0x64,0x2E
0005e9 5220
0005ea 7465
0005eb 7275
0005ec 206e      	.DB  0x20,0x52,0x65,0x74,0x75,0x72,0x6E,0x20
0005ed 7473
0005ee 7461
0005ef 7375
0005f0 2520      	.DB  0x73,0x74,0x61,0x74,0x75,0x73,0x20,0x25
0005f1 2e64
0005f2 0a0d
0005f3 4400
0005f4 7369      	.DB  0x64,0x2E,0xD,0xA,0x0,0x44,0x69,0x73
0005f5 206b
0005f6 6e69
0005f7 7469
0005f8 6620      	.DB  0x6B,0x20,0x69,0x6E,0x69,0x74,0x20,0x66
0005f9 6961
0005fa 656c
0005fb 0064
0005fc 6143      	.DB  0x61,0x69,0x6C,0x65,0x64,0x0,0x43,0x61
0005fd 6472
0005fe 6e20
0005ff 746f
000600 7020      	.DB  0x72,0x64,0x20,0x6E,0x6F,0x74,0x20,0x70
000601 6572
000602 6573
000603 746e
000604 4300      	.DB  0x72,0x65,0x73,0x65,0x6E,0x74,0x0,0x43
000605 7261
000606 2064
000607 7277
000608 7469      	.DB  0x61,0x72,0x64,0x20,0x77,0x72,0x69,0x74
000609 0a65
00060a 7270
00060b 746f
00060c 6365      	.DB  0x65,0xA,0x70,0x72,0x6F,0x74,0x65,0x63
00060d 6574
00060e 0064
00060f 6143
000610 6472      	.DB  0x74,0x65,0x64,0x0,0x43,0x61,0x72,0x64
000611 7720
000612 6972
000613 6574
000614 7020      	.DB  0x20,0x77,0x72,0x69,0x74,0x65,0x20,0x70
000615 6f72
000616 0074
000617 0a0d
000618 6f4c      	.DB  0x72,0x6F,0x74,0x0,0xD,0xA,0x4C,0x6F
000619 6967
00061a 6163
00061b 206c
00061c 7264      	.DB  0x67,0x69,0x63,0x61,0x6C,0x20,0x64,0x72
00061d 7669
00061e 2065
00061f 3a30
000620 6d20      	.DB  0x69,0x76,0x65,0x20,0x30,0x3A,0x20,0x6D
000621 756f
000622 746e
000623 6465
000624 4f20      	.DB  0x6F,0x75,0x6E,0x74,0x65,0x64,0x20,0x4F
000625 0d4b
000626 000a
000627 0a0d
000628 6d74      	.DB  0x4B,0xD,0xA,0x0,0xD,0xA,0x74,0x6D
000629 6970
00062a 616d
00062b 6567
00062c 522e      	.DB  0x70,0x69,0x6D,0x61,0x67,0x65,0x2E,0x52
00062d 6c6f
00062e 436c
00062f 756f
000630 746e      	.DB  0x6F,0x6C,0x6C,0x43,0x6F,0x75,0x6E,0x74
000631 7265
000632 253d
000633 2c64
000634 0020      	.DB  0x65,0x72,0x3D,0x25,0x64,0x2C,0x20,0x0
000635 0a0d
000636 6f52
000637 6c6c
000638 6f43      	.DB  0xD,0xA,0x52,0x6F,0x6C,0x6C,0x43,0x6F
000639 6e75
00063a 6574
00063b 5472
00063c 436f      	.DB  0x75,0x6E,0x74,0x65,0x72,0x54,0x6F,0x43
00063d 6568
00063e 6b63
00063f 253d
000640 2c64      	.DB  0x68,0x65,0x63,0x6B,0x3D,0x25,0x64,0x2C
000641 0020
000642 735b
000643 7465
000644 6974      	.DB  0x20,0x0,0x5B,0x73,0x65,0x74,0x74,0x69
000645 676e
000646 5d73
000647 0d00
000648 250a      	.DB  0x6E,0x67,0x73,0x5D,0x0,0xD,0xA,0x25
000649 3d64
00064a 3025
00064b 7832
00064c 202c      	.DB  0x64,0x3D,0x25,0x30,0x32,0x78,0x2C,0x20
00064d 3025
00064e 7832
00064f 0020
000650 0a0d      	.DB  0x25,0x30,0x32,0x78,0x20,0x0,0xD,0xA
000651 6425
000652 253d
000653 3230
000654 2c78      	.DB  0x25,0x64,0x3D,0x25,0x30,0x32,0x78,0x2C
000655 2520
000656 0063
000657 0a0d
000658 7325      	.DB  0x20,0x25,0x63,0x0,0xD,0xA,0x25,0x73
000659 7200
00065a 6c6f
00065b 636c
00065c 756f      	.DB  0x0,0x72,0x6F,0x6C,0x6C,0x63,0x6F,0x75
00065d 746e
00065e 7265
00065f 0d00
000660 250a      	.DB  0x6E,0x74,0x65,0x72,0x0,0xD,0xA,0x25
000661 2070
000662 656b
000663 2079
000664 6f6e      	.DB  0x70,0x20,0x6B,0x65,0x79,0x20,0x6E,0x6F
000665 2074
000666 6f66
000667 6e75
000668 2e64      	.DB  0x74,0x20,0x66,0x6F,0x75,0x6E,0x64,0x2E
000669 4600
00066a 756f
00066b 646e
00066c 4b20      	.DB  0x0,0x46,0x6F,0x75,0x6E,0x64,0x20,0x4B
00066d 7965
00066e 7220
00066f 6c6f
000670 636c      	.DB  0x65,0x79,0x20,0x72,0x6F,0x6C,0x6C,0x63
000671 756f
000672 746e
000673 7265
000674 0d00      	.DB  0x6F,0x75,0x6E,0x74,0x65,0x72,0x0,0xD
000675 250a
000676 2070
000677 654b
000678 2079      	.DB  0xA,0x25,0x70,0x20,0x4B,0x65,0x79,0x20
000679 6f6e
00067a 2074
00067b 6f66
00067c 6e75      	.DB  0x6E,0x6F,0x74,0x20,0x66,0x6F,0x75,0x6E
00067d 2e64
00067e 0d00
00067f 460a
000680 756f      	.DB  0x64,0x2E,0x0,0xD,0xA,0x46,0x6F,0x75
000681 646e
000682 4b20
000683 7965
000684 2520      	.DB  0x6E,0x64,0x20,0x4B,0x65,0x79,0x20,0x25
000685 3d70
000686 7325
000687 002e
000688 002f      	.DB  0x70,0x3D,0x25,0x73,0x2E,0x0,0x2F,0x0
000689 642e
00068a 7461
00068b 0d00
00068c 460a      	.DB  0x2E,0x64,0x61,0x74,0x0,0xD,0xA,0x46
00068d 6c69
00068e 2065
00068f 7325
000690 6f20      	.DB  0x69,0x6C,0x65,0x20,0x25,0x73,0x20,0x6F
000691 6570
000692 656e
000693 2064
000694 4b4f      	.DB  0x70,0x65,0x6E,0x65,0x64,0x20,0x4F,0x4B
000695 0d2e
000696 000a
000697 0a0d
000698 7257      	.DB  0x2E,0xD,0xA,0x0,0xD,0xA,0x57,0x72
000699 6e6f
00069a 2067
00069b 6170
00069c 6874      	.DB  0x6F,0x6E,0x67,0x20,0x70,0x61,0x74,0x68
00069d 203a
00069e 7325
00069f 0a0d
0006a0 2f00      	.DB  0x3A,0x20,0x25,0x73,0xD,0xA,0x0,0x2F
0006a1 6f63
0006a2 666e
0006a3 6769
0006a4 692e      	.DB  0x63,0x6F,0x6E,0x66,0x69,0x67,0x2E,0x69
0006a5 696e
0006a6 2000
0006a7 6f46
0006a8 6e75      	.DB  0x6E,0x69,0x0,0x20,0x46,0x6F,0x75,0x6E
0006a9 2064
0006aa 654b
0006ab 2079
0006ac 7025      	.DB  0x64,0x20,0x4B,0x65,0x79,0x20,0x25,0x70
0006ad 253d
0006ae 2e73
0006af 0a0d
0006b0 4e00      	.DB  0x3D,0x25,0x73,0x2E,0xD,0xA,0x0,0x4E
0006b1 206f
0006b2 6f63
0006b3 666e
0006b4 6769      	.DB  0x6F,0x20,0x63,0x6F,0x6E,0x66,0x69,0x67
0006b5 692e
0006b6 696e
0006b7 2f00
0006b8 2f31      	.DB  0x2E,0x69,0x6E,0x69,0x0,0x2F,0x31,0x2F
0006b9 7270
0006ba 6a6f
0006bb 6365
0006bc 2e74      	.DB  0x70,0x72,0x6F,0x6A,0x65,0x63,0x74,0x2E
0006bd 7874
0006be 0074
0006bf 0a0d
0006c0 7277      	.DB  0x74,0x78,0x74,0x0,0xD,0xA,0x77,0x72
0006c1 6e6f
0006c2 2067
0006c3 6170
0006c4 6874      	.DB  0x6F,0x6E,0x67,0x20,0x70,0x61,0x74,0x68
0006c5 203a
0006c6 7325
0006c7 0a0d
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1571): warning: .cseg .db misalignment - padding zero byte
0006c8 0000      	.DB  0x3A,0x20,0x25,0x73,0xD,0xA,0x0
                 _0x2000003:
0006c9 c080      	.DB  0x80,0xC0
                 _0x2020060:
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1575): warning: .cseg .db misalignment - padding zero byte
0006ca 0001      	.DB  0x1
                 _0x2020000:
0006cb 4e2d
0006cc 4e41
0006cd 4900
0006ce 464e      	.DB  0x2D,0x4E,0x41,0x4E,0x0,0x49,0x4E,0x46
D:\MyProjects\My_AVR_Programmer\AVRispSD\m328_m64_ISP_SDCARD_V23_roll\List\ispUART.asm(1578): warning: .cseg .db misalignment - padding zero byte
0006cf 0000      	.DB  0x0
                 
                 __GLOBAL_INI_TBL:
0006d0 0001      	.DW  0x01
0006d1 000b      	.DW  0x0B
0006d2 01b8      	.DW  __REG_VARS*2
                 
0006d3 0012      	.DW  0x12
0006d4 081f      	.DW  _path
0006d5 0ad0      	.DW  _0x60020*2
                 
0006d6 0002      	.DW  0x02
0006d7 0837      	.DW  __base_y_G100
0006d8 0d92      	.DW  _0x2000003*2
                 
0006d9 0001      	.DW  0x01
0006da 083e      	.DW  __seed_G101
0006db 0d94      	.DW  _0x2020060*2
                 
                 _0xFFFFFFFF:
0006dc 0000      	.DW  0
                 
                 #define __GLOBAL_INI_TBL_PRESENT 1
                 
                 __RESET:
0006dd 94f8      	CLI
0006de 27ee      	CLR  R30
0006df bbef      	OUT  EECR,R30
                 
                 ;INTERRUPT VECTORS ARE PLACED
                 ;AT THE START OF FLASH
0006e0 e0f1      	LDI  R31,1
0006e1 bff5      	OUT  MCUCR,R31
0006e2 bfe5      	OUT  MCUCR,R30
                 
                 ;DISABLE WATCHDOG
0006e3 e1f8      	LDI  R31,0x18
0006e4 95a8      	WDR
0006e5 b7a4      	IN   R26,MCUSR
0006e6 7fa7      	CBR  R26,8
0006e7 bfa4      	OUT  MCUSR,R26
0006e8 93f0 0060 	STS  WDTCSR,R31
0006ea 93e0 0060 	STS  WDTCSR,R30
                 
                 ;CLEAR R2-R14
0006ec e08d      	LDI  R24,(14-2)+1
0006ed e0a2      	LDI  R26,2
0006ee 27bb      	CLR  R27
                 __CLEAR_REG:
0006ef 93ed      	ST   X+,R30
0006f0 958a      	DEC  R24
0006f1 f7e9      	BRNE __CLEAR_REG
                 
                 ;CLEAR SRAM
0006f2 e080      	LDI  R24,LOW(__CLEAR_SRAM_SIZE)
0006f3 e098      	LDI  R25,HIGH(__CLEAR_SRAM_SIZE)
0006f4 e0a0      	LDI  R26,LOW(__SRAM_START)
0006f5 e0b1      	LDI  R27,HIGH(__SRAM_START)
                 __CLEAR_SRAM:
0006f6 93ed      	ST   X+,R30
0006f7 9701      	SBIW R24,1
0006f8 f7e9      	BRNE __CLEAR_SRAM
                 
                 ;GLOBAL VARIABLES INITIALIZATION
0006f9 eae0      	LDI  R30,LOW(__GLOBAL_INI_TBL*2)
0006fa e0fd      	LDI  R31,HIGH(__GLOBAL_INI_TBL*2)
                 __GLOBAL_INI_NEXT:
0006fb 9185      	LPM  R24,Z+
0006fc 9195      	LPM  R25,Z+
0006fd 9700      	SBIW R24,0
0006fe f061      	BREQ __GLOBAL_INI_END
0006ff 91a5      	LPM  R26,Z+
000700 91b5      	LPM  R27,Z+
000701 9005      	LPM  R0,Z+
000702 9015      	LPM  R1,Z+
000703 01bf      	MOVW R22,R30
000704 01f0      	MOVW R30,R0
                 __GLOBAL_INI_LOOP:
000705 9005      	LPM  R0,Z+
000706 920d      	ST   X+,R0
000707 9701      	SBIW R24,1
000708 f7e1      	BRNE __GLOBAL_INI_LOOP
000709 01fb      	MOVW R30,R22
00070a cff0      	RJMP __GLOBAL_INI_NEXT
                 __GLOBAL_INI_END:
                 
                 ;GPIOR0 INITIALIZATION
00070b e0e0      	LDI  R30,__GPIOR0_INIT
00070c bbee      	OUT  GPIOR0,R30
                 
                 ;HARDWARE STACK POINTER INITIALIZATION
00070d efef      	LDI  R30,LOW(__SRAM_END-__HEAP_SIZE)
00070e bfed      	OUT  SPL,R30
00070f e0e8      	LDI  R30,HIGH(__SRAM_END-__HEAP_SIZE)
000710 bfee      	OUT  SPH,R30
                 
                 ;DATA STACK POINTER INITIALIZATION
000711 e0c0      	LDI  R28,LOW(__SRAM_START+__DSTACK_SIZE)
000712 e0d3      	LDI  R29,HIGH(__SRAM_START+__DSTACK_SIZE)
                 
000713 940c 0791 	JMP  _main
                 
                 	.ESEG
                 	.ORG 0
                 
                 	.DSEG
                 	.ORG 0x300
                 
                 	.CSEG
                 ;/*****************************************************
                 ;This program was produced by the
                 ;CodeWizardAVR V2.05.0 Professional
                 ;Automatic Program Generator
                 ; Copyright 1998-2010 Pavel Haiduc, HP InfoTech s.r.l.
                 ;http://www.hpinfotech.com
                 ;
                 ;Project : Standalone avr isp programmer for use with sdcard  lcd  maybe m64
                 ;Version : 12  isp pinout changed to port d to improve lcd progress
                 ;Date    : 06/25/2015
                 ;Author  : Mark Reznik
                 ;Company :
                 ;Comments: Based on usb avrprog from PROTTOSS
                 ;V18:    fixed fusemask to 1's instead 0's
                 ;        freq changed to 12MHz
                 ;        fixed up/down/start buttons
                 ;V19:    Buttons rotated. but not stable response
                 ;V21:    RC1.
                 ;
                 ;
                 ;Chip type               : ATmega328
                 ;Program type            : Application
                 ;AVR Core Clock frequency: 12.000000 MHz
                 ;Memory model            : Small 2048
                 ;External RAM size       : 0
                 ;Data Stack size         : 256
                 ;*****************************************************/
                 ;#define FW_VER  "23a"//rolling
                 ;#include "common.h"
                 	#ifndef __SLEEP_DEFINED__
                 	#define __SLEEP_DEFINED__
                 	.EQU __se_bit=0x01
                 	.EQU __sm_mask=0x0E
                 	.EQU __sm_adc_noise_red=0x02
                 	.EQU __sm_powerdown=0x04
                 	.EQU __sm_powersave=0x06
                 	.EQU __sm_standby=0x0C
                 	.EQU __sm_ext_standby=0x0E
                 	.SET power_ctrl_reg=smcr
                 	#endif
                 ;
                 ;#ifdef PRINT_DEBUG
                 ;
                 ;#ifndef RXB8
                 ;#define RXB8 1
                 ;#endif
                 ;
                 ;#ifndef TXB8
                 ;#define TXB8 0
                 ;#endif
                 ;
                 ;#ifndef UPE
                 ;#define UPE 2
                 ;#endif
                 ;
                 ;#ifndef DOR
                 ;#define DOR 3
                 ;#endif
                 ;
                 ;#ifndef FE
                 ;#define FE 4
                 ;#endif
                 ;
                 ;#ifndef UDRE
                 ;#define UDRE 5
                 ;#endif
                 ;
                 ;#ifndef RXC
                 ;#define RXC 7
                 ;#endif
                 ;
                 ;#define FRAMING_ERROR (1<<FE)
                 ;#define PARITY_ERROR (1<<UPE)
                 ;#define DATA_OVERRUN (1<<DOR)
                 ;#define DATA_REGISTER_EMPTY (1<<UDRE)
                 ;#define RX_COMPLETE (1<<RXC)
                 ;
                 ;// USART Receiver buffer
                 ;#define RX_BUFFER_SIZE 8
                 ;char rx_buffer[RX_BUFFER_SIZE];
                 ;
                 ;#if RX_BUFFER_SIZE <= 256
                 ;unsigned char rx_wr_index,rx_rd_index,rx_counter;
                 ;#else
                 ;unsigned int rx_wr_index,rx_rd_index,rx_counter;
                 ;#endif
                 ;
                 ;// This flag is set on USART Receiver buffer overflow
                 ;bit rx_buffer_overflow;
                 ;
                 ;// USART Receiver interrupt service routine
                 ;#ifdef _MEGA64_INCLUDED_
                 ;interrupt [USART0_RXC] void usart_rx_isr(void)
                 ;#else
                 ;interrupt [USART_RXC] void usart_rx_isr(void)
                 ; 0000 0055 #endif
                 ; 0000 0056 {
                 
                 	.CSEG
                 _usart_rx_isr:
                 ; .FSTART _usart_rx_isr
000715 93ea      	ST   -Y,R30
000716 93fa      	ST   -Y,R31
000717 b7ef      	IN   R30,SREG
000718 93ea      	ST   -Y,R30
                 ; 0000 0057 char status,data;
                 ; 0000 0058 status=UCSR0A;
000719 931a      	ST   -Y,R17
00071a 930a      	ST   -Y,R16
                 ;	status -> R17
                 ;	data -> R16
00071b 9110 00c0 	LDS  R17,192
                 ; 0000 0059 data=UDR0;
00071d 9100 00c6 	LDS  R16,198
                 ; 0000 005A if ((status & (FRAMING_ERROR | PARITY_ERROR | DATA_OVERRUN))==0)
00071f 2fe1      	MOV  R30,R17
000720 71ec      	ANDI R30,LOW(0x1C)
000721 f481      	BRNE _0x3
                 ; 0000 005B    {
                 ; 0000 005C    rx_buffer[rx_wr_index++]=data;
000722 2de5      	MOV  R30,R5
000723 9453      	INC  R5
000724 e0f0      	LDI  R31,0
000725 5aeb      	SUBI R30,LOW(-_rx_buffer)
000726 4ff9      	SBCI R31,HIGH(-_rx_buffer)
000727 8300      	ST   Z,R16
                 ; 0000 005D #if RX_BUFFER_SIZE == 256
                 ; 0000 005E    // special case for receiver buffer size=256
                 ; 0000 005F    if (++rx_counter == 0)
                 ; 0000 0060       {
                 ; 0000 0061 #else
                 ; 0000 0062    if (rx_wr_index == RX_BUFFER_SIZE) rx_wr_index=0;
000728 e0e8      	LDI  R30,LOW(8)
000729 15e5      	CP   R30,R5
00072a f409      	BRNE _0x4
00072b 2455      	CLR  R5
                 ; 0000 0063    if (++rx_counter == RX_BUFFER_SIZE)
                 _0x4:
00072c 9473      	INC  R7
00072d e0e8      	LDI  R30,LOW(8)
00072e 15e7      	CP   R30,R7
00072f f411      	BRNE _0x5
                 ; 0000 0064       {
                 ; 0000 0065       rx_counter=0;
000730 2477      	CLR  R7
                 ; 0000 0066 #endif
                 ; 0000 0067       rx_buffer_overflow=1;
000731 9af0      	SBI  0x1E,0
                 ; 0000 0068       }
                 ; 0000 0069    }
                 _0x5:
                 ; 0000 006A }
                 _0x3:
000732 9109      	LD   R16,Y+
000733 9119      	LD   R17,Y+
000734 c029      	RJMP _0xB1
                 ; .FEND
                 ;
                 ;#ifndef _DEBUG_TERMINAL_IO_
                 ;// Get a character from the USART Receiver buffer
                 ;#define _ALTERNATE_GETCHAR_
                 ;#pragma used+
                 ;char getchar(void)
                 ; 0000 0071 {
                 _getchar:
                 ; .FSTART _getchar
                 ; 0000 0072 char data;
                 ; 0000 0073 while (rx_counter==0);
000735 931a      	ST   -Y,R17
                 ;	data -> R17
                 _0x8:
000736 2077      	TST  R7
000737 f3f1      	BREQ _0x8
                 ; 0000 0074 data=rx_buffer[rx_rd_index++];
000738 2de4      	MOV  R30,R4
000739 9443      	INC  R4
00073a e0f0      	LDI  R31,0
00073b 5aeb      	SUBI R30,LOW(-_rx_buffer)
00073c 4ff9      	SBCI R31,HIGH(-_rx_buffer)
00073d 8110      	LD   R17,Z
                 ; 0000 0075 #if RX_BUFFER_SIZE != 256
                 ; 0000 0076 if (rx_rd_index == RX_BUFFER_SIZE) rx_rd_index=0;
00073e e0e8      	LDI  R30,LOW(8)
00073f 15e4      	CP   R30,R4
000740 f409      	BRNE _0xB
000741 2444      	CLR  R4
                 ; 0000 0077 #endif
                 ; 0000 0078 #asm("cli")
                 _0xB:
000742 94f8      	cli
                 ; 0000 0079 --rx_counter;
000743 947a      	DEC  R7
                 ; 0000 007A #asm("sei")
000744 9478      	sei
                 ; 0000 007B return data;
000745 2fe1      	MOV  R30,R17
000746 c29f      	RJMP _0x20C0031
                 ; 0000 007C }
                 ; .FEND
                 ;#pragma used-
                 ;#endif
                 ;
                 ;// USART Transmitter buffer
                 ;#define TX_BUFFER_SIZE 128
                 ;char tx_buffer[TX_BUFFER_SIZE];
                 ;
                 ;#if TX_BUFFER_SIZE <= 256
                 ;unsigned char tx_wr_index,tx_rd_index,tx_counter;
                 ;#else
                 ;unsigned int tx_wr_index,tx_rd_index,tx_counter;
                 ;#endif
                 ;
                 ;// USART Transmitter interrupt service routine
                 ;#ifdef _MEGA64_INCLUDED_
                 ;interrupt [USART0_TXC] void usart_tx_isr(void)
                 ;#else
                 ;interrupt [USART_TXC] void usart_tx_isr(void)
                 ; 0000 008F #endif
                 ; 0000 0090 {
                 _usart_tx_isr:
                 ; .FSTART _usart_tx_isr
000747 93ea      	ST   -Y,R30
000748 93fa      	ST   -Y,R31
000749 b7ef      	IN   R30,SREG
00074a 93ea      	ST   -Y,R30
                 ; 0000 0091 if (tx_counter)
00074b 91e0 0643 	LDS  R30,_tx_counter
00074d 30e0      	CPI  R30,0
00074e f079      	BREQ _0xC
                 ; 0000 0092    {
                 ; 0000 0093    --tx_counter;
00074f 50e1      	SUBI R30,LOW(1)
000750 93e0 0643 	STS  _tx_counter,R30
                 ; 0000 0094    UDR0=tx_buffer[tx_rd_index++];
000752 2de9      	MOV  R30,R9
000753 9493      	INC  R9
000754 e0f0      	LDI  R31,0
000755 5ae3      	SUBI R30,LOW(-_tx_buffer)
000756 4ff9      	SBCI R31,HIGH(-_tx_buffer)
000757 81e0      	LD   R30,Z
000758 93e0 00c6 	STS  198,R30
                 ; 0000 0095 #if TX_BUFFER_SIZE != 256
                 ; 0000 0096    if (tx_rd_index == TX_BUFFER_SIZE) tx_rd_index=0;
00075a e8e0      	LDI  R30,LOW(128)
00075b 15e9      	CP   R30,R9
00075c f409      	BRNE _0xD
00075d 2499      	CLR  R9
                 ; 0000 0097 #endif
                 ; 0000 0098    }
                 _0xD:
                 ; 0000 0099 }
                 _0xC:
                 _0xB1:
00075e 91e9      	LD   R30,Y+
00075f bfef      	OUT  SREG,R30
000760 91f9      	LD   R31,Y+
000761 91e9      	LD   R30,Y+
000762 9518      	RETI
                 ; .FEND
                 ;
                 ;#ifndef _DEBUG_TERMINAL_IO_
                 ;// Write a character to the USART Transmitter buffer
                 ;#define _ALTERNATE_PUTCHAR_
                 ;#pragma used+
                 ;void putchar(char c)
                 ; 0000 00A0 {
                 _putchar:
                 ; .FSTART _putchar
                 ; 0000 00A1 while (tx_counter == TX_BUFFER_SIZE);
                 ;	c -> Y+0
                 _0xE:
000763 91a0 0643 	LDS  R26,_tx_counter
000765 38a0      	CPI  R26,LOW(0x80)
000766 f3e1      	BREQ _0xE
                 ; 0000 00A2 #asm("cli")
000767 94f8      	cli
                 ; 0000 00A3 if (tx_counter || ((UCSR0A & DATA_REGISTER_EMPTY)==0))
000768 91e0 0643 	LDS  R30,_tx_counter
00076a 30e0      	CPI  R30,0
00076b f421      	BRNE _0x12
00076c 91e0 00c0 	LDS  R30,192
00076e 72e0      	ANDI R30,LOW(0x20)
00076f f489      	BRNE _0x11
                 _0x12:
                 ; 0000 00A4    {
                 ; 0000 00A5    tx_buffer[tx_wr_index++]=c;
000770 2de6      	MOV  R30,R6
000771 9463      	INC  R6
000772 e0f0      	LDI  R31,0
000773 5ae3      	SUBI R30,LOW(-_tx_buffer)
000774 4ff9      	SBCI R31,HIGH(-_tx_buffer)
000775 81a8      	LD   R26,Y
000776 83a0      	STD  Z+0,R26
                 ; 0000 00A6 #if TX_BUFFER_SIZE != 256
                 ; 0000 00A7    if (tx_wr_index == TX_BUFFER_SIZE) tx_wr_index=0;
000777 e8e0      	LDI  R30,LOW(128)
000778 15e6      	CP   R30,R6
000779 f409      	BRNE _0x14
00077a 2466      	CLR  R6
                 ; 0000 00A8 #endif
                 ; 0000 00A9    ++tx_counter;
                 _0x14:
00077b 91e0 0643 	LDS  R30,_tx_counter
00077d 5fef      	SUBI R30,-LOW(1)
00077e 93e0 0643 	STS  _tx_counter,R30
                 ; 0000 00AA    }
                 ; 0000 00AB else
000780 c003      	RJMP _0x15
                 _0x11:
                 ; 0000 00AC    UDR0=c;
000781 81e8      	LD   R30,Y
000782 93e0 00c6 	STS  198,R30
                 ; 0000 00AD #asm("sei")
                 _0x15:
000784 9478      	sei
                 ; 0000 00AE }
000785 9621      	ADIW R28,1
000786 9508      	RET
                 ; .FEND
                 ;#pragma used-
                 ;#endif
                 ;
                 ;#endif //end of PRINT_DEBUG
                 ;
                 ;/*ADC defines*/
                 ;enum
                 ;{   BUTTONS_RELEASED=0,
                 ;    BUTTON_START,
                 ;    BUTTON_STOP,
                 ;    BUTTON_UP,
                 ;    BUTTON_DOWN,
                 ;    BUTTONS_PRESSED
                 ;}Buttons;
                 ;
                 ;// Declare your global variables here
                 ;char lcdnum[16];
                 ;UCHAR CanTestButtons=FALSE;
                 ;
                 ;UCHAR CurrentButton=BUTTONS_PRESSED;
                 ;
                 ;#define MAX_BUTTONS     4
                 ;#define ADC_VREF_TYPE   0x20
                 ;
                 ;volatile unsigned char adc_data;
                 ;volatile BOOL ADC_DONE;
                 ;
                 ;
                 ;
                 ;#define NUM_OF_TICKS    100//ticks to measure long button press.  Max long press=NUM_OF_TICKS*TICK_DELAY=100*50=5sec
                 ;#define TICK_DELAY      50//50ms delay between ticks
                 ;// ADC interrupt service routine
                 ;interrupt [ADC_INT] void adc_isr(void)
                 ; 0000 00D0 {
                 _adc_isr:
                 ; .FSTART _adc_isr
000787 93ea      	ST   -Y,R30
                 ; 0000 00D1     // Read the 8 most significant bits  (Vref*(1/1))1024=(11,1111,11)11=FF , (Vref*(1/2))512=(01,1111,11)11=7F (Vref*(1 ...
                 ; 0000 00D2     // of the AD conversion result
                 ; 0000 00D3     ADC_DONE=TRUE;
000788 e0e1      	LDI  R30,LOW(1)
000789 93e0 06de 	STS  _ADC_DONE,R30
                 ; 0000 00D4     adc_data=ADCH;
00078b 91e0 0079 	LDS  R30,121
00078d 93e0 06dd 	STS  _adc_data,R30
                 ; 0000 00D5     // Place your code here
                 ; 0000 00D6 }
00078f 91e9      	LD   R30,Y+
000790 9518      	RETI
                 ; .FEND
                 ;
                 ;
                 ;// Standard Input/Output functions
                 ;#include <stdio.h>
                 ;
                 ;void main(void)
                 ; 0000 00DD {
                 _main:
                 ; .FSTART _main
                 ; 0000 00DE // Declare your local variables here
                 ; 0000 00DF UINT i;//blink led loops
                 ; 0000 00E0 // Crystal Oscillator division factor: 1
                 ; 0000 00E1 #ifdef _MEGA328_INCLUDED_
                 ; 0000 00E2 #pragma optsize-
                 ; 0000 00E3 CLKPR=0x80;
                 ; 0000 00E4 CLKPR=0x00;
                 ; 0000 00E5 #ifdef _OPTIMIZE_SIZE_
                 ; 0000 00E6 #pragma optsize+
                 ; 0000 00E7 #endif
                 ; 0000 00E8 #endif
                 ; 0000 00E9 // Port B initialization
                 ; 0000 00EA // Func7=In Func6=In Func5=In Func4=In Func3=In Func2=In Func1=In Func0=In
                 ; 0000 00EB // State7=T State6=T State5=T State4=T State3=T State2=T State1=T State0=T
                 ; 0000 00EC PORTB=0x00;
                 ;	i -> R16,R17
000791 e0e0      	LDI  R30,LOW(0)
000792 b9e5      	OUT  0x5,R30
                 ; 0000 00ED DDRB=0x00;
000793 b9e4      	OUT  0x4,R30
                 ; 0000 00EE 
                 ; 0000 00EF // Port C initialization
                 ; 0000 00F0 // Func7=In Func6=In Func5=In Func4=In Func3=In Func2=In Func1=In Func0=In
                 ; 0000 00F1 // State7=T State6=T State5=T State4=T State3=T State2=T State1=T State0=T
                 ; 0000 00F2 PORTC=0x00;
000794 b9e8      	OUT  0x8,R30
                 ; 0000 00F3 DDRC=0x00;
000795 b9e7      	OUT  0x7,R30
                 ; 0000 00F4 
                 ; 0000 00F5 // Port D initialization
                 ; 0000 00F6 // Func7=In Func6=In Func5=In Func4=In Func3=In Func2=In Func1=In Func0=In
                 ; 0000 00F7 // State7=T State6=T State5=T State4=T State3=T State2=T State1=T State0=T
                 ; 0000 00F8 PORTD=0x00;
000796 b9eb      	OUT  0xB,R30
                 ; 0000 00F9 DDRD=0x00;
000797 b9ea      	OUT  0xA,R30
                 ; 0000 00FA 
                 ; 0000 00FB // Timer/Counter 0 initialization
                 ; 0000 00FC // Clock source: System Clock
                 ; 0000 00FD // Clock value: Timer 0 Stopped
                 ; 0000 00FE // Mode: Normal top=0xFF
                 ; 0000 00FF // OC0A output: Disconnected
                 ; 0000 0100 // OC0B output: Disconnected
                 ; 0000 0101 #ifdef _MEGA64_INCLUDED_
                 ; 0000 0102 ASSR=0x00;
                 ; 0000 0103 TCCR0=0x00;
                 ; 0000 0104 TCNT0=0x00;
                 ; 0000 0105 OCR0=0x00;
                 ; 0000 0106 #else
                 ; 0000 0107 TCCR0A=0x00;
000798 bde4      	OUT  0x24,R30
                 ; 0000 0108 TCCR0B=0x00;
000799 bde5      	OUT  0x25,R30
                 ; 0000 0109 TCNT0=0x00;
00079a bde6      	OUT  0x26,R30
                 ; 0000 010A OCR0A=0x00;
00079b bde7      	OUT  0x27,R30
                 ; 0000 010B OCR0B=0x00;
00079c bde8      	OUT  0x28,R30
                 ; 0000 010C #endif
                 ; 0000 010D // Timer/Counter 1 initialization
                 ; 0000 010E // Clock source: System Clock
                 ; 0000 010F // Clock value: Timer1 Stopped
                 ; 0000 0110 // Mode: Normal top=0xFFFF
                 ; 0000 0111 // OC1A output: Discon.
                 ; 0000 0112 // OC1B output: Discon.
                 ; 0000 0113 // Noise Canceler: Off
                 ; 0000 0114 // Input Capture on Falling Edge
                 ; 0000 0115 // Timer1 Overflow Interrupt: Off
                 ; 0000 0116 // Input Capture Interrupt: Off
                 ; 0000 0117 // Compare A Match Interrupt: Off
                 ; 0000 0118 // Compare B Match Interrupt: Off
                 ; 0000 0119 TCCR1A=0x00;
00079d 93e0 0080 	STS  128,R30
                 ; 0000 011A TCCR1B=0x00;
00079f 93e0 0081 	STS  129,R30
                 ; 0000 011B TCNT1H=0x00;
0007a1 93e0 0085 	STS  133,R30
                 ; 0000 011C TCNT1L=0x00;
0007a3 93e0 0084 	STS  132,R30
                 ; 0000 011D ICR1H=0x00;
0007a5 93e0 0087 	STS  135,R30
                 ; 0000 011E ICR1L=0x00;
0007a7 93e0 0086 	STS  134,R30
                 ; 0000 011F OCR1AH=0x00;
0007a9 93e0 0089 	STS  137,R30
                 ; 0000 0120 OCR1AL=0x00;
0007ab 93e0 0088 	STS  136,R30
                 ; 0000 0121 OCR1BH=0x00;
0007ad 93e0 008b 	STS  139,R30
                 ; 0000 0122 OCR1BL=0x00;
0007af 93e0 008a 	STS  138,R30
                 ; 0000 0123 
                 ; 0000 0124 // Timer/Counter 2 initialization
                 ; 0000 0125 // Clock source: System Clock
                 ; 0000 0126 // Clock value: Timer2 Stopped
                 ; 0000 0127 // Mode: Normal top=0xFF
                 ; 0000 0128 // OC2A output: Disconnected
                 ; 0000 0129 // OC2B output: Disconnected
                 ; 0000 012A #ifdef _MEGA64_INCLUDED_
                 ; 0000 012B TCCR2=0x00;
                 ; 0000 012C TCNT2=0x00;
                 ; 0000 012D OCR2=0x00;
                 ; 0000 012E #else
                 ; 0000 012F ASSR=0x00;
0007b1 93e0 00b6 	STS  182,R30
                 ; 0000 0130 TCCR2A=0x00;
0007b3 93e0 00b0 	STS  176,R30
                 ; 0000 0131 TCCR2B=0x00;
0007b5 93e0 00b1 	STS  177,R30
                 ; 0000 0132 TCNT2=0x00;
0007b7 93e0 00b2 	STS  178,R30
                 ; 0000 0133 OCR2A=0x00;
0007b9 93e0 00b3 	STS  179,R30
                 ; 0000 0134 OCR2B=0x00;
0007bb 93e0 00b4 	STS  180,R30
                 ; 0000 0135 #endif
                 ; 0000 0136 // External Interrupt(s) initialization
                 ; 0000 0137 // INT0: Off
                 ; 0000 0138 // INT1: Off
                 ; 0000 0139 // Interrupt on any change on pins PCINT0-7: Off
                 ; 0000 013A // Interrupt on any change on pins PCINT8-14: Off
                 ; 0000 013B // Interrupt on any change on pins PCINT16-23: Off
                 ; 0000 013C EICRA=0x00;
0007bd 93e0 0069 	STS  105,R30
                 ; 0000 013D EIMSK=0x00;
0007bf bbed      	OUT  0x1D,R30
                 ; 0000 013E #ifdef _MEGA64_INCLUDED_
                 ; 0000 013F EICRA=0x00;
                 ; 0000 0140 EICRB=0x00;
                 ; 0000 0141 EIMSK=0x00;
                 ; 0000 0142 #else
                 ; 0000 0143 PCICR=0x00;
0007c0 93e0 0068 	STS  104,R30
                 ; 0000 0144 #endif
                 ; 0000 0145 #ifdef _MEGA64_INCLUDED_
                 ; 0000 0146 TIMSK=0x00;
                 ; 0000 0147 ETIMSK=0x00;
                 ; 0000 0148 #else
                 ; 0000 0149 // Timer/Counter 0 Interrupt(s) initialization
                 ; 0000 014A TIMSK0=0x00;
0007c2 93e0 006e 	STS  110,R30
                 ; 0000 014B 
                 ; 0000 014C // Timer/Counter 1 Interrupt(s) initialization
                 ; 0000 014D TIMSK1=0x00;
0007c4 93e0 006f 	STS  111,R30
                 ; 0000 014E 
                 ; 0000 014F // Timer/Counter 2 Interrupt(s) initialization
                 ; 0000 0150 TIMSK2=0x00;
0007c6 93e0 0070 	STS  112,R30
                 ; 0000 0151 #endif
                 ; 0000 0152 #ifdef PRINT_DEBUG
                 ; 0000 0153 // USART initialization
                 ; 0000 0154 // Communication Parameters: 8 Data, 1 Stop, No Parity
                 ; 0000 0155 // USART Receiver: On
                 ; 0000 0156 // USART Transmitter: On
                 ; 0000 0157 // USART0 Mode: Asynchronous
                 ; 0000 0158 // USART Baud Rate: 9600
                 ; 0000 0159 UCSR0A=0x00;
0007c8 93e0 00c0 	STS  192,R30
                 ; 0000 015A UCSR0B=0xD8;
0007ca ede8      	LDI  R30,LOW(216)
0007cb 93e0 00c1 	STS  193,R30
                 ; 0000 015B UCSR0C=0x06;
0007cd e0e6      	LDI  R30,LOW(6)
0007ce 93e0 00c2 	STS  194,R30
                 ; 0000 015C UBRR0H=0x00;
0007d0 e0e0      	LDI  R30,LOW(0)
0007d1 93e0 00c5 	STS  197,R30
                 ; 0000 015D //UBRR0L=0x33; //9600 for 8Mhz osc
                 ; 0000 015E UBRR0L=0x4D; //9600 for 12Mhz osc
0007d3 e4ed      	LDI  R30,LOW(77)
0007d4 93e0 00c4 	STS  196,R30
                 ; 0000 015F //UBRR0L=0x67; //9600 for 16Mhz osc
                 ; 0000 0160 #endif
                 ; 0000 0161 
                 ; 0000 0162 // Analog Comparator initialization
                 ; 0000 0163 // Analog Comparator: Off
                 ; 0000 0164 // Analog Comparator Input Capture by Timer/Counter 1: Off
                 ; 0000 0165 ACSR=0x80;
0007d6 e8e0      	LDI  R30,LOW(128)
0007d7 bfe0      	OUT  0x30,R30
                 ; 0000 0166 ADCSRB=0x00;
0007d8 e0e0      	LDI  R30,LOW(0)
0007d9 93e0 007b 	STS  123,R30
                 ; 0000 0167 #ifndef _MEGA64_INCLUDED_
                 ; 0000 0168 DIDR1=0x00;
0007db 93e0 007f 	STS  127,R30
                 ; 0000 0169 #endif
                 ; 0000 016A // ADC initialization
                 ; 0000 016B // ADC Clock frequency: 1000.000 kHz
                 ; 0000 016C // ADC Voltage Reference: AREF pin
                 ; 0000 016D // ADC Auto Trigger Source: ADC Stopped
                 ; 0000 016E // Only the 8 most significant bits of
                 ; 0000 016F // the AD conversion result are used
                 ; 0000 0170 // Digital input buffers on ADC0: On, ADC1: On, ADC2: On, ADC3: On
                 ; 0000 0171 // ADC4: On, ADC5: On
                 ; 0000 0172 #ifndef _MEGA64_INCLUDED_
                 ; 0000 0173 DIDR0=0x00;
0007dd 93e0 007e 	STS  126,R30
                 ; 0000 0174 #endif
                 ; 0000 0175 ADMUX=ADC_VREF_TYPE & 0xff;
0007df e2e0      	LDI  R30,LOW(32)
0007e0 93e0 007c 	STS  124,R30
                 ; 0000 0176 ADCSRA=0x8B;
0007e2 e8eb      	LDI  R30,LOW(139)
0007e3 93e0 007a 	STS  122,R30
                 ; 0000 0177 
                 ; 0000 0178 // SPI initialization
                 ; 0000 0179 // SPI disabled
                 ; 0000 017A SPCR=0x00;
0007e5 e0e0      	LDI  R30,LOW(0)
0007e6 bdec      	OUT  0x2C,R30
                 ; 0000 017B 
                 ; 0000 017C // TWI initialization
                 ; 0000 017D // TWI disabled
                 ; 0000 017E TWCR=0x00;
0007e7 93e0 00bc 	STS  188,R30
                 ; 0000 017F 
                 ; 0000 0180 ADC_DONE=TRUE;
0007e9 e0e1      	LDI  R30,LOW(1)
0007ea 93e0 06de 	STS  _ADC_DONE,R30
                 ; 0000 0181 AVR910_Init();
0007ec 940e 0af9 	CALL _AVR910_Init
                 ; 0000 0182 init_sd_tim1();
0007ee 940e 1c13 	CALL _init_sd_tim1
                 ; 0000 0183 BUZ_INIT();
0007f0 9a56      	SBI  0xA,6
0007f1 985e      	CBI  0xB,6
                 ; 0000 0184 debug=1;
0007f2 e0e1      	LDI  R30,LOW(1)
0007f3 93e0 03af 	STS  _debug,R30
                 ; 0000 0185 // Global enable interrupts
                 ; 0000 0186 #asm("sei")
0007f5 9478      	sei
                 ; 0000 0187 #ifdef PRINT_DEBUG
                 ; 0000 0188 if(debug)printf("Init done. Current folder is %d.\r\n",dirnum);
0007f6 91e0 03af 	LDS  R30,_debug
0007f8 30e0      	CPI  R30,0
0007f9 f021      	BREQ _0x1A
                +
0007fa ebea     +LDI R30 , LOW ( 2 * _0x0 + ( 0 ) )
0007fb e0f1     +LDI R31 , HIGH ( 2 * _0x0 + ( 0 ) )
                 	__POINTW1FN _0x0,0
0007fc 940e 2db2 	CALL SUBOPT_0x0
                 ; 0000 0189 #endif
                 ; 0000 018A g_UpSkip=1;
                 _0x1A:
0007fe e0e1      	LDI  R30,LOW(1)
0007ff 93e0 040f 	STS  _g_UpSkip,R30
                 ; 0000 018B g_DownSkip=1;
000801 93e0 0410 	STS  _g_DownSkip,R30
                 ; 0000 018C g_MaxFolders=4;
000803 e0e4      	LDI  R30,LOW(4)
000804 93e0 0411 	STS  _g_MaxFolders,R30
                 ; 0000 018D #ifdef PRINT_LCD
                 ; 0000 018E lcd_init(16);
000806 e1e0      	LDI  R30,LOW(16)
000807 93ea      	ST   -Y,R30
000808 940e 2a32 	CALL _lcd_init
                 ; 0000 018F lcd_gotoxy(0,0);
00080a 940e 2dc0 	CALL SUBOPT_0x1
00080c 940e 29d1 	CALL _lcd_gotoxy
                 ; 0000 0190 lcd_putsf("AVR ISP SD V");
                +
00080e eded     +LDI R30 , LOW ( 2 * _0x0 + ( 35 ) )
00080f e0f1     +LDI R31 , HIGH ( 2 * _0x0 + ( 35 ) )
                 	__POINTW1FN _0x0,35
000810 940e 2dc4 	CALL SUBOPT_0x2
                 ; 0000 0191 lcd_putsf(FW_VER);
                +
000812 eeea     +LDI R30 , LOW ( 2 * _0x0 + ( 48 ) )
000813 e0f1     +LDI R31 , HIGH ( 2 * _0x0 + ( 48 ) )
                 	__POINTW1FN _0x0,48
000814 940e 2dc4 	CALL SUBOPT_0x2
                 ; 0000 0192 
                 ; 0000 0193 #ifndef DEBUG_PROTEUS
                 ; 0000 0194 delay_ms(2000);
000816 940e 2dc8 	CALL SUBOPT_0x3
                 ; 0000 0195 #endif
                 ; 0000 0196 Call_GetConfig();
000818 940e 1252 	CALL _Call_GetConfig
                 ; 0000 0197 #endif
                 ; 0000 0198 if(SaveDirNum==0 || SaveDirNum>=(g_MaxFolders-1)) //reset eeprom last project directory
00081a 940e 2dce 	CALL SUBOPT_0x4
00081c 30e0      	CPI  R30,0
00081d f059      	BREQ _0x1C
00081e 940e 2dce 	CALL SUBOPT_0x4
000820 2fae      	MOV  R26,R30
000821 91e0 0411 	LDS  R30,_g_MaxFolders
000823 e0f0      	LDI  R31,0
000824 9731      	SBIW R30,1
000825 e0b0      	LDI  R27,0
000826 17ae      	CP   R26,R30
000827 07bf      	CPC  R27,R31
000828 f02c      	BRLT _0x1B
                 _0x1C:
                 ; 0000 0199     SaveDirNum=1;
000829 e0a5      	LDI  R26,LOW(_SaveDirNum)
00082a e0b0      	LDI  R27,HIGH(_SaveDirNum)
00082b e0e1      	LDI  R30,LOW(1)
00082c 940e 356b 	CALL __EEPROMWRB
                 ; 0000 019A dirnum=SaveDirNum;
                 _0x1B:
00082e 940e 2dce 	CALL SUBOPT_0x4
000830 93e0 03b0 	STS  _dirnum,R30
                 ; 0000 019B if(SaveLockState>1)
000832 940e 2dd3 	CALL SUBOPT_0x5
000834 30e2      	CPI  R30,LOW(0x2)
000835 f028      	BRLO _0x1E
                 ; 0000 019C     SaveLockState=0;
000836 e0a6      	LDI  R26,LOW(_SaveLockState)
000837 e0b0      	LDI  R27,HIGH(_SaveLockState)
000838 e0e0      	LDI  R30,LOW(0)
000839 940e 356b 	CALL __EEPROMWRB
                 ; 0000 019D #ifdef PRINT_LCD
                 ; 0000 019E lcd_GetProgName(0);
                 _0x1E:
00083b 940e 2dd8 	CALL SUBOPT_0x6
                 ; 0000 019F #endif
                 ; 0000 01A0     while (1)
                 _0x1F:
                 ; 0000 01A1     {
                 ; 0000 01A2       delay_us(1000);
                +
00083d eb88     +LDI R24 , LOW ( 3000 )
00083e e09b     +LDI R25 , HIGH ( 3000 )
                +__DELAY_USW_LOOP :
00083f 9701     +SBIW R24 , 1
000840 f7f1     +BRNE __DELAY_USW_LOOP
                 	__DELAY_USW 3000
                 ; 0000 01A3       // Place your code here
                 ; 0000 01A4       #ifdef PRINT_DEBUG
                 ; 0000 01A5       //check if uart received some bytes
                 ; 0000 01A6       if(rx_counter){
000841 2077      	TST  R7
000842 f041      	BREQ _0x22
                 ; 0000 01A7         while(rx_counter)//move the received bytes to FIFO
                 _0x23:
000843 2077      	TST  R7
000844 f029      	BREQ _0x25
                 ; 0000 01A8             FIFO_Write(getchar());
000845 deef      	RCALL _getchar
000846 93ea      	ST   -Y,R30
000847 940e 106e 	CALL _FIFO_Write
000849 cff9      	RJMP _0x23
                 _0x25:
                 ; 0000 01AA AVR910_Command();
00084a d2c0      	RCALL _AVR910_Command
                 ; 0000 01AB       }
                 ; 0000 01AC       //check if some UART bytes waiting to send
                 ; 0000 01AD       AVR910_SendRxToUart();
                 _0x22:
00084b 940e 0c70 	CALL _AVR910_SendRxToUart
                 ; 0000 01AE       #endif
                 ; 0000 01AF 
                 ; 0000 01B0       //check if program button was pressed
                 ; 0000 01B1       if(CanTestButtons==0){
00084d 91e0 0654 	LDS  R30,_CanTestButtons
00084f 30e0      	CPI  R30,0
000850 f411      	BRNE _0x26
                 ; 0000 01B2         CanTestButtons=TestButton(BUTTONS_RELEASED);
000851 940e 2ddc 	CALL SUBOPT_0x7
                 ; 0000 01B3         #ifdef DEBUG_BUTTONS;
                 ; 0000 01B4         lcd_putsf_row(0,"Cannot test");
                 ; 0000 01B5         #endif
                 ; 0000 01B6       }
                 ; 0000 01B7       if(CanTestButtons)
                 _0x26:
000853 91e0 0654 	LDS  R30,_CanTestButtons
000855 30e0      	CPI  R30,0
000856 f139      	BREQ _0x27
                 ; 0000 01B8       {
                 ; 0000 01B9          #ifdef DEBUG_BUTTONS;
                 ; 0000 01BA          lcd_putsf_row(0,"Mode ");
                 ; 0000 01BB          lcd_putchar(StandaloneMode+0x30);
                 ; 0000 01BC          delay_ms(10);
                 ; 0000 01BD          #endif
                 ; 0000 01BE          CanTestButtons=TestADCs();
000857 d220      	RCALL _TestADCs
000858 93e0 0654 	STS  _CanTestButtons,R30
                 ; 0000 01BF          switch(CanTestButtons)
00085a e0f0      	LDI  R31,0
                 ; 0000 01C0          {
                 ; 0000 01C1             case (1<<BUTTONS_RELEASED):CanTestButtons=1;
00085b 30e1      	CPI  R30,LOW(0x1)
00085c e0a0      	LDI  R26,HIGH(0x1)
00085d 07fa      	CPC  R31,R26
00085e f411      	BRNE _0x2B
00085f e0e1      	LDI  R30,LOW(1)
000860 c019      	RJMP _0xAE
                 ; 0000 01C2                 break;
                 ; 0000 01C3             case (1<<BUTTON_UP):UpButtonAction();
                 _0x2B:
000861 30e8      	CPI  R30,LOW(0x8)
000862 e0a0      	LDI  R26,HIGH(0x8)
000863 07fa      	CPC  R31,R26
000864 f411      	BRNE _0x2C
000865 d049      	RCALL _UpButtonAction
                 ; 0000 01C4                 break;
000866 c015      	RJMP _0x2A
                 ; 0000 01C5             case (1<<BUTTON_DOWN):DownButtonAction();
                 _0x2C:
000867 31e0      	CPI  R30,LOW(0x10)
000868 e0a0      	LDI  R26,HIGH(0x10)
000869 07fa      	CPC  R31,R26
00086a f411      	BRNE _0x2D
00086b d0dc      	RCALL _DownButtonAction
                 ; 0000 01C6                 break;
00086c c00f      	RJMP _0x2A
                 ; 0000 01C7             case (1<<BUTTON_START):StartButtonAction();
                 _0x2D:
00086d 30e2      	CPI  R30,LOW(0x2)
00086e e0a0      	LDI  R26,HIGH(0x2)
00086f 07fa      	CPC  R31,R26
000870 f411      	BRNE _0x2E
000871 d099      	RCALL _StartButtonAction
                 ; 0000 01C8                 break;
000872 c009      	RJMP _0x2A
                 ; 0000 01C9             case (1<<BUTTON_STOP):StopButtonAction();
                 _0x2E:
000873 30e4      	CPI  R30,LOW(0x4)
000874 e0a0      	LDI  R26,HIGH(0x4)
000875 07fa      	CPC  R31,R26
000876 f411      	BRNE _0x30
000877 d12d      	RCALL _StopButtonAction
                 ; 0000 01CA                 break;
000878 c003      	RJMP _0x2A
                 ; 0000 01CB             default:CanTestButtons=0;
                 _0x30:
000879 e0e0      	LDI  R30,LOW(0)
                 _0xAE:
00087a 93e0 0654 	STS  _CanTestButtons,R30
                 ; 0000 01CC                 break;
                 ; 0000 01CD          }
                 _0x2A:
                 ; 0000 01CE          CanTestButtons=TestButton(BUTTONS_RELEASED);
00087c 940e 2ddc 	CALL SUBOPT_0x7
                 ; 0000 01CF       }
                 ; 0000 01D0       if(StandaloneMode==IDLE || StandaloneMode==PASS){
                 _0x27:
00087e 91a0 03ae 	LDS  R26,_StandaloneMode
000880 30a0      	CPI  R26,LOW(0x0)
000881 f021      	BREQ _0x32
000882 91a0 03ae 	LDS  R26,_StandaloneMode
000884 30a1      	CPI  R26,LOW(0x1)
000885 f4c9      	BRNE _0x31
                 _0x32:
                 ; 0000 01D1         delay_ms(10);
000886 940e 2de3 	CALL SUBOPT_0x8
                 ; 0000 01D2         if(++CounterLed==250){
000888 940e 2de9 	CALL SUBOPT_0x9
00088a 3faa      	CPI  R26,LOW(0xFA)
00088b f439      	BRNE _0x34
                 ; 0000 01D3             CounterLed=0;
00088c e0e0      	LDI  R30,LOW(0)
00088d 93e0 0642 	STS  _CounterLed,R30
                 ; 0000 01D4             #ifdef PRINT_LCD
                 ; 0000 01D5             itoa(dirnum,lcdnum);
00088f 940e 2def 	CALL SUBOPT_0xA
                 ; 0000 01D6             lcd_puts_row(0,lcdnum);
                 ; 0000 01D7             lcd_putsf(".");
                 ; 0000 01D8             lcd_puts(tmpimage.progname);
000891 940e 2e05 	CALL SUBOPT_0xB
                 ; 0000 01D9             #endif
                 ; 0000 01DA         }
                 ; 0000 01DB         if(CounterLed==130){
                 _0x34:
000893 91a0 0642 	LDS  R26,_CounterLed
000895 38a2      	CPI  R26,LOW(0x82)
000896 f439      	BRNE _0x35
                 ; 0000 01DC             #ifdef PRINT_LCD
                 ; 0000 01DD             lcd_puts_row(0,tmpimage.fw_ver);
000897 e0e0      	LDI  R30,LOW(0)
000898 93ea      	ST   -Y,R30
                +
000899 efec     +LDI R30 , LOW ( _tmpimage + ( 75 ) )
00089a e0f3     +LDI R31 , HIGH ( _tmpimage + ( 75 ) )
                 	__POINTW1MN _tmpimage,75
00089b 93fa      	ST   -Y,R31
00089c 93ea      	ST   -Y,R30
00089d d1b7      	RCALL _lcd_puts_row
                 ; 0000 01DE             #endif
                 ; 0000 01DF         }
                 ; 0000 01E0       }
                 _0x35:
                 ; 0000 01E1       else if(StandaloneMode==FAIL || StandaloneMode==SDFAIL){
00089e c00e      	RJMP _0x36
                 _0x31:
00089f 91a0 03ae 	LDS  R26,_StandaloneMode
0008a1 30a2      	CPI  R26,LOW(0x2)
0008a2 f021      	BREQ _0x38
0008a3 91a0 03ae 	LDS  R26,_StandaloneMode
0008a5 30a4      	CPI  R26,LOW(0x4)
0008a6 f431      	BRNE _0x37
                 _0x38:
                 ; 0000 01E2            #ifdef PRINT_LCD
                 ; 0000 01E3            lcd_putsf_row(0,"Press Stop");
0008a7 e0e0      	LDI  R30,LOW(0)
0008a8 93ea      	ST   -Y,R30
                +
0008a9 efe0     +LDI R30 , LOW ( 2 * _0x0 + ( 54 ) )
0008aa e0f1     +LDI R31 , HIGH ( 2 * _0x0 + ( 54 ) )
                 	__POINTW1FN _0x0,54
0008ab 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0000 01E4            #endif
                 ; 0000 01E5       }
                 ; 0000 01E6     }//end while
                 _0x37:
                 _0x36:
0008ad cf8f      	RJMP _0x1F
                 ; 0000 01E7 }//end main
                 _0x3A:
0008ae cfff      	RJMP _0x3A
                 ; .FEND
                 ;void UpButtonAction()
                 ; 0000 01E9 {
                 _UpButtonAction:
                 ; .FSTART _UpButtonAction
                 ; 0000 01EA     char i;
                 ; 0000 01EB     #ifdef DEBUG_BUTTONS;
                 ; 0000 01EC     lcd_putsf_row(0,"Up");
                 ; 0000 01ED     #endif
                 ; 0000 01EE     if(StandaloneMode!=IDLE && StandaloneMode!=SDFAIL){
0008af 940e 2e0f 	CALL SUBOPT_0xD
                 ;	i -> R17
0008b1 f021      	BREQ _0x3C
0008b2 91a0 03ae 	LDS  R26,_StandaloneMode
0008b4 30a4      	CPI  R26,LOW(0x4)
0008b5 f409      	BRNE _0x3D
                 _0x3C:
0008b6 c003      	RJMP _0x3B
                 _0x3D:
                 ; 0000 01EF      Beeps(3,1);
0008b7 940e 2e14 	CALL SUBOPT_0xE
                 ; 0000 01F0      return;
0008b9 c12c      	RJMP _0x20C0031
                 ; 0000 01F1     }
                 ; 0000 01F2     if(SaveLockState!=0){
                 _0x3B:
0008ba 940e 2dd3 	CALL SUBOPT_0x5
0008bc 30e0      	CPI  R30,0
0008bd f029      	BREQ _0x3E
                 ; 0000 01F3         #ifdef PRINT_LCD
                 ; 0000 01F4         lcd_putsf_row(1,"List Locked");
0008be 940e 2e1a 	CALL SUBOPT_0xF
                 ; 0000 01F5         //delay_ms(500);
                 ; 0000 01F6         #endif
                 ; 0000 01F7         Beeps(3,1);
0008c0 940e 2e14 	CALL SUBOPT_0xE
                 ; 0000 01F8         return;
0008c2 c123      	RJMP _0x20C0031
                 ; 0000 01F9     }
                 ; 0000 01FA     for(i=NUM_OF_TICKS;i>0;i--){  //if up button pressed about 10 sec - unlock list function
                 _0x3E:
0008c3 e614      	LDI  R17,LOW(100)
                 _0x40:
0008c4 3011      	CPI  R17,1
0008c5 f064      	BRLT _0x41
                 ; 0000 01FB         delay_ms(TICK_DELAY);
0008c6 940e 2e1f 	CALL SUBOPT_0x10
                 ; 0000 01FC         if(TestButton(BUTTON_UP)==FALSE)
0008c8 e0e3      	LDI  R30,LOW(3)
0008c9 940e 2e25 	CALL SUBOPT_0x11
0008cb f031      	BREQ _0x41
                 ; 0000 01FD             break;
                 ; 0000 01FE         if(i==98)
0008cc 3612      	CPI  R17,98
0008cd f411      	BRNE _0x43
                 ; 0000 01FF             Beeps(1,1);
0008ce 940e 2e2a 	CALL SUBOPT_0x12
                 ; 0000 0200     }
                 _0x43:
0008d0 5011      	SUBI R17,1
0008d1 cff2      	RJMP _0x40
                 _0x41:
                 ; 0000 0201     if(i>98) //debounce
0008d2 3613      	CPI  R17,99
0008d3 f00c      	BRLT _0x44
                 ; 0000 0202         return;
0008d4 c111      	RJMP _0x20C0031
                 ; 0000 0203     if(i==0){
                 _0x44:
0008d5 3010      	CPI  R17,0
0008d6 f419      	BRNE _0x45
                 ; 0000 0204         Beeps(3,1);//
0008d7 940e 2e14 	CALL SUBOPT_0xE
                 ; 0000 0205         return;
0008d9 c10c      	RJMP _0x20C0031
                 ; 0000 0206     }
                 ; 0000 0207 
                 ; 0000 0208     if(dirnum+g_UpSkip >= g_MaxFolders)
                 _0x45:
0008da 91a0 03b0 	LDS  R26,_dirnum
0008dc 27bb      	CLR  R27
0008dd 91e0 040f 	LDS  R30,_g_UpSkip
0008df e0f0      	LDI  R31,0
0008e0 0fae      	ADD  R26,R30
0008e1 1fbf      	ADC  R27,R31
0008e2 91e0 0411 	LDS  R30,_g_MaxFolders
0008e4 e0f0      	LDI  R31,0
0008e5 17ae      	CP   R26,R30
0008e6 07bf      	CPC  R27,R31
0008e7 f014      	BRLT _0x46
                 ; 0000 0209         dirnum=1;
0008e8 e0e1      	LDI  R30,LOW(1)
0008e9 c005      	RJMP _0xAF
                 ; 0000 020A     else
                 _0x46:
                 ; 0000 020B         dirnum+=g_UpSkip;
0008ea 91e0 040f 	LDS  R30,_g_UpSkip
0008ec 91a0 03b0 	LDS  R26,_dirnum
0008ee 0fea      	ADD  R30,R26
                 _0xAF:
0008ef 93e0 03b0 	STS  _dirnum,R30
                 ; 0000 020C     #ifdef PRINT_DEBUG
                 ; 0000 020D     while(tx_counter);
                 _0x48:
0008f1 91e0 0643 	LDS  R30,_tx_counter
0008f3 30e0      	CPI  R30,0
0008f4 f7e1      	BRNE _0x48
                 ; 0000 020E     printf("Current Folder %d\r\n",dirnum);
                +
0008f5 e0e7     +LDI R30 , LOW ( 2 * _0x0 + ( 77 ) )
0008f6 e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 77 ) )
                 	__POINTW1FN _0x0,77
0008f7 940e 2db2 	CALL SUBOPT_0x0
                 ; 0000 020F     while(tx_counter);
                 _0x4B:
0008f9 91e0 0643 	LDS  R30,_tx_counter
0008fb 30e0      	CPI  R30,0
0008fc f7e1      	BRNE _0x4B
                 ; 0000 0210     #endif
                 ; 0000 0211     #ifdef PRINT_LCD
                 ; 0000 0212     if(lcd_GetProgName(0)==TRUE){
0008fd 940e 2dd8 	CALL SUBOPT_0x6
0008ff 30e1      	CPI  R30,LOW(0x1)
000900 f419      	BRNE _0x4E
                 ; 0000 0213        Beeps(1,1);
000901 940e 2e2a 	CALL SUBOPT_0x12
                 ; 0000 0214     }
                 ; 0000 0215     else{
000903 c003      	RJMP _0x4F
                 _0x4E:
                 ; 0000 0216         StandaloneMode=SDFAIL;
000904 940e 2e2f 	CALL SUBOPT_0x13
                 ; 0000 0217         Beeps(2,1);
                 ; 0000 0218         return;
000906 c0df      	RJMP _0x20C0031
                 ; 0000 0219     }
                 _0x4F:
                 ; 0000 021A     #else
                 ; 0000 021B     if(Call_GetDir()==TRUE){
                 ; 0000 021C         Beeps(1,dirnum);
                 ; 0000 021D     }
                 ; 0000 021E     else{
                 ; 0000 021F         StandaloneMode=SDFAIL;
                 ; 0000 0220         return;
                 ; 0000 0221     }
                 ; 0000 0222     #endif
                 ; 0000 0223     StandaloneMode=IDLE;
000907 e0e0      	LDI  R30,LOW(0)
000908 940e 2e38 	CALL SUBOPT_0x14
                 ; 0000 0224     LEDS_OFF();
                 ; 0000 0225 }
00090a c0db      	RJMP _0x20C0031
                 ; .FEND
                 ;
                 ;void StartButtonAction()
                 ; 0000 0228 {
                 _StartButtonAction:
                 ; .FSTART _StartButtonAction
                 ; 0000 0229     char i;
                 ; 0000 022A     #ifdef DEBUG_BUTTONS;
                 ; 0000 022B     lcd_putsf_row(0,"Start");
                 ; 0000 022C     #endif
                 ; 0000 022D     if(StandaloneMode!=IDLE && StandaloneMode!=PASS){
00090b 940e 2e0f 	CALL SUBOPT_0xD
                 ;	i -> R17
00090d f021      	BREQ _0x55
00090e 91a0 03ae 	LDS  R26,_StandaloneMode
000910 30a1      	CPI  R26,LOW(0x1)
000911 f409      	BRNE _0x56
                 _0x55:
000912 c003      	RJMP _0x54
                 _0x56:
                 ; 0000 022E        Beeps(3,1);
000913 940e 2e14 	CALL SUBOPT_0xE
                 ; 0000 022F        return;
000915 c0d0      	RJMP _0x20C0031
                 ; 0000 0230     }
                 ; 0000 0231     for(i=NUM_OF_TICKS;i>0;i--){
                 _0x54:
000916 e614      	LDI  R17,LOW(100)
                 _0x58:
000917 3011      	CPI  R17,1
000918 f064      	BRLT _0x59
                 ; 0000 0232         delay_ms(TICK_DELAY);
000919 940e 2e1f 	CALL SUBOPT_0x10
                 ; 0000 0233         if(TestButton(BUTTON_START)==FALSE)
00091b e0e1      	LDI  R30,LOW(1)
00091c 940e 2e25 	CALL SUBOPT_0x11
00091e f031      	BREQ _0x59
                 ; 0000 0234             break;
                 ; 0000 0235         if(i==98)
00091f 3612      	CPI  R17,98
000920 f411      	BRNE _0x5B
                 ; 0000 0236             Beeps(1,1);// one short beep
000921 940e 2e2a 	CALL SUBOPT_0x12
                 ; 0000 0237     }
                 _0x5B:
000923 5011      	SUBI R17,1
000924 cff2      	RJMP _0x58
                 _0x59:
                 ; 0000 0238     if(i>98) //debounce
000925 3613      	CPI  R17,99
000926 f00c      	BRLT _0x5C
                 ; 0000 0239         return;
000927 c0be      	RJMP _0x20C0031
                 ; 0000 023A     SaveDirNum=dirnum;
                 _0x5C:
000928 940e 2e3d 	CALL SUBOPT_0x15
                 ; 0000 023B     if(i==0){// lock the list
00092a 3010      	CPI  R17,0
00092b f461      	BRNE _0x5D
                 ; 0000 023C         SaveLockState=1;
00092c e0a6      	LDI  R26,LOW(_SaveLockState)
00092d e0b0      	LDI  R27,HIGH(_SaveLockState)
00092e e0e1      	LDI  R30,LOW(1)
00092f 940e 2e44 	CALL SUBOPT_0x16
                 ; 0000 023D         Beeps(2,1);//one long beep
                 ; 0000 023E         #ifdef PRINT_LCD
                 ; 0000 023F         lcd_putsf_row(1,"List Locked");
000931 940e 2e1a 	CALL SUBOPT_0xF
                 ; 0000 0240         delay_ms(500);
000933 efe4      	LDI  R30,LOW(500)
000934 e0f1      	LDI  R31,HIGH(500)
000935 940e 2e4c 	CALL SUBOPT_0x17
                 ; 0000 0241         #endif
                 ; 0000 0242         return;
000937 c0ae      	RJMP _0x20C0031
                 ; 0000 0243     }
                 ; 0000 0244     #ifdef PRINT_LCD
                 ; 0000 0245     itoa(dirnum,lcdnum);
                 _0x5D:
000938 940e 2def 	CALL SUBOPT_0xA
                 ; 0000 0246     lcd_puts_row(0,lcdnum);
                 ; 0000 0247     lcd_putsf(".");
                 ; 0000 0248     lcd_puts(tmpimage.progname);
00093a 940e 2e05 	CALL SUBOPT_0xB
                 ; 0000 0249     lcd_putsf_row(1,"Programming ....");
00093c e0e1      	LDI  R30,LOW(1)
00093d 93ea      	ST   -Y,R30
                +
00093e e1eb     +LDI R30 , LOW ( 2 * _0x0 + ( 97 ) )
00093f e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 97 ) )
                 	__POINTW1FN _0x0,97
000940 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0000 024A     #else
                 ; 0000 024B     putchar('S');
                 ; 0000 024C     #endif
                 ; 0000 024D     StandaloneMode=RUNNING;
000942 e0e3      	LDI  R30,LOW(3)
000943 940e 2e38 	CALL SUBOPT_0x14
                 ; 0000 024E     LEDS_OFF();
                 ; 0000 024F     StandalonProg();
000945 940e 15ca 	CALL _StandalonProg
                 ; 0000 0250     #ifdef PRINT_LCD
                 ; 0000 0251     //lcd_init(16);
                 ; 0000 0252     #endif
                 ; 0000 0253 }
000947 c09e      	RJMP _0x20C0031
                 ; .FEND
                 ;
                 ;void DownButtonAction()
                 ; 0000 0256 {
                 _DownButtonAction:
                 ; .FSTART _DownButtonAction
                 ; 0000 0257    char i;
                 ; 0000 0258    #ifdef DEBUG_BUTTONS;
                 ; 0000 0259    lcd_putsf_row(0,"Down");
                 ; 0000 025A    #endif
                 ; 0000 025B    if(StandaloneMode!=IDLE && StandaloneMode!=SDFAIL){
000948 940e 2e0f 	CALL SUBOPT_0xD
                 ;	i -> R17
00094a f021      	BREQ _0x63
00094b 91a0 03ae 	LDS  R26,_StandaloneMode
00094d 30a4      	CPI  R26,LOW(0x4)
00094e f409      	BRNE _0x64
                 _0x63:
00094f c003      	RJMP _0x62
                 _0x64:
                 ; 0000 025C      Beeps(3,1);
000950 940e 2e14 	CALL SUBOPT_0xE
                 ; 0000 025D      return;
000952 c093      	RJMP _0x20C0031
                 ; 0000 025E    }
                 ; 0000 025F    if(SaveLockState!=0){
                 _0x62:
000953 940e 2dd3 	CALL SUBOPT_0x5
000955 30e0      	CPI  R30,0
000956 f029      	BREQ _0x65
                 ; 0000 0260         #ifdef PRINT_LCD
                 ; 0000 0261         lcd_putsf_row(1,"List Locked");
000957 940e 2e1a 	CALL SUBOPT_0xF
                 ; 0000 0262         //delay_ms(500);
                 ; 0000 0263         #endif
                 ; 0000 0264         Beeps(3,1);
000959 940e 2e14 	CALL SUBOPT_0xE
                 ; 0000 0265         return;
00095b c08a      	RJMP _0x20C0031
                 ; 0000 0266    }
                 ; 0000 0267    for(i=NUM_OF_TICKS;i>0;i--){  //if down button pressed about 10 sec - unlock list function
                 _0x65:
00095c e614      	LDI  R17,LOW(100)
                 _0x67:
00095d 3011      	CPI  R17,1
00095e f064      	BRLT _0x68
                 ; 0000 0268         delay_ms(TICK_DELAY);
00095f 940e 2e1f 	CALL SUBOPT_0x10
                 ; 0000 0269         if(TestButton(BUTTON_DOWN)==FALSE)
000961 e0e4      	LDI  R30,LOW(4)
000962 940e 2e25 	CALL SUBOPT_0x11
000964 f031      	BREQ _0x68
                 ; 0000 026A             break;
                 ; 0000 026B         if(i==98)
000965 3612      	CPI  R17,98
000966 f411      	BRNE _0x6A
                 ; 0000 026C             Beeps(1,1);
000967 940e 2e2a 	CALL SUBOPT_0x12
                 ; 0000 026D    }
                 _0x6A:
000969 5011      	SUBI R17,1
00096a cff2      	RJMP _0x67
                 _0x68:
                 ; 0000 026E    if(i==0){
00096b 3010      	CPI  R17,0
00096c f419      	BRNE _0x6B
                 ; 0000 026F         Beeps(3,1);//fail beep the button pressed too much time
00096d 940e 2e14 	CALL SUBOPT_0xE
                 ; 0000 0270         return;
00096f c076      	RJMP _0x20C0031
                 ; 0000 0271    }
                 ; 0000 0272    if(i>98){ //debounce
                 _0x6B:
000970 3613      	CPI  R17,99
000971 f00c      	BRLT _0x6C
                 ; 0000 0273         return;
000972 c073      	RJMP _0x20C0031
                 ; 0000 0274    }
                 ; 0000 0275 
                 ; 0000 0276    if(dirnum){
                 _0x6C:
000973 91e0 03b0 	LDS  R30,_dirnum
000975 30e0      	CPI  R30,0
000976 f089      	BREQ _0x6D
                 ; 0000 0277     if(dirnum <= g_DownSkip)
000977 91e0 0410 	LDS  R30,_g_DownSkip
000979 91a0 03b0 	LDS  R26,_dirnum
00097b 17ea      	CP   R30,R26
00097c f020      	BRLO _0x6E
                 ; 0000 0278         dirnum=g_MaxFolders-1;
00097d 91e0 0411 	LDS  R30,_g_MaxFolders
00097f 50e1      	SUBI R30,LOW(1)
000980 c005      	RJMP _0xB0
                 ; 0000 0279     else
                 _0x6E:
                 ; 0000 027A         dirnum-=g_DownSkip;
000981 91a0 0410 	LDS  R26,_g_DownSkip
000983 91e0 03b0 	LDS  R30,_dirnum
000985 1bea      	SUB  R30,R26
                 _0xB0:
000986 93e0 03b0 	STS  _dirnum,R30
                 ; 0000 027B    }
                 ; 0000 027C    #ifdef PRINT_DEBUG
                 ; 0000 027D    while(tx_counter);
                 _0x6D:
                 _0x70:
000988 91e0 0643 	LDS  R30,_tx_counter
00098a 30e0      	CPI  R30,0
00098b f7e1      	BRNE _0x70
                 ; 0000 027E    printf("Current Folder %d\r\n",dirnum);
                +
00098c e0e7     +LDI R30 , LOW ( 2 * _0x0 + ( 77 ) )
00098d e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 77 ) )
                 	__POINTW1FN _0x0,77
00098e 940e 2db2 	CALL SUBOPT_0x0
                 ; 0000 027F    while(tx_counter);
                 _0x73:
000990 91e0 0643 	LDS  R30,_tx_counter
000992 30e0      	CPI  R30,0
000993 f7e1      	BRNE _0x73
                 ; 0000 0280    #endif
                 ; 0000 0281    #ifdef PRINT_LCD
                 ; 0000 0282    if(lcd_GetProgName(0)==TRUE){
000994 940e 2dd8 	CALL SUBOPT_0x6
000996 30e1      	CPI  R30,LOW(0x1)
000997 f419      	BRNE _0x76
                 ; 0000 0283        Beeps(1,1);
000998 940e 2e2a 	CALL SUBOPT_0x12
                 ; 0000 0284    }
                 ; 0000 0285    else{
00099a c006      	RJMP _0x77
                 _0x76:
                 ; 0000 0286        Beeps(2,1);
00099b 940e 2e50 	CALL SUBOPT_0x18
                 ; 0000 0287        StandaloneMode=SDFAIL;
00099d e0e4      	LDI  R30,LOW(4)
00099e 93e0 03ae 	STS  _StandaloneMode,R30
                 ; 0000 0288        return;
0009a0 c045      	RJMP _0x20C0031
                 ; 0000 0289    }
                 _0x77:
                 ; 0000 028A    #else
                 ; 0000 028B    if(Call_GetDir()==TRUE){
                 ; 0000 028C         Beeps(1,dirnum);
                 ; 0000 028D    }
                 ; 0000 028E    else{
                 ; 0000 028F         StandaloneMode=SDFAIL;
                 ; 0000 0290         Beeps(2,1);
                 ; 0000 0291         return;
                 ; 0000 0292    }
                 ; 0000 0293    #endif
                 ; 0000 0294    StandaloneMode=IDLE;
0009a1 e0e0      	LDI  R30,LOW(0)
0009a2 940e 2e38 	CALL SUBOPT_0x14
                 ; 0000 0295    LEDS_OFF();
                 ; 0000 0296 }
0009a4 c041      	RJMP _0x20C0031
                 ; .FEND
                 ;
                 ;void StopButtonAction()
                 ; 0000 0299 {
                 _StopButtonAction:
                 ; .FSTART _StopButtonAction
                 ; 0000 029A    char i;
                 ; 0000 029B    #ifdef DEBUG_BUTTONS;
                 ; 0000 029C    lcd_putsf_row(0,"Stop");
                 ; 0000 029D    #endif
                 ; 0000 029E    if(StandaloneMode==RUNNING){
0009a5 931a      	ST   -Y,R17
                 ;	i -> R17
0009a6 91a0 03ae 	LDS  R26,_StandaloneMode
0009a8 30a3      	CPI  R26,LOW(0x3)
0009a9 f419      	BRNE _0x7C
                 ; 0000 029F      Beeps(3,1);
0009aa 940e 2e14 	CALL SUBOPT_0xE
                 ; 0000 02A0      return;
0009ac c039      	RJMP _0x20C0031
                 ; 0000 02A1    }
                 ; 0000 02A2    for(i=NUM_OF_TICKS;i>0;i--){  //if down button pressed about 10 sec - unlock list function
                 _0x7C:
0009ad e614      	LDI  R17,LOW(100)
                 _0x7E:
0009ae 3011      	CPI  R17,1
0009af f064      	BRLT _0x7F
                 ; 0000 02A3         delay_ms(TICK_DELAY);
0009b0 940e 2e1f 	CALL SUBOPT_0x10
                 ; 0000 02A4         if(TestButton(BUTTON_STOP)==FALSE)
0009b2 e0e2      	LDI  R30,LOW(2)
0009b3 940e 2e25 	CALL SUBOPT_0x11
0009b5 f031      	BREQ _0x7F
                 ; 0000 02A5             break;
                 ; 0000 02A6         if(i==98)
0009b6 3612      	CPI  R17,98
0009b7 f411      	BRNE _0x81
                 ; 0000 02A7             Beeps(1,1);//short beep once
0009b8 940e 2e2a 	CALL SUBOPT_0x12
                 ; 0000 02A8    }
                 _0x81:
0009ba 5011      	SUBI R17,1
0009bb cff2      	RJMP _0x7E
                 _0x7F:
                 ; 0000 02A9    if(i>98){ //debounce
0009bc 3613      	CPI  R17,99
0009bd f544      	BRGE _0x20C0031
                 ; 0000 02AA         return;
                 ; 0000 02AB    }
                 ; 0000 02AC    //if(StandaloneMode==IDLE || StandaloneMode==PASS){
                 ; 0000 02AD        if(i==0){//unlock the listing
0009be 3010      	CPI  R17,0
0009bf f479      	BRNE _0x83
                 ; 0000 02AE             SaveLockState=0;
0009c0 e0a6      	LDI  R26,LOW(_SaveLockState)
0009c1 e0b0      	LDI  R27,HIGH(_SaveLockState)
0009c2 e0e0      	LDI  R30,LOW(0)
0009c3 940e 2e44 	CALL SUBOPT_0x16
                 ; 0000 02AF             Beeps(2,1);//long beep once
                 ; 0000 02B0             #ifdef PRINT_LCD
                 ; 0000 02B1             lcd_putsf_row(1,"List Unlocked");
0009c5 e0e1      	LDI  R30,LOW(1)
0009c6 93ea      	ST   -Y,R30
                +
0009c7 e2ec     +LDI R30 , LOW ( 2 * _0x0 + ( 114 ) )
0009c8 e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 114 ) )
                 	__POINTW1FN _0x0,114
0009c9 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0000 02B2             delay_ms(1000);
0009cb eee8      	LDI  R30,LOW(1000)
0009cc e0f3      	LDI  R31,HIGH(1000)
0009cd 940e 2e4c 	CALL SUBOPT_0x17
                 ; 0000 02B3             #endif
                 ; 0000 02B4        }
                 ; 0000 02B5    //}
                 ; 0000 02B6    LEDS_OFF();    //
                 _0x83:
0009cf 9a29      	SBI  0x5,1
0009d0 9a28      	SBI  0x5,0
                 ; 0000 02B7    StandaloneMode=IDLE;
0009d1 e0e0      	LDI  R30,LOW(0)
0009d2 93e0 03ae 	STS  _StandaloneMode,R30
                 ; 0000 02B8    Call_GetConfig();
0009d4 940e 1252 	CALL _Call_GetConfig
                 ; 0000 02B9    if(lcd_GetProgName(0)==TRUE){//read dir again
0009d6 940e 2dd8 	CALL SUBOPT_0x6
0009d8 30e1      	CPI  R30,LOW(0x1)
0009d9 f451      	BRNE _0x88
                 ; 0000 02BA 
                 ; 0000 02BB         if(SaveDirNum!=dirnum)
0009da 940e 2dce 	CALL SUBOPT_0x4
0009dc 2fae      	MOV  R26,R30
0009dd 91e0 03b0 	LDS  R30,_dirnum
0009df 17ea      	CP   R30,R26
0009e0 f011      	BREQ _0x89
                 ; 0000 02BC             SaveDirNum = dirnum;
0009e1 940e 2e3d 	CALL SUBOPT_0x15
                 ; 0000 02BD    }
                 _0x89:
                 ; 0000 02BE    else{
0009e3 c002      	RJMP _0x8A
                 _0x88:
                 ; 0000 02BF      StandaloneMode=SDFAIL;
0009e4 940e 2e2f 	CALL SUBOPT_0x13
                 ; 0000 02C0      Beeps(2,1);
                 ; 0000 02C1    }
                 _0x8A:
                 ; 0000 02C2 }
                 _0x20C0031:
0009e6 9119      	LD   R17,Y+
0009e7 9508      	RET
                 ; .FEND
                 ;
                 ;#ifdef PRINT_LCD
                 ;UCHAR lcd_GetProgName(UCHAR row)
                 ; 0000 02C6 {
                 _lcd_GetProgName:
                 ; .FSTART _lcd_GetProgName
                 ; 0000 02C7    char num1[6],num2[6] ;
                 ; 0000 02C8    itoa(dirnum,num1);
0009e8 972c      	SBIW R28,12
                 ;	row -> Y+12
                 ;	num1 -> Y+6
                 ;	num2 -> Y+0
0009e9 940e 2e56 	CALL SUBOPT_0x19
                 ; 0000 02C9    if(row>1)
0009eb 85ac      	LDD  R26,Y+12
0009ec 30a2      	CPI  R26,LOW(0x2)
0009ed f008      	BRLO _0x8B
                 ; 0000 02CA         return FALSE;
0009ee c050      	RJMP _0x20C0030
                 ; 0000 02CB    lcd_clear();
                 _0x8B:
0009ef 940e 29e2 	CALL _lcd_clear
                 ; 0000 02CC    lcd_putsf_row(row,"Read folder ");
0009f1 85ec      	LDD  R30,Y+12
0009f2 93ea      	ST   -Y,R30
                +
0009f3 e3ea     +LDI R30 , LOW ( 2 * _0x0 + ( 128 ) )
0009f4 e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 128 ) )
                 	__POINTW1FN _0x0,128
0009f5 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0000 02CD    lcd_puts(num1);
0009f7 940e 2e61 	CALL SUBOPT_0x1A
                 ; 0000 02CE    //lcd_putchar(dirnum+'0');
                 ; 0000 02CF    lcd_gotoxy(0,1);
0009f9 e0e0      	LDI  R30,LOW(0)
0009fa 93ea      	ST   -Y,R30
0009fb e0e1      	LDI  R30,LOW(1)
0009fc 93ea      	ST   -Y,R30
0009fd 940e 29d1 	CALL _lcd_gotoxy
                 ; 0000 02D0    delay_ms(10);
0009ff 940e 2de3 	CALL SUBOPT_0x8
                 ; 0000 02D1    if(Call_GetDir()==TRUE){
000a01 940e 12ac 	CALL _Call_GetDir
000a03 30e1      	CPI  R30,LOW(0x1)
000a04 f561      	BRNE _0x8C
                 ; 0000 02D2 
                 ; 0000 02D3         if(num1){
000a05 01fe      	MOVW R30,R28
000a06 9636      	ADIW R30,6
000a07 9730      	SBIW R30,0
000a08 f059      	BREQ _0x8D
                 ; 0000 02D4             ltoa(tmpimage.ProgCounterDone,num1);
000a09 940e 2e67 	CALL SUBOPT_0x1B
000a0b 01fe      	MOVW R30,R28
000a0c 963a      	ADIW R30,10
000a0d 93fa      	ST   -Y,R31
000a0e 93ea      	ST   -Y,R30
000a0f 940e 2b08 	CALL _ltoa
                 ; 0000 02D5             lcd_puts(num1);
000a11 940e 2e61 	CALL SUBOPT_0x1A
                 ; 0000 02D6         }else
000a13 c004      	RJMP _0x8E
                 _0x8D:
                 ; 0000 02D7             lcd_putsf("0");
                +
000a14 e4e7     +LDI R30 , LOW ( 2 * _0x0 + ( 141 ) )
000a15 e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 141 ) )
                 	__POINTW1FN _0x0,141
000a16 940e 2dc4 	CALL SUBOPT_0x2
                 ; 0000 02D8         lcd_putsf(" of ");
                 _0x8E:
                +
000a18 e4e9     +LDI R30 , LOW ( 2 * _0x0 + ( 143 ) )
000a19 e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 143 ) )
                 	__POINTW1FN _0x0,143
000a1a 940e 2dc4 	CALL SUBOPT_0x2
                 ; 0000 02D9         if(num2){
000a1c 01fe      	MOVW R30,R28
000a1d 9730      	SBIW R30,0
000a1e f061      	BREQ _0x8F
                 ; 0000 02DA             ltoa(tmpimage.ProgCounterTotal,num2);
000a1f 940e 2e70 	CALL SUBOPT_0x1C
000a21 01fe      	MOVW R30,R28
000a22 9634      	ADIW R30,4
000a23 93fa      	ST   -Y,R31
000a24 93ea      	ST   -Y,R30
000a25 940e 2b08 	CALL _ltoa
                 ; 0000 02DB             lcd_puts(num2);
000a27 01fe      	MOVW R30,R28
000a28 940e 2e79 	CALL SUBOPT_0x1D
                 ; 0000 02DC         }else
000a2a c004      	RJMP _0x90
                 _0x8F:
                 ; 0000 02DD             lcd_putsf("0");
                +
000a2b e4e7     +LDI R30 , LOW ( 2 * _0x0 + ( 141 ) )
000a2c e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 141 ) )
                 	__POINTW1FN _0x0,141
000a2d 940e 2dc4 	CALL SUBOPT_0x2
                 ; 0000 02DE         return TRUE;
                 _0x90:
000a2f e0e1      	LDI  R30,LOW(1)
000a30 c00f      	RJMP _0x20C002F
                 ; 0000 02DF    }
                 ; 0000 02E0    else{
                 _0x8C:
                 ; 0000 02E1         lcd_putsf_row(1,"File ");
000a31 e0e1      	LDI  R30,LOW(1)
000a32 93ea      	ST   -Y,R30
                +
000a33 e4ee     +LDI R30 , LOW ( 2 * _0x0 + ( 148 ) )
000a34 e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 148 ) )
                 	__POINTW1FN _0x0,148
000a35 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0000 02E2         itoa(dirnum,num1);
000a37 940e 2e56 	CALL SUBOPT_0x19
                 ; 0000 02E3         lcd_puts(num1);
000a39 940e 2e61 	CALL SUBOPT_0x1A
                 ; 0000 02E4         lcd_putsf(" error.");
                +
000a3b e5e4     +LDI R30 , LOW ( 2 * _0x0 + ( 154 ) )
000a3c e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 154 ) )
                 	__POINTW1FN _0x0,154
000a3d 940e 2dc4 	CALL SUBOPT_0x2
                 ; 0000 02E5    }
                 ; 0000 02E6    return FALSE;
                 _0x20C0030:
000a3f e0e0      	LDI  R30,LOW(0)
                 _0x20C002F:
000a40 962d      	ADIW R28,13
000a41 9508      	RET
                 ; 0000 02E7 }
                 ; .FEND
                 ;void lcd_putsf_row(UCHAR row,flash char *str)
                 ; 0000 02E9 {
                 _lcd_putsf_row:
                 ; .FSTART _lcd_putsf_row
                 ; 0000 02EA    if(row>1)
                 ;	row -> Y+2
                 ;	*str -> Y+0
000a42 81aa      	LDD  R26,Y+2
000a43 30a2      	CPI  R26,LOW(0x2)
000a44 f008      	BRLO _0x92
                 ; 0000 02EB         return;
000a45 c2b0      	RJMP _0x20C002C
                 ; 0000 02EC    lcd_gotoxy(0,row);
                 _0x92:
000a46 940e 2e7d 	CALL SUBOPT_0x1E
                 ; 0000 02ED    lcd_putsf("                ");
                +
000a48 e5ec     +LDI R30 , LOW ( 2 * _0x0 + ( 162 ) )
000a49 e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 162 ) )
                 	__POINTW1FN _0x0,162
000a4a 940e 2dc4 	CALL SUBOPT_0x2
                 ; 0000 02EE    lcd_gotoxy(0,row);
000a4c 940e 2e7d 	CALL SUBOPT_0x1E
                 ; 0000 02EF    lcd_putsf(str);
000a4e 81e8      	LD   R30,Y
000a4f 81f9      	LDD  R31,Y+1
000a50 940e 2dc4 	CALL SUBOPT_0x2
                 ; 0000 02F0    delay_ms(50);
000a52 940e 2e1f 	CALL SUBOPT_0x10
                 ; 0000 02F1 }
000a54 c2a1      	RJMP _0x20C002C
                 ; .FEND
                 ;void lcd_puts_row(UCHAR row,char *str)
                 ; 0000 02F3 {
                 _lcd_puts_row:
                 ; .FSTART _lcd_puts_row
                 ; 0000 02F4    if(row>1)
                 ;	row -> Y+2
                 ;	*str -> Y+0
000a55 81aa      	LDD  R26,Y+2
000a56 30a2      	CPI  R26,LOW(0x2)
000a57 f008      	BRLO _0x93
                 ; 0000 02F5         return;
000a58 c29d      	RJMP _0x20C002C
                 ; 0000 02F6    lcd_gotoxy(0,row);
                 _0x93:
000a59 940e 2e7d 	CALL SUBOPT_0x1E
                 ; 0000 02F7    lcd_putsf("                ");
                +
000a5b e5ec     +LDI R30 , LOW ( 2 * _0x0 + ( 162 ) )
000a5c e0f2     +LDI R31 , HIGH ( 2 * _0x0 + ( 162 ) )
                 	__POINTW1FN _0x0,162
000a5d 940e 2dc4 	CALL SUBOPT_0x2
                 ; 0000 02F8    lcd_gotoxy(0,row);
000a5f 940e 2e7d 	CALL SUBOPT_0x1E
                 ; 0000 02F9    lcd_puts(str);
000a61 81e8      	LD   R30,Y
000a62 81f9      	LDD  R31,Y+1
000a63 940e 2e79 	CALL SUBOPT_0x1D
                 ; 0000 02FA    delay_ms(50);
000a65 940e 2e1f 	CALL SUBOPT_0x10
                 ; 0000 02FB }
000a67 c28e      	RJMP _0x20C002C
                 ; .FEND
                 ;#endif
                 ;
                 ;
                 ;unsigned char TestButton(UCHAR bt)
                 ; 0000 0300 {
                 _TestButton:
                 ; .FSTART _TestButton
                 ; 0000 0301     if(TestADCs()==(1<<bt))
                 ;	bt -> Y+0
000a68 d00f      	RCALL _TestADCs
000a69 2e1e      	MOV  R1,R30
000a6a 81e8      	LD   R30,Y
000a6b e0a1      	LDI  R26,LOW(1)
000a6c e0b0      	LDI  R27,HIGH(1)
000a6d 940e 3454 	CALL __LSLW12
000a6f 2da1      	MOV  R26,R1
000a70 e0b0      	LDI  R27,0
000a71 17ea      	CP   R30,R26
000a72 07fb      	CPC  R31,R27
000a73 f411      	BRNE _0x94
                 ; 0000 0302         return TRUE;
000a74 e0e1      	LDI  R30,LOW(1)
000a75 c1f8      	RJMP _0x20C002E
                 ; 0000 0303     else
                 _0x94:
                 ; 0000 0304         return FALSE;
000a76 e0e0      	LDI  R30,LOW(0)
000a77 c1f6      	RJMP _0x20C002E
                 ; 0000 0305 }
                 ; .FEND
                 ;
                 ;unsigned char TestADCs()
                 ; 0000 0308 {
                 _TestADCs:
                 ; .FSTART _TestADCs
                 ; 0000 0309     unsigned char StateOfButtons=0;
                 ; 0000 030A     ADC_DONE=FALSE;
000a78 931a      	ST   -Y,R17
                 ;	StateOfButtons -> R17
000a79 e010      	LDI  R17,0
000a7a e0e0      	LDI  R30,LOW(0)
000a7b 93e0 06de 	STS  _ADC_DONE,R30
                 ; 0000 030B     ADMUX=(6 | (ADC_VREF_TYPE & 0xff)); //ADC6 ch=6, ADC7 ch=7
000a7d e2e6      	LDI  R30,LOW(38)
000a7e 940e 2e83 	CALL SUBOPT_0x1F
                 ; 0000 030C     // Delay needed for the stabilization of the ADC input voltage
                 ; 0000 030D     delay_us(20);
                 ; 0000 030E     // Start the AD conversion
                 ; 0000 030F     ADCSRA|=0x40;
                 ; 0000 0310     while(ADC_DONE==FALSE);
                 _0x96:
000a80 91e0 06de 	LDS  R30,_ADC_DONE
000a82 30e0      	CPI  R30,0
000a83 f3e1      	BREQ _0x96
                 ; 0000 0311     if(adc_data<50)
000a84 91a0 06dd 	LDS  R26,_adc_data
000a86 33a2      	CPI  R26,LOW(0x32)
000a87 f410      	BRSH _0x99
                 ; 0000 0312         StateOfButtons|=1<<BUTTON_DOWN;
000a88 6110      	ORI  R17,LOW(16)
                 ; 0000 0313     else if(adc_data<150)
000a89 c005      	RJMP _0x9A
                 _0x99:
000a8a 91a0 06dd 	LDS  R26,_adc_data
000a8c 39a6      	CPI  R26,LOW(0x96)
000a8d f408      	BRSH _0x9B
                 ; 0000 0314         StateOfButtons|=1<<BUTTON_STOP;
000a8e 6014      	ORI  R17,LOW(4)
                 ; 0000 0315     ADC_DONE=FALSE;
                 _0x9B:
                 _0x9A:
000a8f e0e0      	LDI  R30,LOW(0)
000a90 93e0 06de 	STS  _ADC_DONE,R30
                 ; 0000 0316     ADMUX=(7 | (ADC_VREF_TYPE & 0xff)); //ADC6 ch=6, ADC7 ch=7
000a92 e2e7      	LDI  R30,LOW(39)
000a93 940e 2e83 	CALL SUBOPT_0x1F
                 ; 0000 0317     // Delay needed for the stabilization of the ADC input voltage
                 ; 0000 0318     delay_us(20);
                 ; 0000 0319     // Start the AD conversion
                 ; 0000 031A     ADCSRA|=0x40;
                 ; 0000 031B     while(ADC_DONE==FALSE);
                 _0x9C:
000a95 91e0 06de 	LDS  R30,_ADC_DONE
000a97 30e0      	CPI  R30,0
000a98 f3e1      	BREQ _0x9C
                 ; 0000 031C     if(adc_data<50)
000a99 91a0 06dd 	LDS  R26,_adc_data
000a9b 33a2      	CPI  R26,LOW(0x32)
000a9c f410      	BRSH _0x9F
                 ; 0000 031D         StateOfButtons|=1<<BUTTON_UP;
000a9d 6018      	ORI  R17,LOW(8)
                 ; 0000 031E     else if(adc_data<150)
000a9e c005      	RJMP _0xA0
                 _0x9F:
000a9f 91a0 06dd 	LDS  R26,_adc_data
000aa1 39a6      	CPI  R26,LOW(0x96)
000aa2 f408      	BRSH _0xA1
                 ; 0000 031F         StateOfButtons|=1<<BUTTON_START;
000aa3 6012      	ORI  R17,LOW(2)
                 ; 0000 0320     if(StateOfButtons)
                 _0xA1:
                 _0xA0:
000aa4 3010      	CPI  R17,0
000aa5 f019      	BREQ _0xA2
                 ; 0000 0321         return StateOfButtons;
000aa6 2fe1      	MOV  R30,R17
000aa7 940c 0f55 	JMP  _0x20C0029
                 ; 0000 0322     return (1<<BUTTONS_RELEASED);
                 _0xA2:
000aa9 e0e1      	LDI  R30,LOW(1)
000aaa 940c 0f55 	JMP  _0x20C0029
                 ; 0000 0323 }
                 ; .FEND
                 ;
                 ;void StartADC(unsigned char ch)
                 ; 0000 0326 {
                 ; 0000 0327     char num1[3];
                 ; 0000 0328     unsigned char chan=ch;
                 ; 0000 0329     ADC_DONE=FALSE;
                 ;	ch -> Y+4
                 ;	num1 -> Y+1
                 ;	chan -> R17
                 ; 0000 032A     ADMUX=(ch | (ADC_VREF_TYPE & 0xff)); //ADC6 ch=6, ADC7 ch=7
                 ; 0000 032B     // Delay needed for the stabilization of the ADC input voltage
                 ; 0000 032C     delay_us(20);
                 ; 0000 032D     // Start the AD conversion
                 ; 0000 032E     ADCSRA|=0x40;
                 ; 0000 032F     while(ADC_DONE==FALSE);
                 ; 0000 0330 #ifdef DEBUG_BUTTONS
                 ; 0000 0331     if(adc_data>150)
                 ; 0000 0332         return;
                 ; 0000 0333     lcd_clear();
                 ; 0000 0334     lcd_putsf_row(0,"ADC");
                 ; 0000 0335     itoa(ch,num1);
                 ; 0000 0336     lcd_puts(num1);
                 ; 0000 0337     lcd_putchar(' ');
                 ; 0000 0338     itoa(adc_data,num1);
                 ; 0000 0339     lcd_puts(num1);
                 ; 0000 033A     if(chan==6){
                 ; 0000 033B         if(adc_data<50)
                 ; 0000 033C             lcd_putsf(" Down");
                 ; 0000 033D         else if(adc_data<150)
                 ; 0000 033E             lcd_putsf(" Stop");
                 ; 0000 033F     }
                 ; 0000 0340     else if(chan==7){
                 ; 0000 0341         if(adc_data<50)
                 ; 0000 0342             lcd_putsf(" Up");
                 ; 0000 0343         else if(adc_data<150)
                 ; 0000 0344             lcd_putsf(" Start");
                 ; 0000 0345     }
                 ; 0000 0346 #endif
                 ; 0000 0347 }
                 ;#define BEEP_ON_TIME_MS 100
                 ;#define BEEP_OFF_TIME_MS 100
                 ;#define TYPE_1  1
                 ;#define TYPE_2  2
                 ;
                 ;void Beeps(UCHAR tone,UCHAR times)
                 ; 0000 034E {
                 _Beeps:
                 ; .FSTART _Beeps
                 ; 0000 034F 
                 ; 0000 0350     UINT beep_ms;
                 ; 0000 0351     for(;times>0;times--)
000aac 931a      	ST   -Y,R17
000aad 930a      	ST   -Y,R16
                 ;	tone -> Y+3
                 ;	times -> Y+2
                 ;	beep_ms -> R16,R17
                 _0xA7:
000aae 81aa      	LDD  R26,Y+2
000aaf 30a1      	CPI  R26,LOW(0x1)
000ab0 f0d0      	BRLO _0xA8
                 ; 0000 0352     {
                 ; 0000 0353         for(beep_ms=BEEP_ON_TIME_MS;beep_ms>0;beep_ms--)
                +
000ab1 e604     +LDI R16 , LOW ( 100 )
000ab2 e010     +LDI R17 , HIGH ( 100 )
                 	__GETWRN 16,17,100
                 _0xAA:
000ab3 2400      	CLR  R0
000ab4 1600      	CP   R0,R16
000ab5 0601      	CPC  R0,R17
000ab6 f460      	BRSH _0xAB
                 ; 0000 0354         {
                 ; 0000 0355            BUZ_TGL();
000ab7 9b5e      	SBIS 0xB,6
000ab8 c002      	RJMP _0xAC
000ab9 985e      	CBI  0xB,6
000aba c001      	RJMP _0xAD
                 _0xAC:
000abb 9a5e      	SBI  0xB,6
                 _0xAD:
                 ; 0000 0356            delay_ms(tone);
000abc 81eb      	LDD  R30,Y+3
000abd e0f0      	LDI  R31,0
000abe 940e 2e4c 	CALL SUBOPT_0x17
                 ; 0000 0357         }
                +
000ac0 5001     +SUBI R16 , LOW ( 1 )
000ac1 4010     +SBCI R17 , HIGH ( 1 )
                 	__SUBWRN 16,17,1
000ac2 cff0      	RJMP _0xAA
                 _0xAB:
                 ; 0000 0358         delay_ms(BEEP_OFF_TIME_MS);
000ac3 e6e4      	LDI  R30,LOW(100)
000ac4 e0f0      	LDI  R31,HIGH(100)
000ac5 940e 2e4c 	CALL SUBOPT_0x17
                 ; 0000 0359     }
000ac7 81ea      	LDD  R30,Y+2
000ac8 50e1      	SUBI R30,LOW(1)
000ac9 83ea      	STD  Y+2,R30
000aca cfe3      	RJMP _0xA7
                 _0xA8:
                 ; 0000 035A }
000acb 8119      	LDD  R17,Y+1
000acc 8108      	LDD  R16,Y+0
000acd 9624      	ADIW R28,4
000ace 9508      	RET
                 ; .FEND
                 ;/*****************************************************************************
                 ;: avr910.
                 ;
                 ;Creted by PROTTOSS
                 ;Mail to PROTTOSS@mail.ru
                 ;
                 ; AVR910
                 ;
                 ;16.12.2006
                 ;******************************************************************************/
                 ;//#include "usbdrv.h"
                 ;
                 ;#include "common.h"
                 	#ifndef __SLEEP_DEFINED__
                 	#endif
                 ;#include "avr910.h"
                 ;#include "avr910devices.h"
                 ;//#include <stdlib.h>
                 ;#include <string.h>
                 ;#include <delay.h>
                 ;#include <stdio.h>
                 ;/*****************************************************************************
                 ; 
                 ;******************************************************************************/
                 ;
                 ;
                 ;
                 ;//#define LOW_SCK_DELEY()	delay_us(tmpimage.spidiv)//#asm("nop")//			//300 //      20  (2 ...
                 ;#define FUSE_SCK_DELEY  delay_us(250)   // Fuse write clock low freq 100us+100us=200us 5kHz
                 ;//#define SPI_ON()	//SPCR = ((0 << SPR1) | (1 << SPR0) | (1 << SPE)| (1 << MSTR) )   //250kHz
                 ;//#define SPI_OFF()	//SPCR = 0
                 ;
                 ;void LOW_SCK_DELEY()
                 ; 0001 0020 {
                 
                 	.CSEG
                 _LOW_SCK_DELEY:
                 ; .FSTART _LOW_SCK_DELEY
                 ; 0001 0021 	unsigned char us_cnt = tmpimage.spidiv;
                 ; 0001 0022     if (us_cnt==0)
000acf 931a      	ST   -Y,R17
                 ;	us_cnt -> R17
                +
000ad0 91e0 040e+LDS R30 , _tmpimage + ( 93 )
                 	__GETB1MN _tmpimage,93
000ad2 2f1e      	MOV  R17,R30
000ad3 3010      	CPI  R17,0
000ad4 f409      	BRNE _0x20003
                 ; 0001 0023         us_cnt=1;
000ad5 e011      	LDI  R17,LOW(1)
                 ; 0001 0024     while(us_cnt){
                 _0x20003:
                 _0x20004:
000ad6 3010      	CPI  R17,0
000ad7 f029      	BREQ _0x20006
                 ; 0001 0025         us_cnt--;
000ad8 5011      	SUBI R17,1
                 ; 0001 0026         delay_us(2);
                +
000ad9 e088     +LDI R24 , LOW ( 8 )
                +__DELAY_USB_LOOP :
000ada 958a     +DEC R24
000adb f7f1     +BRNE __DELAY_USB_LOOP
                 	__DELAY_USB 8
                 ; 0001 0027     }
000adc cff9      	RJMP _0x20004
                 _0x20006:
                 ; 0001 0028 }
000add c477      	RJMP _0x20C0029
                 ; .FEND
                 ;
                 ;
                 ;/*****************************************************************************
                 ; 
                 ;******************************************************************************/
                 ;BOOL    g_IsFuseClock;
                 ;UCHAR	g_DeviceType;		//   
                 ;
                 ;UCHAR	g_DeviceCode;
                 ;UCHAR	g_DevicePollCode;	//       
                 ;UINT 	g_Addr; 			//    
                 ;
                 ;//     USB 
                 ;BOOL	g_BlockMode;		//  /   
                 ;ULONG	g_BlockSize;		//    //support 64k...
                 ;UCHAR	g_MemType;			//     
                 ;UCHAR	g_WordCount;		//     /   
                 ;UCHAR	g_Operation;		//    
                 ;UCHAR	g_Command;			//     
                 ;BOOL	g_NeedParams;		//    
                 ;
                 ;//  FIFO  /
                 ;UCHAR	g_FIFO[AVR910_FIFO_SIZE]; //  
                 ;UCHAR	g_wrI;			//     
                 ;UCHAR	g_rdI;			//     
                 ;UCHAR	g_FIFODataSize; //    
                 ;
                 ;//    USB 
                 ;UCHAR	g_txBuf[AVR910_TX_DATA_SIZE];	//   
                 ;UCHAR 	g_txWR;			//    
                 ;UCHAR	g_txRD;			//    
                 ;
                 ;//  
                 ;flash UCHAR SwID[] =
                 ;{
                 ;  	'A', 'V', 'R', ' ', 'I', 'S', 'P', 0 ,
                 ;};
                 ;
                 ;/*****************************************************************************
                 ; 
                 ;******************************************************************************/
                 ;
                 ;//  SPI- AVR
                 ;#define AVR_L_BYTE					0x00
                 ;#define AVR_H_BYTE					0x08
                 ;#define AVR_RD_BYTE					0x20
                 ;#define AVR_WR_BYTE					0x40
                 ;#define AVR_PROG_EN()				Write123(0xAC, 0x53, 0x00)
                 ;#define AVR_CHIP_ERASE()			Write1234(0xAC, 0x80, 0x00, 0x00)
                 ;#define AVR_POLL_READY()			Write1234(0xF0, 0x00, 0x00, 0x00)
                 ;#define AVR_RD_FLASH_LB(addr)		Write1234(0x20, HIBYTE(addr), LOBYTE(addr), 0x00)
                 ;#define AVR_RD_FLASH_HB(addr)		Write1234(0x28, HIBYTE(addr), LOBYTE(addr), 0x00)
                 ;#define AVR_WR_FLASH_LB(addr, data)	Write1234(0x40, HIBYTE(addr), LOBYTE(addr), data)
                 ;#define AVR_WR_FLASH_HB(addr, data)	Write1234(0x48, HIBYTE(addr), LOBYTE(addr), data)
                 ;#define AVR_WR_FLASH_PAGE(addr)		Write1234(0x4C, HIBYTE(addr), LOBYTE(addr), 0x00)
                 ;#define AVR_RD_EEPROM(addr)			Write1234(0xA0, HIBYTE(addr), LOBYTE(addr), 0x00)
                 ;#define AVR_WR_EEPROM(addr, data)	Write1234(0xC0, HIBYTE(addr), LOBYTE(addr), data)
                 ;#define AVR_RD_LOCK()				Write1234(0x58, 0x00, 0x00, 0x00)
                 ;#define AVR_WR_LOCK(data)			Write1234(0xAC, data | 0xF9, 0x00, data)
                 ;#define AVR_RD_SIGN(addr)			Write1234(0x30, 0x00, addr, 0x00)
                 ;#define AVR_RD_FUSE()				Write1234(0x50, 0x00, 0x00, 0x00)
                 ;#define AVR_WR_FUSE(data)			Write1234(0xAC, 0xA0, 0x00, data)
                 ;#define AVR_RD_FUSE_H()				Write1234(0x58, 0x08, 0x00, 0x00)
                 ;#define AVR_WR_FUSE_H(data)			Write1234(0xAC, 0xA8, 0x00, data)
                 ;#define AVR_RD_FUSE_EXT()			Write1234(0x50, 0x08, 0x00, 0x00)
                 ;#define AVR_WR_FUSE_EXT(data)		Write1234(0xAC, 0xA4, 0x00, data)
                 ;#define AVR_RD_CALIBR(addr)			Write1234(0x38, 0xA8, addr, 0x00)
                 ;
                 ;//  SPI- 89S
                 ;#define S89_ADDR_HBYTE(h_addr)		((h_addr << 3) | ((h_addr >> 3) & 0x04))
                 ;#define S89_PROG_EN()				Write123(0xAC, 0x53, 0x00)
                 ;#define S89_CHIP_ERASE()			Write123(0xAC, 0x04, 0x00)
                 ;#define S89_RD_FLASH(addr)			Write123(S89_ADDR_HBYTE(HIBYTE(addr)) | 0x01, LOBYTE(addr), 0x00)
                 ;#define S89_WR_FLASH(addr, data)	Write123(S89_ADDR_HBYTE(HIBYTE(addr)) | 0x02, LOBYTE(addr), data)
                 ;#define S89_RD_EEPROM(addr)			Write123(S89_ADDR_HBYTE(HIBYTE(addr)) | 0x05, LOBYTE(addr), 0x00)
                 ;#define S89_WR_EEPROM(addr, data)	Write123(S89_ADDR_HBYTE(HIBYTE(addr)) | 0x06, LOBYTE(addr), 0x00)
                 ;#define S89_WR_LOCK(data)			Write123(0xAC, (data & 0xE0) | 0x07, 0x00)
                 ;
                 ;//     AVR
                 ;#define AVR_DELAY_RESET()		delay_ms(20)//__delay_cycles(300000) // > 20 ms
                 ;#define AVR_DELAY_WR_FUSE()		delay_ms(10)//__delay_cycles(150000)	// > 10 ms
                 ;#define AVR_DELAY_WR_FLASH()	delay_ms(10)//__delay_cycles(150000)	// > 5 ms
                 ;#define AVR_DELAY_WR_EEPROM()	delay_ms(10)//__delay_cycles(150000)	// > 10 m
                 ;#define AVR_DELAY_ERASE()		delay_ms(20)//__delay_cycles(300000)	// > 20 m
                 ;
                 ;//     89S
                 ;#define S89_DELAY_RESET()		delay_ms(10)//__delay_cycles(150000)	// > 10 ms
                 ;#define S89_DELAY_WR_FUSE()		delay_ms(10)//__delay_cycles(150000)	// > 10 ms
                 ;#define S89_DELAY_WR_FLASH()	delay_us(2500)//__delay_cycles(30000)	// > 2,5 ms
                 ;#define S89_DELAY_WR_EEPROM()	delay_us(2500)//__delay_cycles(30000)	// > 2,5 ms
                 ;#define S89_DELAY_ERASE()		delay_ms(10)//__delay_cycles(150000)	// > 10 ms
                 ;
                 ;#define DELAY_RESET()			delay_ms(20)//__delay_cycles(300000)  // > 20 ms
                 ;#define DELAY_WR_FUSE()			delay_ms(10)//__delay_cycles(150000) 	// > 10 ms
                 ;#define DELAY_WR_FLASH()		delay_ms(10)//__delay_cycles(150000)	// > 10 ms
                 ;#define DELAY_WR_EEPROM()		delay_ms(10)//__delay_cycles(150000)	// > 10 m
                 ;#define DELAY_ERASE()			delay_ms(20)//__delay_cycles(300000)	// > 20 m
                 ;
                 ;//void AVR910_Init(void);
                 ;//void AVR910_Command(UCHAR *data, UCHAR len);
                 ;//UCHAR AVR910_IsRxData(UCHAR **data);
                 ;//void AVR910_ClearTXData(UCHAR bytesRead);
                 ;UCHAR ExSPI(UCHAR wr_data);
                 ;void CatchPorts(void);
                 ;void ReleasePorts(void);
                 ;UCHAR GetOneChar(void);
                 ;void PutOneChar(UCHAR data);
                 ;UCHAR Write123(UCHAR byte1, UCHAR byte2, UCHAR byte3);
                 ;UCHAR Write1234(UCHAR byte1, UCHAR byte2, UCHAR byte3, UCHAR byte4);
                 ;void PollData(UCHAR command, UCHAR data);
                 ;
                 ;
                 ;
                 ;void CheckCommParams(UCHAR req_bytes);
                 ;
                 ;void SetProgMode(void);
                 ;void GetDevCodes(void);
                 ;void SetDevType(void);
                 ;void SetLED(void);
                 ;void ClrLED(void);
                 ;void tx123rx4(void);
                 ;void tx1234rx4(void);
                 ;void GetBlockMode(void);
                 ;void GetSWID(void);
                 ;void GetSWVer(void);
                 ;void GetHWVer(void);
                 ;void GetAutoIncAddr(void);
                 ;void SetAddr(void);
                 ;void GetPROGType(void);
                 ;void ChipErase(void);
                 ;void WriteFuse(void);
                 ;void WriteHFuse(void);
                 ;void WriteEXTFuse(void);
                 ;void WriteLock(void);
                 ;void ReadLock(void);
                 ;void ReadFuse(void);
                 ;void ReadHFuse(void);
                 ;void ReadEXTFuse(void);
                 ;void ReadSignature(void);
                 ;void LeaveProgMode(void);
                 ;
                 ;void WriteProgLB(void);
                 ;void WriteProgHB(void);
                 ;void WriteProgOneLB(void);
                 ;void WriteProgOneHB(void);
                 ;void WritePage(void);
                 ;void ReadProg(UCHAR com_byte1, UCHAR com_byte2);
                 ;void WriteData(void);
                 ;void WriteOneData(void);
                 ;void ReadData(void);
                 ;void ReadBlockCommand(void);
                 ;void WriteBlockCommand(void);
                 ;void ReadBlock(void);
                 ;void WriteBlock(void);
                 ;/**********************
                 ;Standalone addons
                 ;***********************/
                 ;void ReBoot(void);
                 ;
                 ;void AVR910_Standalone(flash char *commands)
                 ; 0001 00C9 {
                 _AVR910_Standalone:
                 ; .FSTART _AVR910_Standalone
                 ; 0001 00CA    UCHAR i;
                 ; 0001 00CB //   #ifdef PRINT_DEBUG
                 ; 0001 00CC //   printf("\r\n Commands is: %p",commands);
                 ; 0001 00CD //   while(tx_counter);
                 ; 0001 00CE //   #endif
                 ; 0001 00CF    AVR910_SendRxToUart();//clear send to uart tx buffer
000ade 931a      	ST   -Y,R17
                 ;	*commands -> Y+1
                 ;	i -> R17
000adf d190      	RCALL _AVR910_SendRxToUart
                 ; 0001 00D0    FIFO_Reset();
000ae0 d585      	RCALL _FIFO_Reset
                 ; 0001 00D1    for(i=0;i<strlenf(commands);i++)
000ae1 e010      	LDI  R17,LOW(0)
                 _0x20008:
000ae2 940e 2e8e 	CALL SUBOPT_0x20
000ae4 940e 2d46 	CALL _strlenf
000ae6 2fa1      	MOV  R26,R17
000ae7 e0b0      	LDI  R27,0
000ae8 17ae      	CP   R26,R30
000ae9 07bf      	CPC  R27,R31
000aea f458      	BRSH _0x20009
                 ; 0001 00D2         FIFO_Write(commands[i]);
000aeb 2fe1      	MOV  R30,R17
000aec 81a9      	LDD  R26,Y+1
000aed 81ba      	LDD  R27,Y+1+1
000aee e0f0      	LDI  R31,0
000aef 0fea      	ADD  R30,R26
000af0 1ffb      	ADC  R31,R27
000af1 91e4      	LPM  R30,Z
000af2 93ea      	ST   -Y,R30
000af3 d57a      	RCALL _FIFO_Write
000af4 5f1f      	SUBI R17,-1
000af5 cfec      	RJMP _0x20008
                 _0x20009:
                 ; 0001 00D3 AVR910_Command();
000af6 d014      	RCALL _AVR910_Command
                 ; 0001 00D4 //   #ifdef PRINT_DEBUG
                 ; 0001 00D5 //   printf("\r\n Response is: %c",g_txBuf[0]);
                 ; 0001 00D6 //   while(tx_counter);
                 ; 0001 00D7 //   #endif
                 ; 0001 00D8 }
000af7 8118      	LDD  R17,Y+0
000af8 c1fd      	RJMP _0x20C002C
                 ; .FEND
                 ;/*****************************************************************************
                 ;
                 ;******************************************************************************/
                 ;void AVR910_Init(void)
                 ; 0001 00DD {
                 _AVR910_Init:
                 ; .FSTART _AVR910_Init
                 ; 0001 00DE   	//   
                 ; 0001 00DF   	//LED_DDR 	|= (1 << PIN_LED_WR) | (1 << PIN_LED_RD)| (1 << PIN_LED_PASS);
                 ; 0001 00E0     //LED_PORT	&= ~((1 << PIN_LED_WR) | (1 << PIN_LED_RD)| (1 << PIN_LED_PASS));
                 ; 0001 00E1     LED_OK_INIT();
000af9 9a21      	SBI  0x4,1
000afa 9a29      	SBI  0x5,1
                 ; 0001 00E2     LED_ERR_INIT();
000afb 9a20      	SBI  0x4,0
000afc 9a28      	SBI  0x5,0
                 ; 0001 00E3     MUX_SEL_INIT();
000afd 9a57      	SBI  0xA,7
000afe 985f      	CBI  0xB,7
                 ; 0001 00E4     ReleasePorts();
000aff d1d3      	RCALL _ReleasePorts
                 ; 0001 00E5     //   low_sck
                 ; 0001 00E6     //ISP_PORT	|= (1 << PIN_LOW_SCK); //    
                 ; 0001 00E7     //ISP_DDR		&= ~(1 << PIN_LOW_SCK);	//   
                 ; 0001 00E8     //ISP_PORT	|= (1 << PIN_SS); //    
                 ; 0001 00E9     //ISP_DDR		|= (1 << PIN_SS);	//   
                 ; 0001 00EA     //  - TC1
                 ; 0001 00EB //    TCCR1A = (0 << WGM11)| (0 << WGM10)|			   // CTC
                 ; 0001 00EC //      		 (0 << COM1A1) | (1 << COM1A0);			   // Toggle OC1A on Compare Match
                 ; 0001 00ED //	TCCR1B = (0 << CS12) | (0 << CS11) | (1 << CS10) | // clkIO /1 (No prescaling)
                 ; 0001 00EE //      		 (0 << WGM13)| (1 << WGM12);			   // CTC
                 ; 0001 00EF //    OCR1A  = (UINT)5;
                 ; 0001 00F0 //
                 ; 0001 00F1 //    //  
                 ; 0001 00F2 //	//ISP_DDR |= (1 << PIN_CLOCK);
                 ; 0001 00F3 //    CLOCK_DDR |= (1 << PIN_CLOCK);
                 ; 0001 00F4     //  SPI 
                 ; 0001 00F5     //SPSR = 0x00; //  SPI2X
                 ; 0001 00F6 
                 ; 0001 00F7     //  AVR910  
                 ; 0001 00F8   	g_Addr = 0;
000b00 e0e0      	LDI  R30,LOW(0)
000b01 93e0 0382 	STS  _g_Addr,R30
000b03 93e0 0383 	STS  _g_Addr+1,R30
                 ; 0001 00F9     g_BlockMode = FALSE;
000b05 93e0 0389 	STS  _g_BlockMode,R30
                 ; 0001 00FA     g_NeedParams = FALSE;
000b07 93e0 06e1 	STS  _g_NeedParams,R30
                 ; 0001 00FB     FIFO_Reset();
000b09 d55c      	RCALL _FIFO_Reset
                 ; 0001 00FC     g_IsFuseClock=FALSE;
000b0a c42e      	RJMP _0x20C002B
                 ; 0001 00FD     //ReleasePorts();
                 ; 0001 00FE     //initBTN;
                 ; 0001 00FF }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ; 
                 ;******************************************************************************/
                 ;//void AVR910_Command(UCHAR *data, UCHAR len)
                 ;void AVR910_Command(void)
                 ; 0001 0106 {
                 _AVR910_Command:
                 ; .FSTART _AVR910_Command
                 ; 0001 0107 	g_txWR = g_txRD = 0;	//   
000b0b e0e0      	LDI  R30,LOW(0)
000b0c 93e0 0380 	STS  _g_txRD,R30
000b0e 93e0 0381 	STS  _g_txWR,R30
                 ; 0001 0108 
                 ; 0001 0109     //     USB  FIFO 
                 ; 0001 010A     //while(len--)
                 ; 0001 010B     	//FIFO_Write(*data++);
                 ; 0001 010C 
                 ; 0001 010D 
                 ; 0001 010E     //    USB 
                 ; 0001 010F 	while(0 < g_FIFODataSize)
                 _0x20016:
000b10 91e0 06f4 	LDS  R30,_g_FIFODataSize
000b12 30e1      	CPI  R30,LOW(0x1)
000b13 f408      	BRSH PC+2
000b14 c0f5      	RJMP _0x20018
                 ; 0001 0110     {
                 ; 0001 0111       	//    
                 ; 0001 0112       	if(TRUE == g_BlockMode)
000b15 91e0 0389 	LDS  R30,_g_BlockMode
000b17 30e1      	CPI  R30,LOW(0x1)
000b18 f449      	BRNE _0x20019
                 ; 0001 0113     	{
                 ; 0001 0114           	//   (, )
                 ; 0001 0115           	if(OPERATION_WRITE == g_Operation)
000b19 91e0 0388 	LDS  R30,_g_Operation
000b1b 30e1      	CPI  R30,LOW(0x1)
000b1c f411      	BRNE _0x2001A
                 ; 0001 0116             {
                 ; 0001 0117               	//   
                 ; 0001 0118               	WriteBlock();
000b1d d504      	RCALL _WriteBlock
                 ; 0001 0119             	continue;
000b1e cff1      	RJMP _0x20016
                 ; 0001 011A             }
                 ; 0001 011B             else
                 _0x2001A:
                 ; 0001 011C             {
                 ; 0001 011D               	//     
                 ; 0001 011E               	//     -      
                 ; 0001 011F               	g_BlockMode = FALSE;
000b1f e0e0      	LDI  R30,LOW(0)
000b20 93e0 0389 	STS  _g_BlockMode,R30
                 ; 0001 0120             }
                 ; 0001 0121    		}
                 ; 0001 0122 
                 ; 0001 0123         // ,    
                 ; 0001 0124         if(FALSE == g_NeedParams)
                 _0x20019:
000b22 91e0 06e1 	LDS  R30,_g_NeedParams
000b24 30e0      	CPI  R30,0
000b25 f419      	BRNE _0x2001C
                 ; 0001 0125         	g_Command = GetOneChar();
000b26 d1ba      	RCALL _GetOneChar
000b27 93e0 06e0 	STS  _g_Command,R30
                 ; 0001 0126 
                 ; 0001 0127 
                 ; 0001 0128       	//  
                 ; 0001 0129       	switch(g_Command)
                 _0x2001C:
000b29 91e0 06e0 	LDS  R30,_g_Command
000b2b e0f0      	LDI  R31,0
                 ; 0001 012A     	{
                 ; 0001 012B         	case ESC:
000b2c 31eb      	CPI  R30,LOW(0x1B)
000b2d e0a0      	LDI  R26,HIGH(0x1B)
000b2e 07fa      	CPC  R31,R26
000b2f f409      	BRNE _0x20020
                 ; 0001 012C             break;
000b30 c0d4      	RJMP _0x2001F
                 ; 0001 012D 			case 'P': SetProgMode();
                 _0x20020:
000b31 35e0      	CPI  R30,LOW(0x50)
000b32 e0a0      	LDI  R26,HIGH(0x50)
000b33 07fa      	CPC  R31,R26
000b34 f411      	BRNE _0x20021
000b35 d1c8      	RCALL _SetProgMode
                 ; 0001 012E       		break;
000b36 c0ce      	RJMP _0x2001F
                 ; 0001 012F 			case 'a': GetAutoIncAddr();
                 _0x20021:
000b37 36e1      	CPI  R30,LOW(0x61)
000b38 e0a0      	LDI  R26,HIGH(0x61)
000b39 07fa      	CPC  R31,R26
000b3a f411      	BRNE _0x20022
000b3b d43f      	RCALL _GetAutoIncAddr
                 ; 0001 0130 			break;
000b3c c0c8      	RJMP _0x2001F
                 ; 0001 0131 			case 'A': SetAddr();
                 _0x20022:
000b3d 34e1      	CPI  R30,LOW(0x41)
000b3e e0a0      	LDI  R26,HIGH(0x41)
000b3f 07fa      	CPC  R31,R26
000b40 f411      	BRNE _0x20023
000b41 d43c      	RCALL _SetAddr
                 ; 0001 0132 			break;
000b42 c0c2      	RJMP _0x2001F
                 ; 0001 0133 			case 'S': GetSWID();
                 _0x20023:
000b43 35e3      	CPI  R30,LOW(0x53)
000b44 e0a0      	LDI  R26,HIGH(0x53)
000b45 07fa      	CPC  R31,R26
000b46 f411      	BRNE _0x20024
000b47 d419      	RCALL _GetSWID
                 ; 0001 0134         	break;
000b48 c0bc      	RJMP _0x2001F
                 ; 0001 0135 			case 'V': GetSWVer();
                 _0x20024:
000b49 35e6      	CPI  R30,LOW(0x56)
000b4a e0a0      	LDI  R26,HIGH(0x56)
000b4b 07fa      	CPC  R31,R26
000b4c f411      	BRNE _0x20025
000b4d d423      	RCALL _GetSWVer
                 ; 0001 0136         	break;
000b4e c0b6      	RJMP _0x2001F
                 ; 0001 0137 			case 'v': GetHWVer();
                 _0x20025:
000b4f 37e6      	CPI  R30,LOW(0x76)
000b50 e0a0      	LDI  R26,HIGH(0x76)
000b51 07fa      	CPC  R31,R26
000b52 f411      	BRNE _0x20026
000b53 d422      	RCALL _GetHWVer
                 ; 0001 0138         	break;
000b54 c0b0      	RJMP _0x2001F
                 ; 0001 0139 			case 'p': GetPROGType();
                 _0x20026:
000b55 37e0      	CPI  R30,LOW(0x70)
000b56 e0a0      	LDI  R26,HIGH(0x70)
000b57 07fa      	CPC  R31,R26
000b58 f411      	BRNE _0x20027
000b59 d422      	RCALL _GetPROGType
                 ; 0001 013A         	break;
000b5a c0aa      	RJMP _0x2001F
                 ; 0001 013B             case 'T': SetDevType();
                 _0x20027:
000b5b 35e4      	CPI  R30,LOW(0x54)
000b5c e0a0      	LDI  R26,HIGH(0x54)
000b5d 07fa      	CPC  R31,R26
000b5e f411      	BRNE _0x20028
000b5f d1eb      	RCALL _SetDevType
                 ; 0001 013C         	break;
000b60 c0a4      	RJMP _0x2001F
                 ; 0001 013D             case 't': GetDevCodes();
                 _0x20028:
000b61 37e4      	CPI  R30,LOW(0x74)
000b62 e0a0      	LDI  R26,HIGH(0x74)
000b63 07fa      	CPC  R31,R26
000b64 f411      	BRNE _0x20029
000b65 d1d7      	RCALL _GetDevCodes
                 ; 0001 013E         	break;
000b66 c09e      	RJMP _0x2001F
                 ; 0001 013F             case 'x': SetLED();
                 _0x20029:
000b67 37e8      	CPI  R30,LOW(0x78)
000b68 e0a0      	LDI  R26,HIGH(0x78)
000b69 07fa      	CPC  R31,R26
000b6a f411      	BRNE _0x2002A
000b6b d215      	RCALL _SetLED
                 ; 0001 0140         	break;
000b6c c098      	RJMP _0x2001F
                 ; 0001 0141 			case 'y': ClrLED();
                 _0x2002A:
000b6d 37e9      	CPI  R30,LOW(0x79)
000b6e e0a0      	LDI  R26,HIGH(0x79)
000b6f 07fa      	CPC  R31,R26
000b70 f411      	BRNE _0x2002B
000b71 d215      	RCALL _ClrLED
                 ; 0001 0142         	break;
000b72 c092      	RJMP _0x2001F
                 ; 0001 0143 			case ':': tx123rx4();
                 _0x2002B:
000b73 33ea      	CPI  R30,LOW(0x3A)
000b74 e0a0      	LDI  R26,HIGH(0x3A)
000b75 07fa      	CPC  R31,R26
000b76 f411      	BRNE _0x2002C
000b77 d215      	RCALL _tx123rx4
                 ; 0001 0144         	break;
000b78 c08c      	RJMP _0x2001F
                 ; 0001 0145 			case '.': tx1234rx4();
                 _0x2002C:
000b79 32ee      	CPI  R30,LOW(0x2E)
000b7a e0a0      	LDI  R26,HIGH(0x2E)
000b7b 07fa      	CPC  R31,R26
000b7c f411      	BRNE _0x2002D
000b7d d221      	RCALL _tx1234rx4
                 ; 0001 0146         	break;
000b7e c086      	RJMP _0x2001F
                 ; 0001 0147 			case 'b': GetBlockMode();
                 _0x2002D:
000b7f 36e2      	CPI  R30,LOW(0x62)
000b80 e0a0      	LDI  R26,HIGH(0x62)
000b81 07fa      	CPC  R31,R26
000b82 f411      	BRNE _0x2002E
000b83 d3d5      	RCALL _GetBlockMode
                 ; 0001 0148 			break;
000b84 c080      	RJMP _0x2001F
                 ; 0001 0149         	case 'e': ChipErase();
                 _0x2002E:
000b85 36e5      	CPI  R30,LOW(0x65)
000b86 e0a0      	LDI  R26,HIGH(0x65)
000b87 07fa      	CPC  R31,R26
000b88 f411      	BRNE _0x2002F
000b89 d306      	RCALL _ChipErase
                 ; 0001 014A         	break;
000b8a c07a      	RJMP _0x2001F
                 ; 0001 014B             case 'E': ReBoot(); // External commands
                 _0x2002F:
000b8b 34e5      	CPI  R30,LOW(0x45)
000b8c e0a0      	LDI  R26,HIGH(0x45)
000b8d 07fa      	CPC  R31,R26
000b8e f411      	BRNE _0x20030
000b8f d07b      	RCALL _ReBoot
                 ; 0001 014C         	break;
000b90 c074      	RJMP _0x2001F
                 ; 0001 014D             case 'L': LeaveProgMode();
                 _0x20030:
000b91 34ec      	CPI  R30,LOW(0x4C)
000b92 e0a0      	LDI  R26,HIGH(0x4C)
000b93 07fa      	CPC  R31,R26
000b94 f411      	BRNE _0x20031
000b95 d3c1      	RCALL _LeaveProgMode
                 ; 0001 014E         	break;
000b96 c06e      	RJMP _0x2001F
                 ; 0001 014F         	case 'l': WriteLock();
                 _0x20031:
000b97 36ec      	CPI  R30,LOW(0x6C)
000b98 e0a0      	LDI  R26,HIGH(0x6C)
000b99 07fa      	CPC  R31,R26
000b9a f411      	BRNE _0x20032
000b9b d30a      	RCALL _WriteLock
                 ; 0001 0150         	break;
000b9c c068      	RJMP _0x2001F
                 ; 0001 0151 			case 'f': WriteFuse();
                 _0x20032:
000b9d 36e6      	CPI  R30,LOW(0x66)
000b9e e0a0      	LDI  R26,HIGH(0x66)
000b9f 07fa      	CPC  R31,R26
000ba0 f411      	BRNE _0x20033
000ba1 d32a      	RCALL _WriteFuse
                 ; 0001 0152         	break;
000ba2 c062      	RJMP _0x2001F
                 ; 0001 0153 			case 'Q': ReadLock();
                 _0x20033:
000ba3 35e1      	CPI  R30,LOW(0x51)
000ba4 e0a0      	LDI  R26,HIGH(0x51)
000ba5 07fa      	CPC  R31,R26
000ba6 f411      	BRNE _0x20034
000ba7 d369      	RCALL _ReadLock
                 ; 0001 0154        		break;
000ba8 c05c      	RJMP _0x2001F
                 ; 0001 0155             case 'F': ReadFuse();
                 _0x20034:
000ba9 34e6      	CPI  R30,LOW(0x46)
000baa e0a0      	LDI  R26,HIGH(0x46)
000bab 07fa      	CPC  R31,R26
000bac f411      	BRNE _0x20035
000bad d357      	RCALL _ReadFuse
                 ; 0001 0156        		break;
000bae c056      	RJMP _0x2001F
                 ; 0001 0157 			case 'n': WriteHFuse();
                 _0x20035:
000baf 36ee      	CPI  R30,LOW(0x6E)
000bb0 e0a0      	LDI  R26,HIGH(0x6E)
000bb1 07fa      	CPC  R31,R26
000bb2 f411      	BRNE _0x20036
000bb3 d32b      	RCALL _WriteHFuse
                 ; 0001 0158        		break;
000bb4 c050      	RJMP _0x2001F
                 ; 0001 0159             case 'N': ReadHFuse();
                 _0x20036:
000bb5 34ee      	CPI  R30,LOW(0x4E)
000bb6 e0a0      	LDI  R26,HIGH(0x4E)
000bb7 07fa      	CPC  R31,R26
000bb8 f411      	BRNE _0x20037
000bb9 d363      	RCALL _ReadHFuse
                 ; 0001 015A        		break;
000bba c04a      	RJMP _0x2001F
                 ; 0001 015B             case 'o': WriteEXTFuse();
                 _0x20037:
000bbb 36ef      	CPI  R30,LOW(0x6F)
000bbc e0a0      	LDI  R26,HIGH(0x6F)
000bbd 07fa      	CPC  R31,R26
000bbe f411      	BRNE _0x20038
000bbf d332      	RCALL _WriteEXTFuse
                 ; 0001 015C        		break;
000bc0 c044      	RJMP _0x2001F
                 ; 0001 015D             case 'O': ReadEXTFuse();
                 _0x20038:
000bc1 34ef      	CPI  R30,LOW(0x4F)
000bc2 e0a0      	LDI  R26,HIGH(0x4F)
000bc3 07fa      	CPC  R31,R26
000bc4 f411      	BRNE _0x20039
000bc5 d364      	RCALL _ReadEXTFuse
                 ; 0001 015E        		break;
000bc6 c03e      	RJMP _0x2001F
                 ; 0001 015F             case 's': ReadSignature();
                 _0x20039:
000bc7 37e3      	CPI  R30,LOW(0x73)
000bc8 e0a0      	LDI  R26,HIGH(0x73)
000bc9 07fa      	CPC  R31,R26
000bca f411      	BRNE _0x2003A
000bcb d36f      	RCALL _ReadSignature
                 ; 0001 0160         	break;
000bcc c038      	RJMP _0x2001F
                 ; 0001 0161             case 'd': ReadData();
                 _0x2003A:
000bcd 36e4      	CPI  R30,LOW(0x64)
000bce e0a0      	LDI  R26,HIGH(0x64)
000bcf 07fa      	CPC  R31,R26
000bd0 f411      	BRNE _0x2003B
000bd1 d2a3      	RCALL _ReadData
                 ; 0001 0162         	break;
000bd2 c032      	RJMP _0x2001F
                 ; 0001 0163 			case 'g': ReadBlockCommand();
                 _0x2003B:
000bd3 36e7      	CPI  R30,LOW(0x67)
000bd4 e0a0      	LDI  R26,HIGH(0x67)
000bd5 07fa      	CPC  R31,R26
000bd6 f411      	BRNE _0x2003C
000bd7 d3c1      	RCALL _ReadBlockCommand
                 ; 0001 0164 			break;
000bd8 c02c      	RJMP _0x2001F
                 ; 0001 0165 			case 'B': WriteBlockCommand();
                 _0x2003C:
000bd9 34e2      	CPI  R30,LOW(0x42)
000bda e0a0      	LDI  R26,HIGH(0x42)
000bdb 07fa      	CPC  R31,R26
000bdc f411      	BRNE _0x2003D
000bdd d405      	RCALL _WriteBlockCommand
                 ; 0001 0166 			break;
000bde c026      	RJMP _0x2001F
                 ; 0001 0167             case 'R': ReadProg(0x28, 0x20);
                 _0x2003D:
000bdf 35e2      	CPI  R30,LOW(0x52)
000be0 e0a0      	LDI  R26,HIGH(0x52)
000be1 07fa      	CPC  R31,R26
000be2 f431      	BRNE _0x2003E
000be3 e2e8      	LDI  R30,LOW(40)
000be4 93ea      	ST   -Y,R30
000be5 e2e0      	LDI  R30,LOW(32)
000be6 93ea      	ST   -Y,R30
000be7 d25b      	RCALL _ReadProg
                 ; 0001 0168         	break;
000be8 c01c      	RJMP _0x2001F
                 ; 0001 0169         	case 'c': WriteProgOneLB();
                 _0x2003E:
000be9 36e3      	CPI  R30,LOW(0x63)
000bea e0a0      	LDI  R26,HIGH(0x63)
000beb 07fa      	CPC  R31,R26
000bec f411      	BRNE _0x2003F
000bed d1f6      	RCALL _WriteProgOneLB
                 ; 0001 016A             break;
000bee c016      	RJMP _0x2001F
                 ; 0001 016B 			case 'C': WriteProgOneHB();
                 _0x2003F:
000bef 34e3      	CPI  R30,LOW(0x43)
000bf0 e0a0      	LDI  R26,HIGH(0x43)
000bf1 07fa      	CPC  R31,R26
000bf2 f411      	BRNE _0x20040
000bf3 d1f6      	RCALL _WriteProgOneHB
                 ; 0001 016C             break;
000bf4 c010      	RJMP _0x2001F
                 ; 0001 016D 			case 'm': WritePage(); PutOneChar(ACK);// OK
                 _0x20040:
000bf5 36ed      	CPI  R30,LOW(0x6D)
000bf6 e0a0      	LDI  R26,HIGH(0x6D)
000bf7 07fa      	CPC  R31,R26
000bf8 f419      	BRNE _0x20041
000bf9 d228      	RCALL _WritePage
000bfa e0ed      	LDI  R30,LOW(13)
000bfb c007      	RJMP _0x20164
                 ; 0001 016E         	break;
                 ; 0001 016F 			case 'D': WriteOneData();
                 _0x20041:
000bfc 34e4      	CPI  R30,LOW(0x44)
000bfd e0a0      	LDI  R26,HIGH(0x44)
000bfe 07fa      	CPC  R31,R26
000bff f411      	BRNE _0x20043
000c00 d1ef      	RCALL _WriteOneData
                 ; 0001 0170        		break;
000c01 c003      	RJMP _0x2001F
                 ; 0001 0171 			default: PutOneChar(NACK);
                 _0x20043:
000c02 e3ef      	LDI  R30,LOW(63)
                 _0x20164:
000c03 93ea      	ST   -Y,R30
000c04 d0de      	RCALL _PutOneChar
                 ; 0001 0172           	break;
                 ; 0001 0173     	}
                 _0x2001F:
                 ; 0001 0174 
                 ; 0001 0175         //      , 
                 ; 0001 0176         if(TRUE == g_NeedParams)
000c05 91e0 06e1 	LDS  R30,_g_NeedParams
000c07 30e1      	CPI  R30,LOW(0x1)
000c08 f009      	BREQ _0x20018
                 ; 0001 0177           	break;
                 ; 0001 0178     }
000c09 cf06      	RJMP _0x20016
                 _0x20018:
                 ; 0001 0179 }
000c0a 9508      	RET
                 ; .FEND
                 ;void ReBoot(void)
                 ; 0001 017B {
                 _ReBoot:
                 ; .FSTART _ReBoot
                 ; 0001 017C     CHAR param;
                 ; 0001 017D     CheckCommParams(1);
000c0b 940e 2e93 	CALL SUBOPT_0x21
                 ;	param -> R17
                 ; 0001 017E     if(TRUE == g_NeedParams)
000c0d f409      	BRNE _0x20045
                 ; 0001 017F       	return;
000c0e c346      	RJMP _0x20C0029
                 ; 0001 0180 
                 ; 0001 0181     param = GetOneChar();
                 _0x20045:
000c0f d0d1      	RCALL _GetOneChar
000c10 2f1e      	MOV  R17,R30
                 ; 0001 0182     switch(param){
000c11 e0f0      	LDI  R31,0
000c12 fde7      	SBRC R30,7
000c13 efff      	SER  R31
                 ; 0001 0183        case 'D':PrintImage();
000c14 34e4      	CPI  R30,LOW(0x44)
000c15 e0a0      	LDI  R26,HIGH(0x44)
000c16 07fa      	CPC  R31,R26
000c17 f419      	BRNE _0x20049
000c18 940e 113e 	CALL _PrintImage
                 ; 0001 0184             break;
000c1a c022      	RJMP _0x20048
                 ; 0001 0185        case 'R':SetValueReady("ready",'0');
                 _0x20049:
000c1b 35e2      	CPI  R30,LOW(0x52)
000c1c e0a0      	LDI  R26,HIGH(0x52)
000c1d 07fa      	CPC  R31,R26
000c1e f459      	BRNE _0x2004A
                +
000c1f e6ee     +LDI R30 , LOW ( 2 * _0x20000 + ( 0 ) )
000c20 e0f2     +LDI R31 , HIGH ( 2 * _0x20000 + ( 0 ) )
                 	__POINTW1FN _0x20000,0
000c21 93fa      	ST   -Y,R31
000c22 93ea      	ST   -Y,R30
000c23 e3e0      	LDI  R30,LOW(48)
000c24 93ea      	ST   -Y,R30
000c25 940e 1f8f 	CALL _SetValueReady
                 ; 0001 0186                 Call_GetDir();
000c27 940e 12ac 	CALL _Call_GetDir
                 ; 0001 0187             break;
000c29 c013      	RJMP _0x20048
                 ; 0001 0188        case '.':
                 _0x2004A:
000c2a 32ee      	CPI  R30,LOW(0x2E)
000c2b e0a0      	LDI  R26,HIGH(0x2E)
000c2c 07fa      	CPC  R31,R26
000c2d f479      	BRNE _0x2004D
                 ; 0001 0189        {
                 ; 0001 018A            #asm("WDR")
000c2e 95a8      	WDR
                 ; 0001 018B             WDTCSR=0x18;
000c2f e1e8      	LDI  R30,LOW(24)
000c30 93e0 0060 	STS  96,R30
                 ; 0001 018C             WDTCSR=0x08|0x07;//2sec
000c32 e0ef      	LDI  R30,LOW(15)
000c33 93e0 0060 	STS  96,R30
                 ; 0001 018D             #ifdef  PRINT_DEBUG
                 ; 0001 018E             if(debug)printf("\r\nRebooting to bootlader...");
000c35 91e0 03af 	LDS  R30,_debug
000c37 30e0      	CPI  R30,0
000c38 f021      	BREQ _0x2004C
                +
000c39 e7e4     +LDI R30 , LOW ( 2 * _0x20000 + ( 6 ) )
000c3a e0f2     +LDI R31 , HIGH ( 2 * _0x20000 + ( 6 ) )
                 	__POINTW1FN _0x20000,6
000c3b 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0001 018F             #endif
                 ; 0001 0190             //delay_ms(1000);
                 ; 0001 0191             //((void(*)(void))(char *)0x3C00)(); // jump to 0x0000
                 ; 0001 0192        }
                 _0x2004C:
                 ; 0001 0193             break;
                 ; 0001 0194        default:
                 _0x2004D:
                 ; 0001 0195             break;
                 ; 0001 0196     }
                 _0x20048:
                 ; 0001 0197 
                 ; 0001 0198 }
000c3d c317      	RJMP _0x20C0029
                 ; .FEND
                 ;/*****************************************************************************
                 ;   data       
                 ;g_txLen  
                 ;******************************************************************************/
                 ;UCHAR AVR910_IsRxData(UCHAR **data)
                 ; 0001 019E {
                 _AVR910_IsRxData:
                 ; .FSTART _AVR910_IsRxData
                 ; 0001 019F   	*data = &g_txBuf[g_txRD]; //     
                 ;	*data -> Y+0
000c3e 91e0 0380 	LDS  R30,_g_txRD
000c40 e0f0      	LDI  R31,0
000c41 50e0      	SUBI R30,LOW(-_g_txBuf)
000c42 4ffd      	SBCI R31,HIGH(-_g_txBuf)
000c43 81a8      	LD   R26,Y
000c44 81b9      	LDD  R27,Y+1
000c45 93ed      	ST   X+,R30
000c46 93fc      	ST   X,R31
                 ; 0001 01A0   	return (g_txWR - g_txRD); //   
000c47 91a0 0380 	LDS  R26,_g_txRD
000c49 91e0 0381 	LDS  R30,_g_txWR
000c4b 1bea      	SUB  R30,R26
000c4c c073      	RJMP _0x20C002D
                 ; 0001 01A1 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;      USB 
                 ;  bytesRead      
                 ;.
                 ;******************************************************************************/
                 ;void AVR910_ResetTXData(void)
                 ; 0001 01A9 {
                 _AVR910_ResetTXData:
                 ; .FSTART _AVR910_ResetTXData
                 ; 0001 01AA    g_txRD = g_txWR = 0;
000c4d e0e0      	LDI  R30,LOW(0)
000c4e 93e0 0381 	STS  _g_txWR,R30
000c50 93e0 0380 	STS  _g_txRD,R30
                 ; 0001 01AB }
000c52 9508      	RET
                 ; .FEND
                 ;void AVR910_ClearTXData(UCHAR bytesRead)
                 ; 0001 01AD {
                 _AVR910_ClearTXData:
                 ; .FSTART _AVR910_ClearTXData
                 ; 0001 01AE   	//      
                 ; 0001 01AF     //    
                 ; 0001 01B0     g_txRD += bytesRead;
                 ;	bytesRead -> Y+0
000c53 81e8      	LD   R30,Y
000c54 91a0 0380 	LDS  R26,_g_txRD
000c56 0fea      	ADD  R30,R26
000c57 93e0 0380 	STS  _g_txRD,R30
                 ; 0001 01B1 
                 ; 0001 01B2     // ,   
                 ; 0001 01B3     if(g_txRD == g_txWR)
000c59 91e0 0381 	LDS  R30,_g_txWR
000c5b 91a0 0380 	LDS  R26,_g_txRD
000c5d 17ea      	CP   R30,R26
000c5e f479      	BRNE _0x2004E
                 ; 0001 01B4     {
                 ; 0001 01B5       	//  ,      
                 ; 0001 01B6     	//       
                 ; 0001 01B7     	g_txRD = g_txWR = 0;
000c5f e0e0      	LDI  R30,LOW(0)
000c60 93e0 0381 	STS  _g_txWR,R30
000c62 93e0 0380 	STS  _g_txRD,R30
                 ; 0001 01B8 		if((TRUE == g_BlockMode) &&
                 ; 0001 01B9            (OPERATION_READ == g_Operation))
000c64 91e0 0389 	LDS  R30,_g_BlockMode
000c66 30e1      	CPI  R30,LOW(0x1)
000c67 f421      	BRNE _0x20050
000c68 91e0 0388 	LDS  R30,_g_Operation
000c6a 30e0      	CPI  R30,0
000c6b f009      	BREQ _0x20051
                 _0x20050:
000c6c c001      	RJMP _0x2004F
                 _0x20051:
                 ; 0001 01BA     		ReadBlock();
000c6d d352      	RCALL _ReadBlock
                 ; 0001 01BB     }
                 _0x2004F:
                 ; 0001 01BC }
                 _0x2004E:
                 _0x20C002E:
000c6e 9621      	ADIW R28,1
000c6f 9508      	RET
                 ; .FEND
                 ;void AVR910_SendRxToUart(void)
                 ; 0001 01BE {
                 _AVR910_SendRxToUart:
                 ; .FSTART _AVR910_SendRxToUart
                 ; 0001 01BF     UCHAR *data;
                 ; 0001 01C0     UCHAR bytesRead;
                 ; 0001 01C1     while((bytesRead = AVR910_IsRxData(&data)) > 0){
000c70 940e 3592 	CALL __SAVELOCR4
                 ;	*data -> R16,R17
                 ;	bytesRead -> R19
                 _0x20052:
000c72 b7ed      	IN   R30,SPL
000c73 b7fe      	IN   R31,SPH
000c74 9731      	SBIW R30,1
000c75 93fa      	ST   -Y,R31
000c76 93ea      	ST   -Y,R30
000c77 931f      	PUSH R17
000c78 930f      	PUSH R16
000c79 dfc4      	RCALL _AVR910_IsRxData
000c7a 910f      	POP  R16
000c7b 911f      	POP  R17
000c7c 2f3e      	MOV  R19,R30
000c7d 30e1      	CPI  R30,LOW(0x1)
000c7e f078      	BRLO _0x20054
                 ; 0001 01C2        AVR910_ClearTXData(bytesRead);
000c7f 933a      	ST   -Y,R19
000c80 dfd2      	RCALL _AVR910_ClearTXData
                 ; 0001 01C3        while(bytesRead--)
                 _0x20055:
000c81 2fe3      	MOV  R30,R19
000c82 5031      	SUBI R19,1
000c83 30e0      	CPI  R30,0
000c84 f041      	BREQ _0x20057
                 ; 0001 01C4             putchar(*data++);
000c85 01d8      	MOVW R26,R16
                +
000c86 5f0f     +SUBI R16 , LOW ( - 1 )
000c87 4f1f     +SBCI R17 , HIGH ( - 1 )
                 	__ADDWRN 16,17,1
000c88 91ec      	LD   R30,X
000c89 93ea      	ST   -Y,R30
000c8a 940e 0763 	CALL _putchar
000c8c cff4      	RJMP _0x20055
                 _0x20057:
                 ; 0001 01C7 }
000c8d cfe4      	RJMP _0x20052
                 _0x20054:
                 ; 0001 01C8 }
000c8e c38f      	RJMP _0x20C0023
                 ; .FEND
                 ;/*****************************************************************************
                 ;   SPI
                 ;  SPI   wr_data      
                 ;******************************************************************************/
                 ;UCHAR ExSPI(UCHAR wr_data)
                 ; 0001 01CE {
                 _ExSPI:
                 ; .FSTART _ExSPI
                 ; 0001 01CF   	UCHAR i;
                 ; 0001 01D0     //   low_sck
                 ; 0001 01D1 //  	if(ISP_PIN & (1 << PIN_LOW_SCK)) //  ,  SPI
                 ; 0001 01D2 //	{
                 ; 0001 01D3 //        SPI_ON();	//  SPI
                 ; 0001 01D4 //        SPDR = wr_data;	//  SPI 
                 ; 0001 01D5 //        while(!(SPSR & (1<<SPIF))){};	//   
                 ; 0001 01D6 //		return SPDR;	//   
                 ; 0001 01D7 //    }
                 ; 0001 01D8 //    else //   SPI
                 ; 0001 01D9     {
000c8f 931a      	ST   -Y,R17
                 ;	wr_data -> Y+1
                 ;	i -> R17
                 ; 0001 01DA       	UCHAR rd_data=0;
                 ; 0001 01DB         //SPI_OFF();	//   SPI
                 ; 0001 01DC       	for(i = 0; i < 8; i++)
000c90 9721      	SBIW R28,1
000c91 e0e0      	LDI  R30,LOW(0)
000c92 83e8      	ST   Y,R30
                 ;	wr_data -> Y+2
                 ;	rd_data -> Y+0
000c93 e010      	LDI  R17,LOW(0)
                 _0x20059:
000c94 3018      	CPI  R17,8
000c95 f538      	BRSH _0x2005A
                 ; 0001 01DD         {
                 ; 0001 01DE           	//     
                 ; 0001 01DF           	if(0 != (wr_data & 0x80))
000c96 81ea      	LDD  R30,Y+2
000c97 78e0      	ANDI R30,LOW(0x80)
000c98 f011      	BREQ _0x2005B
                 ; 0001 01E0             	SET_MOSI();//ISP_PORT |= (1 << PIN_MOSI); // = 1
000c99 9a5b      	SBI  0xB,3
                 ; 0001 01E1             else
000c9a c001      	RJMP _0x2005E
                 _0x2005B:
                 ; 0001 01E2             	CLR_MOSI();//ISP_PORT &= ~(1 << PIN_MOSI);	// = 0
000c9b 985b      	CBI  0xB,3
                 ; 0001 01E3 
                 ; 0001 01E4             //   
                 ; 0001 01E5         	wr_data <<=1;
                 _0x2005E:
000c9c 81ea      	LDD  R30,Y+2
000c9d 0fee      	LSL  R30
000c9e 83ea      	STD  Y+2,R30
                 ; 0001 01E6 
                 ; 0001 01E7             //   (  ) 
                 ; 0001 01E8             //  
                 ; 0001 01E9             rd_data <<= 1;
000c9f 81e8      	LD   R30,Y
000ca0 0fee      	LSL  R30
000ca1 83e8      	ST   Y,R30
                 ; 0001 01EA             if(0 != READ_MISO())//(ISP_PIN & (1 << PIN_MISO)))
000ca2 9b4a      	SBIS 0x9,2
000ca3 c003      	RJMP _0x20061
                 ; 0001 01EB             	rd_data++; //   ,    
000ca4 81e8      	LD   R30,Y
000ca5 5fef      	SUBI R30,-LOW(1)
000ca6 83e8      	ST   Y,R30
                 ; 0001 01EC 
                 ; 0001 01ED 			//     SCK 
                 ; 0001 01EE             SET_SCK();//ISP_PORT |= (1 << PIN_SCK);	// 
                 _0x20061:
000ca7 9a5f      	SBI  0xB,7
                 ; 0001 01EF             if(g_IsFuseClock==TRUE)
000ca8 e0e1      	LDI  R30,LOW(1)
000ca9 15ea      	CP   R30,R10
000caa f429      	BRNE _0x20064
                 ; 0001 01F0                 FUSE_SCK_DELEY;
                +
000cab ee8e     +LDI R24 , LOW ( 750 )
000cac e092     +LDI R25 , HIGH ( 750 )
                +__DELAY_USW_LOOP :
000cad 9701     +SBIW R24 , 1
000cae f7f1     +BRNE __DELAY_USW_LOOP
                 	__DELAY_USW 750
                 ; 0001 01F1             else
000caf c001      	RJMP _0x20065
                 _0x20064:
                 ; 0001 01F2                 LOW_SCK_DELEY(); // 
000cb0 de1e      	RCALL _LOW_SCK_DELEY
                 ; 0001 01F3             CLR_SCK();//ISP_PORT &= ~(1 << PIN_SCK);	// 
                 _0x20065:
000cb1 985f      	CBI  0xB,7
                 ; 0001 01F4             if(g_IsFuseClock==TRUE)
000cb2 e0e1      	LDI  R30,LOW(1)
000cb3 15ea      	CP   R30,R10
000cb4 f429      	BRNE _0x20068
                 ; 0001 01F5                 FUSE_SCK_DELEY;
                +
000cb5 ee8e     +LDI R24 , LOW ( 750 )
000cb6 e092     +LDI R25 , HIGH ( 750 )
                +__DELAY_USW_LOOP :
000cb7 9701     +SBIW R24 , 1
000cb8 f7f1     +BRNE __DELAY_USW_LOOP
                 	__DELAY_USW 750
                 ; 0001 01F6             else
000cb9 c001      	RJMP _0x20069
                 _0x20068:
                 ; 0001 01F7                 LOW_SCK_DELEY(); // 
000cba de14      	RCALL _LOW_SCK_DELEY
                 ; 0001 01F8     	}
                 _0x20069:
000cbb 5f1f      	SUBI R17,-1
000cbc cfd7      	RJMP _0x20059
                 _0x2005A:
                 ; 0001 01F9 
                 ; 0001 01FA         return rd_data;
000cbd 81e8      	LD   R30,Y
000cbe 9621      	ADIW R28,1
000cbf 8118      	LDD  R17,Y+0
                 _0x20C002D:
000cc0 9622      	ADIW R28,2
000cc1 9508      	RET
                 ; 0001 01FB     }
000cc2 9621      	ADIW R28,1
                 ; 0001 01FC }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;    
                 ;******************************************************************************/
                 ;void CatchPorts(void)
                 ; 0001 0202 {
                 _CatchPorts:
                 ; .FSTART _CatchPorts
                 ; 0001 0203   	//   SPI  ISP 
                 ; 0001 0204   	//ISP_DDR  |= (1 << PIN_SCK) | (1 << PIN_MOSI) | (1 << PIN_RESET);
                 ; 0001 0205 
                 ; 0001 0206     //     MISO
                 ; 0001 0207     //ISP_PORT |= (1 << PIN_MISO);
                 ; 0001 0208     ISP_ON();
000cc3 9a55      	SBI  0xA,5
000cc4 985d      	CBI  0xB,5
000cc5 9a53      	SBI  0xA,3
000cc6 985b      	CBI  0xB,3
000cc7 9852      	CBI  0xA,2
000cc8 9a5a      	SBI  0xB,2
000cc9 9a57      	SBI  0xA,7
000cca 985f      	CBI  0xB,7
                 ; 0001 0209     //  SPI   
                 ; 0001 020A     //SPI_ON();
                 ; 0001 020B 
                 ; 0001 020C     //  RESET   
                 ; 0001 020D     if(g_DeviceType == S89)
000ccb 91a0 038a 	LDS  R26,_g_DeviceType
000ccd 30a2      	CPI  R26,LOW(0x2)
000cce f411      	BRNE _0x2007A
                 ; 0001 020E       	SET_RESET();
000ccf 985d      	CBI  0xB,5
                 ; 0001 020F     else
000cd0 c001      	RJMP _0x2007D
                 _0x2007A:
                 ; 0001 0210       	CLR_RESET();
000cd1 9a5d      	SBI  0xB,5
                 ; 0001 0211 }
                 _0x2007D:
000cd2 9508      	RET
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ; 
                 ;******************************************************************************/
                 ;void ReleasePorts(void)
                 ; 0001 0217 {
                 _ReleasePorts:
                 ; .FSTART _ReleasePorts
                 ; 0001 0218   	//  SPI
                 ; 0001 0219   	//SPI_OFF();
                 ; 0001 021A     ISP_OFF();
000cd3 9855      	CBI  0xA,5
000cd4 985d      	CBI  0xB,5
000cd5 9853      	CBI  0xA,3
000cd6 985b      	CBI  0xB,3
000cd7 985a      	CBI  0xB,2
000cd8 9857      	CBI  0xA,7
000cd9 985f      	CBI  0xB,7
                 ; 0001 021B     #ifdef PRINT_LCD
                 ; 0001 021C     PORTC&=~0x3F;
000cda b1e8      	IN   R30,0x8
000cdb 7ce0      	ANDI R30,LOW(0xC0)
000cdc b9e8      	OUT  0x8,R30
                 ; 0001 021D     DDRC|=0x3F; //enable lcd control
000cdd b1e7      	IN   R30,0x7
000cde 63ef      	ORI  R30,LOW(0x3F)
000cdf b9e7      	OUT  0x7,R30
                 ; 0001 021E     #endif
                 ; 0001 021F     //   SPI  ISP 
                 ; 0001 0220   	//ISP_DDR &=  ~((1 << PIN_SCK) | (1 << PIN_MISO) | (1 << PIN_MOSI) | (1 << PIN_RESET));
                 ; 0001 0221     //ISP_PORT &= ~((1 << PIN_SCK) | (1 << PIN_MISO) | (1 << PIN_MOSI) | (1 << PIN_RESET));
                 ; 0001 0222 }
000ce0 9508      	RET
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;     USB
                 ;******************************************************************************/
                 ;UCHAR GetOneChar(void)
                 ; 0001 0228 {
                 _GetOneChar:
                 ; .FSTART _GetOneChar
                 ; 0001 0229   	/*if(g_rxLen > 0)
                 ; 0001 022A     {
                 ; 0001 022B       	g_rxLen--;
                 ; 0001 022C     	return *g_rxBuf++;
                 ; 0001 022D     }
                 ; 0001 022E 
                 ; 0001 022F     return 0;*/
                 ; 0001 0230  	return FIFO_Read();
000ce1 d3a6      	RCALL _FIFO_Read
000ce2 9508      	RET
                 ; 0001 0231 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;     USB
                 ;******************************************************************************/
                 ;
                 ;void PutOneChar(UCHAR data)
                 ; 0001 0238 {
                 _PutOneChar:
                 ; .FSTART _PutOneChar
                 ; 0001 0239   	if(g_txWR < AVR910_TX_DATA_SIZE)
                 ;	data -> Y+0
000ce3 91a0 0381 	LDS  R26,_g_txWR
000ce5 38a0      	CPI  R26,LOW(0x80)
000ce6 f458      	BRSH _0x2008E
                 ; 0001 023A       	g_txBuf[g_txWR++] = data;
000ce7 91e0 0381 	LDS  R30,_g_txWR
000ce9 5fef      	SUBI R30,-LOW(1)
000cea 93e0 0381 	STS  _g_txWR,R30
000cec 50e1      	SUBI R30,LOW(1)
000ced e0f0      	LDI  R31,0
000cee 50e0      	SUBI R30,LOW(-_g_txBuf)
000cef 4ffd      	SBCI R31,HIGH(-_g_txBuf)
000cf0 81a8      	LD   R26,Y
000cf1 83a0      	STD  Z+0,R26
                 ; 0001 023B }
                 _0x2008E:
000cf2 940c 110c 	JMP  _0x20C0022
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  3   SPI      3-
                 ;******************************************************************************/
                 ;UCHAR Write123(UCHAR byte1, UCHAR byte2, UCHAR byte3)
                 ; 0001 0241 {
                 _Write123:
                 ; .FSTART _Write123
                 ; 0001 0242   	ExSPI(byte1);
                 ;	byte1 -> Y+2
                 ;	byte2 -> Y+1
                 ;	byte3 -> Y+0
000cf4 940e 2ea3 	CALL SUBOPT_0x23
                 ; 0001 0243     ExSPI(byte2);
                 ; 0001 0244     return ExSPI(byte3);
                 _0x20C002C:
000cf6 9623      	ADIW R28,3
000cf7 9508      	RET
                 ; 0001 0245 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  4   SPI      4-
                 ;******************************************************************************/
                 ;UCHAR Write1234(UCHAR byte1, UCHAR byte2, UCHAR byte3, UCHAR byte4)
                 ; 0001 024B {
                 _Write1234:
                 ; .FSTART _Write1234
                 ; 0001 024C   	ExSPI(byte1);
                 ;	byte1 -> Y+3
                 ;	byte2 -> Y+2
                 ;	byte3 -> Y+1
                 ;	byte4 -> Y+0
000cf8 81eb      	LDD  R30,Y+3
000cf9 93ea      	ST   -Y,R30
000cfa df94      	RCALL _ExSPI
                 ; 0001 024D     ExSPI(byte2);
000cfb 940e 2ea3 	CALL SUBOPT_0x23
                 ; 0001 024E     ExSPI(byte3);
                 ; 0001 024F     return ExSPI(byte4);
000cfd c322      	RJMP _0x20C0024
                 ; 0001 0250 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;   
                 ;******************************************************************************/
                 ;void SetProgMode(void)
                 ; 0001 0256 {
                 _SetProgMode:
                 ; .FSTART _SetProgMode
                 ; 0001 0257     UCHAR progOK=0;
                 ; 0001 0258     UCHAR c;
                 ; 0001 0259     UCHAR err = ACK;
                 ; 0001 025A     LED_RD_ON();
000cfe 940e 3592 	CALL __SAVELOCR4
                 ;	progOK -> R17
                 ;	c -> R16
                 ;	err -> R19
000d00 e010      	LDI  R17,0
000d01 e03d      	LDI  R19,13
000d02 9829      	CBI  0x5,1
                 ; 0001 025B     LED_WR_ON();
000d03 9829      	CBI  0x5,1
                 ; 0001 025C     g_IsFuseClock=TRUE;
000d04 e0e1      	LDI  R30,LOW(1)
000d05 2eae      	MOV  R10,R30
                 ; 0001 025D     //   
                 ; 0001 025E     if(S89 == g_DeviceType) //89S
000d06 91e0 038a 	LDS  R30,_g_DeviceType
000d08 30e2      	CPI  R30,LOW(0x2)
000d09 f441      	BRNE _0x20093
                 ; 0001 025F     {
                 ; 0001 0260       	ReleasePorts(); //  
000d0a dfc8      	RCALL _ReleasePorts
                 ; 0001 0261 		CatchPorts();	//    ISP
000d0b dfb7      	RCALL _CatchPorts
                 ; 0001 0262    		S89_DELAY_RESET();	// 
000d0c 940e 2de3 	CALL SUBOPT_0x8
                 ; 0001 0263 
                 ; 0001 0264         //      
                 ; 0001 0265         S89_PROG_EN();
000d0e 940e 2eaf 	CALL SUBOPT_0x24
                 ; 0001 0266         progOK=1;
000d10 e011      	LDI  R17,LOW(1)
                 ; 0001 0267     }
                 ; 0001 0268     else
000d11 c023      	RJMP _0x20094
                 _0x20093:
                 ; 0001 0269     {
                 ; 0001 026A       	//    
                 ; 0001 026B         ReleasePorts(); 	//  
000d12 dfc0      	RCALL _ReleasePorts
                 ; 0001 026C 		CatchPorts();		//    ISP
000d13 dfaf      	RCALL _CatchPorts
                 ; 0001 026D    		AVR_DELAY_RESET();	// 
000d14 940e 2eb7 	CALL SUBOPT_0x25
                 ; 0001 026E 
                 ; 0001 026F         // 32      
                 ; 0001 0270         for(c = 0; c < 32; c++)
000d16 e000      	LDI  R16,LOW(0)
                 _0x20096:
000d17 3200      	CPI  R16,32
000d18 f4c0      	BRSH _0x20097
                 ; 0001 0271         {
                 ; 0001 0272            	//      
                 ; 0001 0273 			//   3-   SPI      
                 ; 0001 0274           	UCHAR ctrl_byte = AVR_PROG_EN();
                 ; 0001 0275             ExSPI(0x00);
000d19 9721      	SBIW R28,1
                 ;	ctrl_byte -> Y+0
000d1a 940e 2eaf 	CALL SUBOPT_0x24
000d1c 83e8      	ST   Y,R30
000d1d e0e0      	LDI  R30,LOW(0)
000d1e 93ea      	ST   -Y,R30
000d1f df6f      	RCALL _ExSPI
                 ; 0001 0276 
                 ; 0001 0277             //     -  
                 ; 0001 0278             if(0x53 == ctrl_byte){
000d20 81e8      	LD   R30,Y
000d21 35e3      	CPI  R30,LOW(0x53)
000d22 f419      	BRNE _0x20098
                 ; 0001 0279            		progOK=1;
000d23 e011      	LDI  R17,LOW(1)
                 ; 0001 027A                 break;//goto m1;
000d24 9621      	ADIW R28,1
000d25 c00b      	RJMP _0x20097
                 ; 0001 027B            	}
                 ; 0001 027C             //    ,      
                 ; 0001 027D           	SET_SCK();
                 _0x20098:
000d26 9a5f      	SBI  0xB,7
                 ; 0001 027E     		delay_us(50);//__delay_cycles(600); //  50 
                +
000d27 ec88     +LDI R24 , LOW ( 200 )
                +__DELAY_USB_LOOP :
000d28 958a     +DEC R24
000d29 f7f1     +BRNE __DELAY_USB_LOOP
                 	__DELAY_USB 200
                 ; 0001 027F 			CLR_SCK();
000d2a 985f      	CBI  0xB,7
                 ; 0001 0280     		delay_us(50);//__delay_cycles(600);
                +
000d2b ec88     +LDI R24 , LOW ( 200 )
                +__DELAY_USB_LOOP :
000d2c 958a     +DEC R24
000d2d f7f1     +BRNE __DELAY_USB_LOOP
                 	__DELAY_USB 200
                 ; 0001 0281         }
000d2e 9621      	ADIW R28,1
000d2f 5f0f      	SUBI R16,-1
000d30 cfe6      	RJMP _0x20096
                 _0x20097:
                 ; 0001 0282 
                 ; 0001 0283         //    ,
                 ; 0001 0284         // ,    
                 ; 0001 0285         if(progOK==0){
000d31 3010      	CPI  R17,0
000d32 f411      	BRNE _0x2009D
                 ; 0001 0286             ReleasePorts(); //  
000d33 df9f      	RCALL _ReleasePorts
                 ; 0001 0287             err = NACK; //   
000d34 e33f      	LDI  R19,LOW(63)
                 ; 0001 0288         }
                 ; 0001 0289     }
                 _0x2009D:
                 _0x20094:
                 ; 0001 028A //:m1
                 ; 0001 028B     PutOneChar(err);
000d35 933a      	ST   -Y,R19
000d36 dfac      	RCALL _PutOneChar
                 ; 0001 028C     if(progOK==0){
000d37 3010      	CPI  R17,0
000d38 f411      	BRNE _0x2009E
                 ; 0001 028D         LED_WR_OFF();//CLR_LED_WR();
000d39 9a29      	SBI  0x5,1
                 ; 0001 028E         LED_RD_OFF();//CLR_LED_RD();
000d3a 9a29      	SBI  0x5,1
                 ; 0001 028F     }
                 ; 0001 0290     g_IsFuseClock=FALSE;
                 _0x2009E:
000d3b 24aa      	CLR  R10
                 ; 0001 0291 }
000d3c c2e1      	RJMP _0x20C0023
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;   
                 ;******************************************************************************/
                 ;void GetDevCodes(void)
                 ; 0001 0297 {
                 _GetDevCodes:
                 ; .FSTART _GetDevCodes
                 ; 0001 0298   	UCHAR code, i = 0;
                 ; 0001 0299     do
000d3d 931a      	ST   -Y,R17
000d3e 930a      	ST   -Y,R16
                 ;	code -> R17
                 ;	i -> R16
000d3f e000      	LDI  R16,0
                 _0x200A4:
                 ; 0001 029A     {
                 ; 0001 029B       	code = DeviceDesc[i];
000d40 2fe0      	MOV  R30,R16
000d41 e0f0      	LDI  R31,0
000d42 59e8      	SUBI R30,LOW(-_DeviceDesc*2)
000d43 4fff      	SBCI R31,HIGH(-_DeviceDesc*2)
000d44 9114      	LPM  R17,Z
                 ; 0001 029C       	PutOneChar(code);
000d45 931a      	ST   -Y,R17
000d46 df9c      	RCALL _PutOneChar
                 ; 0001 029D       	i += 2;
000d47 5f0e      	SUBI R16,-LOW(2)
                 ; 0001 029E 	}
                 ; 0001 029F     while(0!= code);
000d48 3010      	CPI  R17,0
000d49 f7b1      	BRNE _0x200A4
                 ; 0001 02A0 }
000d4a c272      	RJMP _0x20C0025
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;   
                 ;     ,   
                 ;   
                 ;******************************************************************************/
                 ;void SetDevType(void)
                 ; 0001 02A8 {
                 _SetDevType:
                 ; .FSTART _SetDevType
                 ; 0001 02A9   	UCHAR code, err = NACK, i = 0, request;
                 ; 0001 02AA 
                 ; 0001 02AB     // ,     
                 ; 0001 02AC     CheckCommParams(1);
000d4b 940e 3592 	CALL __SAVELOCR4
                 ;	code -> R17
                 ;	err -> R16
                 ;	i -> R19
                 ;	request -> R18
000d4d e30f      	LDI  R16,63
000d4e e030      	LDI  R19,0
000d4f 940e 2eba 	CALL SUBOPT_0x26
                 ; 0001 02AD     if(TRUE == g_NeedParams)
000d51 f409      	BRNE _0x200A6
                 ; 0001 02AE       	return;
000d52 c2cb      	RJMP _0x20C0023
                 ; 0001 02AF 
                 ; 0001 02B0     request = GetOneChar();
                 _0x200A6:
000d53 df8d      	RCALL _GetOneChar
000d54 2f2e      	MOV  R18,R30
                 ; 0001 02B1 
                 ; 0001 02B2     //         
                 ; 0001 02B3     //      0
                 ; 0001 02B4 	while(0 != (code = DeviceDesc[i]))
                 _0x200A7:
000d55 2fe3      	MOV  R30,R19
000d56 e0f0      	LDI  R31,0
000d57 59e8      	SUBI R30,LOW(-_DeviceDesc*2)
000d58 4fff      	SBCI R31,HIGH(-_DeviceDesc*2)
000d59 91e4      	LPM  R30,Z
000d5a 2f1e      	MOV  R17,R30
000d5b 30e0      	CPI  R30,0
000d5c f109      	BREQ _0x200A9
                 ; 0001 02B5     {
                 ; 0001 02B6       	//   ,   ,
                 ; 0001 02B7       	//    
                 ; 0001 02B8       	if(request == code)
000d5d 1712      	CP   R17,R18
000d5e f4e9      	BRNE _0x200AA
                 ; 0001 02B9         {
                 ; 0001 02BA           	//   
                 ; 0001 02BB           	g_DeviceCode = DeviceDesc[i];
000d5f 2fe3      	MOV  R30,R19
000d60 e0f0      	LDI  R31,0
000d61 59e8      	SUBI R30,LOW(-_DeviceDesc*2)
000d62 4fff      	SBCI R31,HIGH(-_DeviceDesc*2)
000d63 90d4      	LPM  R13,Z
                 ; 0001 02BC           	g_DevicePollCode = DeviceDesc[i + 1];
000d64 2fe3      	MOV  R30,R19
000d65 e0f0      	LDI  R31,0
                +
000d66 59e7     +SUBI R30 , LOW ( - 2 * _DeviceDesc - ( 1 ) )
000d67 4fff     +SBCI R31 , HIGH ( - 2 * _DeviceDesc - ( 1 ) )
                 	__ADDW1FN _DeviceDesc,1
000d68 9004      	LPM  R0,Z
000d69 9200 038b 	STS  _g_DevicePollCode,R0
                 ; 0001 02BD             err = ACK;
000d6b e00d      	LDI  R16,LOW(13)
                 ; 0001 02BE             if(0x7F < g_DeviceCode)
000d6c e7af      	LDI  R26,LOW(127)
000d6d 15ad      	CP   R26,R13
000d6e f410      	BRSH _0x200AB
                 ; 0001 02BF             	g_DeviceType = S89;
000d6f e0e2      	LDI  R30,LOW(2)
000d70 c009      	RJMP _0x20165
                 ; 0001 02C0             else
                 _0x200AB:
                 ; 0001 02C1               	if((g_DevicePollCode == 0x7F) ||
                 ; 0001 02C2                    (g_DevicePollCode == 0xFF))
000d71 91a0 038b 	LDS  R26,_g_DevicePollCode
000d73 37af      	CPI  R26,LOW(0x7F)
000d74 f011      	BREQ _0x200AE
000d75 3faf      	CPI  R26,LOW(0xFF)
000d76 f411      	BRNE _0x200AD
                 _0x200AE:
                 ; 0001 02C3                 	g_DeviceType = CLASSIC;
000d77 e0e1      	LDI  R30,LOW(1)
000d78 c001      	RJMP _0x20165
                 ; 0001 02C4                 else
                 _0x200AD:
                 ; 0001 02C5                   	g_DeviceType = MEGA;
000d79 e0e0      	LDI  R30,LOW(0)
                 _0x20165:
000d7a 93e0 038a 	STS  _g_DeviceType,R30
                 ; 0001 02C6         }
                 ; 0001 02C7 
                 ; 0001 02C8         i += 2;
                 _0x200AA:
000d7c 5f3e      	SUBI R19,-LOW(2)
                 ; 0001 02C9     }
000d7d cfd7      	RJMP _0x200A7
                 _0x200A9:
                 ; 0001 02CA 
                 ; 0001 02CB     PutOneChar(err);
000d7e 930a      	ST   -Y,R16
000d7f df63      	RCALL _PutOneChar
                 ; 0001 02CC }
000d80 c29d      	RJMP _0x20C0023
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ; 
                 ;******************************************************************************/
                 ;void SetLED(void)
                 ; 0001 02D3 {
                 _SetLED:
                 ; .FSTART _SetLED
                 ; 0001 02D4   	// ,     
                 ; 0001 02D5     CheckCommParams(1);
000d81 940e 2eba 	CALL SUBOPT_0x26
                 ; 0001 02D6     if(TRUE == g_NeedParams)
000d83 f409      	BRNE _0x200B1
                 ; 0001 02D7       	return;
000d84 9508      	RET
                 ; 0001 02D8 
                 ; 0001 02D9   	GetOneChar();
                 _0x200B1:
000d85 df5b      	RCALL _GetOneChar
                 ; 0001 02DA 	PutOneChar(ACK);
000d86 c20e      	RJMP _0x20C0027
                 ; 0001 02DB }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ; 
                 ;******************************************************************************/
                 ;void ClrLED(void)
                 ; 0001 02E2 {
                 _ClrLED:
                 ; .FSTART _ClrLED
                 ; 0001 02E3   	// ,     
                 ; 0001 02E4     CheckCommParams(1);
000d87 940e 2eba 	CALL SUBOPT_0x26
                 ; 0001 02E5     if(TRUE == g_NeedParams)
000d89 f409      	BRNE _0x200B2
                 ; 0001 02E6       	return;
000d8a 9508      	RET
                 ; 0001 02E7 
                 ; 0001 02E8   	GetOneChar();
                 _0x200B2:
000d8b df55      	RCALL _GetOneChar
                 ; 0001 02E9 	PutOneChar(ACK);
000d8c c208      	RJMP _0x20C0027
                 ; 0001 02EA }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ; :   SPI 3      
                 ;    4- (0x00)
                 ;******************************************************************************/
                 ;void tx123rx4(void)
                 ; 0001 02F1 {
                 _tx123rx4:
                 ; .FSTART _tx123rx4
                 ; 0001 02F2   	UCHAR b1,b2,b3;
                 ; 0001 02F3     // ,     
                 ; 0001 02F4     CheckCommParams(3);
000d8d 940e 3592 	CALL __SAVELOCR4
                 ;	b1 -> R17
                 ;	b2 -> R16
                 ;	b3 -> R19
000d8f 940e 2ec2 	CALL SUBOPT_0x27
                 ; 0001 02F5     if(TRUE == g_NeedParams)
000d91 f409      	BRNE _0x200B3
                 ; 0001 02F6       	return;
000d92 c28b      	RJMP _0x20C0023
                 ; 0001 02F7 
                 ; 0001 02F8     LED_RD_ON();
                 _0x200B3:
000d93 940e 2eca 	CALL SUBOPT_0x28
                 ; 0001 02F9     LED_WR_ON();
                 ; 0001 02FA 
                 ; 0001 02FB     b1 = GetOneChar();
                 ; 0001 02FC     b2 = GetOneChar();
                 ; 0001 02FD     b3 = GetOneChar();
                 ; 0001 02FE   	PutOneChar(Write1234(b1, b2, b3, 0x00));
000d95 931a      	ST   -Y,R17
000d96 930a      	ST   -Y,R16
000d97 933a      	ST   -Y,R19
000d98 940e 2ed6 	CALL SUBOPT_0x29
000d9a 940e 2eda 	CALL SUBOPT_0x2A
                 ; 0001 02FF     PutOneChar(ACK);
                 ; 0001 0300     DELAY_WR_FLASH();
                 ; 0001 0301 
                 ; 0001 0302     LED_RD_OFF();
000d9c 9a29      	SBI  0x5,1
                 ; 0001 0303     LED_WR_OFF();
000d9d 9a29      	SBI  0x5,1
                 ; 0001 0304 }
000d9e c27f      	RJMP _0x20C0023
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ; :   SPI 3      
                 ;    4- (d4)
                 ;******************************************************************************/
                 ;void tx1234rx4(void)
                 ; 0001 030B {
                 _tx1234rx4:
                 ; .FSTART _tx1234rx4
                 ; 0001 030C   	UCHAR b1,b2,b3,b4;
                 ; 0001 030D     // ,     
                 ; 0001 030E     CheckCommParams(4);
000d9f 940e 3592 	CALL __SAVELOCR4
                 ;	b1 -> R17
                 ;	b2 -> R16
                 ;	b3 -> R19
                 ;	b4 -> R18
000da1 940e 2ee2 	CALL SUBOPT_0x2B
                 ; 0001 030F     if(TRUE == g_NeedParams)
000da3 f409      	BRNE _0x200BC
                 ; 0001 0310       	return;
000da4 c279      	RJMP _0x20C0023
                 ; 0001 0311 
                 ; 0001 0312     LED_RD_ON();
                 _0x200BC:
000da5 940e 2eca 	CALL SUBOPT_0x28
                 ; 0001 0313     LED_WR_ON();
                 ; 0001 0314 
                 ; 0001 0315     b1 = GetOneChar();
                 ; 0001 0316     b2 = GetOneChar();
                 ; 0001 0317     b3 = GetOneChar();
                 ; 0001 0318     b4 = GetOneChar();
000da7 df39      	RCALL _GetOneChar
000da8 2f2e      	MOV  R18,R30
                 ; 0001 0319     PutOneChar(Write1234(b1, b2, b3, b4));
000da9 931a      	ST   -Y,R17
000daa 930a      	ST   -Y,R16
000dab 933a      	ST   -Y,R19
000dac 932a      	ST   -Y,R18
000dad df4a      	RCALL _Write1234
000dae 940e 2eda 	CALL SUBOPT_0x2A
                 ; 0001 031A   	PutOneChar(ACK);
                 ; 0001 031B     DELAY_WR_FLASH();
                 ; 0001 031C 
                 ; 0001 031D     LED_RD_OFF();
000db0 9a29      	SBI  0x5,1
                 ; 0001 031E     LED_WR_OFF();
000db1 9a29      	SBI  0x5,1
                 ; 0001 031F }
000db2 c26b      	RJMP _0x20C0023
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;   ,  
                 ;******************************************************************************/
                 ;void WriteProgLB(void)
                 ; 0001 0325 {
                 _WriteProgLB:
                 ; .FSTART _WriteProgLB
                 ; 0001 0326   	UCHAR data;
                 ; 0001 0327     //   
                 ; 0001 0328   	LED_WR_ON();
000db3 931a      	ST   -Y,R17
                 ;	data -> R17
000db4 940e 2eea 	CALL SUBOPT_0x2C
                 ; 0001 0329 
                 ; 0001 032A   	//   
                 ; 0001 032B 	data = GetOneChar();
                 ; 0001 032C 
                 ; 0001 032D     //  
                 ; 0001 032E     if(g_DeviceType == S89)
000db6 91a0 038a 	LDS  R26,_g_DeviceType
000db8 30a2      	CPI  R26,LOW(0x2)
000db9 f439      	BRNE _0x200C7
                 ; 0001 032F     	S89_WR_FLASH(g_Addr, data);
000dba 940e 2eef 	CALL SUBOPT_0x2D
000dbc 60e2      	ORI  R30,2
000dbd 940e 2eff 	CALL SUBOPT_0x2E
000dbf df34      	RCALL _Write123
                 ; 0001 0330     else
000dc0 c004      	RJMP _0x200C8
                 _0x200C7:
                 ; 0001 0331     	AVR_WR_FLASH_LB(g_Addr, data);
000dc1 e4e0      	LDI  R30,LOW(64)
000dc2 940e 2f05 	CALL SUBOPT_0x2F
000dc4 df33      	RCALL _Write1234
                 ; 0001 0332 
                 ; 0001 0333     //   
                 ; 0001 0334 	PollData(0x20, data);
                 _0x200C8:
000dc5 e2e0      	LDI  R30,LOW(32)
000dc6 93ea      	ST   -Y,R30
000dc7 931a      	ST   -Y,R17
000dc8 d02d      	RCALL _PollData
                 ; 0001 0335 
                 ; 0001 0336     //  ,  89S
                 ; 0001 0337     if(S89 == g_DeviceType)
000dc9 91e0 038a 	LDS  R30,_g_DeviceType
000dcb 30e2      	CPI  R30,LOW(0x2)
000dcc f411      	BRNE _0x200C9
                 ; 0001 0338       	g_Addr++;
000dcd 940e 2f0a 	CALL SUBOPT_0x30
                 ; 0001 0339 
                 ; 0001 033A     //   
                 ; 0001 033B     LED_WR_OFF();
                 _0x200C9:
000dcf 9a29      	SBI  0x5,1
                 ; 0001 033C }
000dd0 c184      	RJMP _0x20C0029
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;   ,  
                 ;******************************************************************************/
                 ;void WriteProgHB(void)
                 ; 0001 0342 {
                 _WriteProgHB:
                 ; .FSTART _WriteProgHB
                 ; 0001 0343   	UCHAR data;
                 ; 0001 0344     if(S89 != g_DeviceType)
000dd1 931a      	ST   -Y,R17
                 ;	data -> R17
000dd2 91e0 038a 	LDS  R30,_g_DeviceType
000dd4 30e2      	CPI  R30,LOW(0x2)
000dd5 f069      	BREQ _0x200CC
                 ; 0001 0345     {
                 ; 0001 0346       	//   
                 ; 0001 0347   		LED_WR_ON();
000dd6 940e 2eea 	CALL SUBOPT_0x2C
                 ; 0001 0348 
                 ; 0001 0349       	//    
                 ; 0001 034A 		data = GetOneChar();
                 ; 0001 034B 
                 ; 0001 034C       	//   SPI  
                 ; 0001 034D         AVR_WR_FLASH_HB(g_Addr, data);
000dd8 e4e8      	LDI  R30,LOW(72)
000dd9 940e 2f05 	CALL SUBOPT_0x2F
000ddb df1c      	RCALL _Write1234
                 ; 0001 034E 
                 ; 0001 034F     	//   
                 ; 0001 0350 		PollData(0x28, data);
000ddc e2e8      	LDI  R30,LOW(40)
000ddd 93ea      	ST   -Y,R30
000dde 931a      	ST   -Y,R17
000ddf d016      	RCALL _PollData
                 ; 0001 0351 
                 ; 0001 0352     	//  
                 ; 0001 0353     	g_Addr++;
000de0 940e 2f0a 	CALL SUBOPT_0x30
                 ; 0001 0354 
                 ; 0001 0355         //   
                 ; 0001 0356     	LED_WR_OFF();
000de2 9a29      	SBI  0x5,1
                 ; 0001 0357     }
                 ; 0001 0358 }
                 _0x200CC:
000de3 c171      	RJMP _0x20C0029
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;    ,  
                 ;******************************************************************************/
                 ;void WriteProgOneLB(void)
                 ; 0001 035E {
                 _WriteProgOneLB:
                 ; .FSTART _WriteProgOneLB
                 ; 0001 035F   	// ,     
                 ; 0001 0360     CheckCommParams(1);
000de4 940e 2eba 	CALL SUBOPT_0x26
                 ; 0001 0361     if(TRUE == g_NeedParams)
000de6 f409      	BRNE _0x200D1
                 ; 0001 0362       	return;
000de7 9508      	RET
                 ; 0001 0363 
                 ; 0001 0364   	WriteProgLB();
                 _0x200D1:
000de8 dfca      	RCALL _WriteProgLB
                 ; 0001 0365     PutOneChar(ACK); // OK
000de9 c1ab      	RJMP _0x20C0027
                 ; 0001 0366 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;    ,  
                 ;******************************************************************************/
                 ;void WriteProgOneHB(void)
                 ; 0001 036C {
                 _WriteProgOneHB:
                 ; .FSTART _WriteProgOneHB
                 ; 0001 036D   	// ,     
                 ; 0001 036E     CheckCommParams(1);
000dea 940e 2eba 	CALL SUBOPT_0x26
                 ; 0001 036F     if(TRUE == g_NeedParams)
000dec f409      	BRNE _0x200D2
                 ; 0001 0370       	return;
000ded 9508      	RET
                 ; 0001 0371 
                 ; 0001 0372   	WriteProgHB();
                 _0x200D2:
000dee dfe2      	RCALL _WriteProgHB
                 ; 0001 0373     PutOneChar(ACK); // OK
000def c1a5      	RJMP _0x20C0027
                 ; 0001 0374 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;    
                 ;******************************************************************************/
                 ;void WriteOneData(void)
                 ; 0001 037A {
                 _WriteOneData:
                 ; .FSTART _WriteOneData
                 ; 0001 037B   	// ,     
                 ; 0001 037C     CheckCommParams(1);
000df0 940e 2eba 	CALL SUBOPT_0x26
                 ; 0001 037D     if(TRUE == g_NeedParams)
000df2 f409      	BRNE _0x200D3
                 ; 0001 037E       	return;
000df3 9508      	RET
                 ; 0001 037F 
                 ; 0001 0380   	WriteData();
                 _0x200D3:
000df4 d066      	RCALL _WriteData
                 ; 0001 0381     PutOneChar(ACK); // OK
000df5 c19f      	RJMP _0x20C0027
                 ; 0001 0382 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;     
                 ;******************************************************************************/
                 ;void PollData(UCHAR command, UCHAR data)
                 ; 0001 0388 {
                 _PollData:
                 ; .FSTART _PollData
                 ; 0001 0389   	//  
                 ; 0001 038A   	if(g_DevicePollCode & 0x0F)
                 ;	command -> Y+1
                 ;	data -> Y+0
000df6 91e0 038b 	LDS  R30,_g_DevicePollCode
000df8 70ef      	ANDI R30,LOW(0xF)
000df9 f139      	BREQ _0x200D4
                 ; 0001 038B     {
                 ; 0001 038C       	//      ,     
                 ; 0001 038D       	if(g_DevicePollCode == data)
000dfa 81e8      	LD   R30,Y
000dfb 91a0 038b 	LDS  R26,_g_DevicePollCode
000dfd 17ea      	CP   R30,R26
000dfe f419      	BRNE _0x200D5
                 ; 0001 038E         	DELAY_WR_FLASH();
000dff 940e 2de3 	CALL SUBOPT_0x8
                 ; 0001 038F 
                 ; 0001 0390         else
000e01 c01f      	RJMP _0x200D6
                 _0x200D5:
                 ; 0001 0391         {
                 ; 0001 0392           	// 256  
                 ; 0001 0393           	UCHAR cycle = 0xFF;
                 ; 0001 0394           	do
000e02 9721      	SBIW R28,1
000e03 efef      	LDI  R30,LOW(255)
000e04 83e8      	ST   Y,R30
                 ;	command -> Y+2
                 ;	data -> Y+1
                 ;	cycle -> Y+0
                 _0x200D8:
                 ; 0001 0395             {
                 ; 0001 0396               	//  
                 ; 0001 0397               	if(S89 == g_DeviceType) // 89S
000e05 91e0 038a 	LDS  R30,_g_DeviceType
000e07 30e2      	CPI  R30,LOW(0x2)
000e08 f441      	BRNE _0x200DA
                 ; 0001 0398                 {
                 ; 0001 0399                   	if(data == S89_RD_FLASH(g_Addr))
000e09 940e 2eef 	CALL SUBOPT_0x2D
000e0b 940e 2f12 	CALL SUBOPT_0x31
000e0d 81a9      	LDD  R26,Y+1
000e0e 17ea      	CP   R30,R26
000e0f f059      	BREQ _0x200D9
                 ; 0001 039A                     	break; // OK
                 ; 0001 039B                 }
                 ; 0001 039C                 else // AVR
000e10 c006      	RJMP _0x200DC
                 _0x200DA:
                 ; 0001 039D                 {
                 ; 0001 039E                   	if(data == Write1234(command, HIBYTE(g_Addr), LOBYTE(g_Addr), 0x00))
000e11 81ea      	LDD  R30,Y+2
000e12 940e 2f1b 	CALL SUBOPT_0x32
000e14 81a9      	LDD  R26,Y+1
000e15 17ea      	CP   R30,R26
000e16 f021      	BREQ _0x200D9
                 ; 0001 039F                 		break; // OK
                 ; 0001 03A0                 }
                 _0x200DC:
                 ; 0001 03A1             }
                 ; 0001 03A2             while(--cycle);
000e17 81e8      	LD   R30,Y
000e18 50e1      	SUBI R30,LOW(1)
000e19 83e8      	ST   Y,R30
000e1a f751      	BRNE _0x200D8
                 _0x200D9:
                 ; 0001 03A3 
                 ; 0001 03A4             //        (((
                 ; 0001 03A5             if(0 == cycle)
000e1b 81e8      	LD   R30,Y
000e1c 30e0      	CPI  R30,0
000e1d f411      	BRNE _0x200DE
                 ; 0001 03A6             	DELAY_WR_FLASH();
000e1e 940e 2de3 	CALL SUBOPT_0x8
                 ; 0001 03A7         }
                 _0x200DE:
000e20 9621      	ADIW R28,1
                 _0x200D6:
                 ; 0001 03A8     }
                 ; 0001 03A9 }
                 _0x200D4:
000e21 c2fb      	RJMP _0x20C0021
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;    
                 ;******************************************************************************/
                 ;void WritePage(void)
                 ; 0001 03AF {
                 _WritePage:
                 ; .FSTART _WritePage
                 ; 0001 03B0   	//   Write Programm Memory Page
                 ; 0001 03B1   	if(MEGA == g_DeviceType) //mega/tiny AVR
000e22 91e0 038a 	LDS  R30,_g_DeviceType
000e24 30e0      	CPI  R30,0
000e25 f4e1      	BRNE _0x200DF
                 ; 0001 03B2     {
                 ; 0001 03B3       	UINT page_addr = g_Addr;
                 ; 0001 03B4         if(TRUE == g_BlockMode)
000e26 9722      	SBIW R28,2
                 ;	page_addr -> Y+0
000e27 91e0 0382 	LDS  R30,_g_Addr
000e29 91f0 0383 	LDS  R31,_g_Addr+1
000e2b 83e8      	ST   Y,R30
000e2c 83f9      	STD  Y+1,R31
000e2d 91e0 0389 	LDS  R30,_g_BlockMode
000e2f 30e1      	CPI  R30,LOW(0x1)
000e30 f429      	BRNE _0x200E0
                 ; 0001 03B5         	page_addr--;
000e31 81e8      	LD   R30,Y
000e32 81f9      	LDD  R31,Y+1
000e33 9731      	SBIW R30,1
000e34 83e8      	ST   Y,R30
000e35 83f9      	STD  Y+1,R31
                 ; 0001 03B6   		Write1234(0x4C, HIBYTE(page_addr), LOBYTE(page_addr), 0x00);
                 _0x200E0:
000e36 e4ec      	LDI  R30,LOW(76)
000e37 93ea      	ST   -Y,R30
000e38 81ea      	LDD  R30,Y+2
000e39 70f0      	ANDI R31,HIGH(0x0)
000e3a 93ea      	ST   -Y,R30
000e3b 81ea      	LDD  R30,Y+2
000e3c 93ea      	ST   -Y,R30
000e3d 940e 2ed6 	CALL SUBOPT_0x29
                 ; 0001 03B7 		DELAY_WR_FLASH();
000e3f 940e 2de3 	CALL SUBOPT_0x8
                 ; 0001 03B8     }
000e41 9622      	ADIW R28,2
                 ; 0001 03B9 }
                 _0x200DF:
000e42 9508      	RET
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ;******************************************************************************/
                 ;void ReadProg(UCHAR com_byte1, UCHAR com_byte2)
                 ; 0001 03BF {
                 _ReadProg:
                 ; .FSTART _ReadProg
                 ; 0001 03C0   	//   
                 ; 0001 03C1   	LED_RD_ON();
                 ;	com_byte1 -> Y+1
                 ;	com_byte2 -> Y+0
000e43 9829      	CBI  0x5,1
                 ; 0001 03C2 
                 ; 0001 03C3   	if(S89 != g_DeviceType)// AVR -  
000e44 91e0 038a 	LDS  R30,_g_DeviceType
000e46 30e2      	CPI  R30,LOW(0x2)
000e47 f049      	BREQ _0x200E3
                 ; 0001 03C4     {
                 ; 0001 03C5       	PutOneChar(Write1234(com_byte1, HIBYTE(g_Addr), LOBYTE(g_Addr), 0x00));
000e48 81e9      	LDD  R30,Y+1
000e49 940e 2f1b 	CALL SUBOPT_0x32
000e4b 93ea      	ST   -Y,R30
000e4c de96      	RCALL _PutOneChar
                 ; 0001 03C6         PutOneChar(Write1234(com_byte2, HIBYTE(g_Addr), LOBYTE(g_Addr), 0x00));
000e4d 81e8      	LD   R30,Y
000e4e 940e 2f1b 	CALL SUBOPT_0x32
000e50 c004      	RJMP _0x20166
                 ; 0001 03C7     }
                 ; 0001 03C8     else//S89 -  
                 _0x200E3:
                 ; 0001 03C9     {
                 ; 0001 03CA       	PutOneChar(S89_RD_FLASH(g_Addr));
000e51 940e 2eef 	CALL SUBOPT_0x2D
000e53 940e 2f12 	CALL SUBOPT_0x31
                 _0x20166:
000e55 93ea      	ST   -Y,R30
000e56 de8c      	RCALL _PutOneChar
                 ; 0001 03CB     }
                 ; 0001 03CC 
                 ; 0001 03CD     //  
                 ; 0001 03CE 	g_Addr++;
000e57 940e 2f0a 	CALL SUBOPT_0x30
                 ; 0001 03CF 
                 ; 0001 03D0     //   
                 ; 0001 03D1   	LED_RD_OFF();
000e59 9a29      	SBI  0x5,1
                 ; 0001 03D2 }
000e5a c2c2      	RJMP _0x20C0021
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;    (EEPROM)
                 ;******************************************************************************/
                 ;void WriteData(void)
                 ; 0001 03D8 {
                 _WriteData:
                 ; .FSTART _WriteData
                 ; 0001 03D9   	UCHAR data;
                 ; 0001 03DA     //   
                 ; 0001 03DB   	LED_WR_ON();
000e5b 931a      	ST   -Y,R17
                 ;	data -> R17
000e5c 940e 2eea 	CALL SUBOPT_0x2C
                 ; 0001 03DC 
                 ; 0001 03DD 	//   
                 ; 0001 03DE 	data = GetOneChar();
                 ; 0001 03DF 
                 ; 0001 03E0     //   
                 ; 0001 03E1     if(S89 != g_DeviceType) // AVR
000e5e 91e0 038a 	LDS  R30,_g_DeviceType
000e60 30e2      	CPI  R30,LOW(0x2)
000e61 f029      	BREQ _0x200E9
                 ; 0001 03E2     	AVR_WR_EEPROM(g_Addr, data);
000e62 ece0      	LDI  R30,LOW(192)
000e63 940e 2f05 	CALL SUBOPT_0x2F
000e65 de92      	RCALL _Write1234
                 ; 0001 03E3     else // 89S
000e66 c008      	RJMP _0x200EA
                 _0x200E9:
                 ; 0001 03E4     	if(0x86 == g_DeviceCode)// EEPROM    8252
000e67 e8a6      	LDI  R26,LOW(134)
000e68 16da      	CP   R13,R26
000e69 f429      	BRNE _0x200EB
                 ; 0001 03E5            	S89_WR_EEPROM(g_Addr, data);
000e6a 940e 2eef 	CALL SUBOPT_0x2D
000e6c 60e6      	ORI  R30,LOW(0x6)
000e6d 940e 2f24 	CALL SUBOPT_0x33
                 ; 0001 03E6 
                 ; 0001 03E7     DELAY_WR_EEPROM();
                 _0x200EB:
                 _0x200EA:
000e6f 940e 2de3 	CALL SUBOPT_0x8
                 ; 0001 03E8 
                 ; 0001 03E9     //  
                 ; 0001 03EA     g_Addr++;
000e71 940e 2f0a 	CALL SUBOPT_0x30
                 ; 0001 03EB 
                 ; 0001 03EC     //   
                 ; 0001 03ED     LED_WR_OFF();
000e73 9a29      	SBI  0x5,1
                 ; 0001 03EE }
000e74 c0e0      	RJMP _0x20C0029
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;   (EEPROM)
                 ;******************************************************************************/
                 ;void ReadData(void)
                 ; 0001 03F4 {
                 _ReadData:
                 ; .FSTART _ReadData
                 ; 0001 03F5   	//   
                 ; 0001 03F6   	LED_RD_ON();
000e75 9829      	CBI  0x5,1
                 ; 0001 03F7 
                 ; 0001 03F8   	//   
                 ; 0001 03F9     if(S89 != g_DeviceType)// AVR
000e76 91e0 038a 	LDS  R30,_g_DeviceType
000e78 30e2      	CPI  R30,LOW(0x2)
000e79 f021      	BREQ _0x200F0
                 ; 0001 03FA     	PutOneChar(Write1234(0xA0, HIBYTE(g_Addr), LOBYTE(g_Addr), 0x00));
000e7a eae0      	LDI  R30,LOW(160)
000e7b 940e 2f1b 	CALL SUBOPT_0x32
000e7d c00c      	RJMP _0x20167
                 ; 0001 03FB 	else
                 _0x200F0:
                 ; 0001 03FC     	if(0x86 == g_DeviceCode)//S89 EEPROM    8252
000e7e e8a6      	LDI  R26,LOW(134)
000e7f 16da      	CP   R13,R26
000e80 f459      	BRNE _0x200F2
                 ; 0001 03FD         	PutOneChar(Write123(((HIBYTE(g_Addr) << 3) | 0x05), LOBYTE(g_Addr), 0x00));
000e81 91e0 0383 	LDS  R30,_g_Addr+1
000e83 70f0      	ANDI R31,HIGH(0x0)
000e84 0fee      	LSL  R30
000e85 0fee      	LSL  R30
000e86 0fee      	LSL  R30
000e87 60e5      	ORI  R30,LOW(0x5)
000e88 940e 2f24 	CALL SUBOPT_0x33
                 _0x20167:
000e8a 93ea      	ST   -Y,R30
000e8b de57      	RCALL _PutOneChar
                 ; 0001 03FE 
                 ; 0001 03FF     //  
                 ; 0001 0400 	g_Addr++;
                 _0x200F2:
000e8c 940e 2f0a 	CALL SUBOPT_0x30
                 ; 0001 0401 
                 ; 0001 0402     //   
                 ; 0001 0403   	LED_RD_OFF();
000e8e 9a29      	SBI  0x5,1
                 ; 0001 0404 }
000e8f 9508      	RET
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;     (EEPROM) 
                 ;******************************************************************************/
                 ;void ChipErase(void)
                 ; 0001 040A {
                 _ChipErase:
                 ; .FSTART _ChipErase
                 ; 0001 040B   	//   
                 ; 0001 040C   	LED_WR_ON();
000e90 940e 2f2c 	CALL SUBOPT_0x34
                 ; 0001 040D     g_IsFuseClock=TRUE;
                 ; 0001 040E   	//   Chip Erase,   OK
                 ; 0001 040F   	if(g_DeviceType == S89)
000e92 f441      	BRNE _0x200F7
                 ; 0001 0410       	S89_CHIP_ERASE();
000e93 eaec      	LDI  R30,LOW(172)
000e94 93ea      	ST   -Y,R30
000e95 e0e4      	LDI  R30,LOW(4)
000e96 93ea      	ST   -Y,R30
000e97 e0e0      	LDI  R30,LOW(0)
000e98 93ea      	ST   -Y,R30
000e99 de5a      	RCALL _Write123
                 ; 0001 0411     else
000e9a c007      	RJMP _0x200F8
                 _0x200F7:
                 ; 0001 0412       	AVR_CHIP_ERASE();
000e9b eaec      	LDI  R30,LOW(172)
000e9c 93ea      	ST   -Y,R30
000e9d e8e0      	LDI  R30,LOW(128)
000e9e 93ea      	ST   -Y,R30
000e9f 940e 2dc0 	CALL SUBOPT_0x1
000ea1 de56      	RCALL _Write1234
                 ; 0001 0413 	DELAY_ERASE();
                 _0x200F8:
000ea2 940e 2eb7 	CALL SUBOPT_0x25
                 ; 0001 0414     PutOneChar(ACK);
000ea4 e0ed      	LDI  R30,LOW(13)
000ea5 c090      	RJMP _0x20C002A
                 ; 0001 0415 
                 ; 0001 0416     //   
                 ; 0001 0417     LED_WR_OFF();
                 ; 0001 0418     g_IsFuseClock=FALSE;
                 ; 0001 0419 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ;******************************************************************************/
                 ;void WriteLock(void)
                 ; 0001 041F {
                 _WriteLock:
                 ; .FSTART _WriteLock
                 ; 0001 0420   	UCHAR data;
                 ; 0001 0421     // ,     
                 ; 0001 0422     CheckCommParams(1);
000ea6 940e 2e93 	CALL SUBOPT_0x21
                 ;	data -> R17
                 ; 0001 0423     if(TRUE == g_NeedParams)
000ea8 f409      	BRNE _0x200FB
                 ; 0001 0424       	return;
000ea9 c0ab      	RJMP _0x20C0029
                 ; 0001 0425 
                 ; 0001 0426   	//   
                 ; 0001 0427   	LED_WR_ON();
                 _0x200FB:
000eaa 9829      	CBI  0x5,1
                 ; 0001 0428     g_IsFuseClock=TRUE;
000eab e0e1      	LDI  R30,LOW(1)
000eac 2eae      	MOV  R10,R30
                 ; 0001 0429 
                 ; 0001 042A 	//   ,  lock bits,   OK
                 ; 0001 042B 	data = GetOneChar();
000ead de33      	RCALL _GetOneChar
000eae 2f1e      	MOV  R17,R30
                 ; 0001 042C 	if(g_DeviceType == S89)
000eaf 91a0 038a 	LDS  R26,_g_DeviceType
000eb1 30a2      	CPI  R26,LOW(0x2)
000eb2 f451      	BRNE _0x200FE
                 ; 0001 042D       	S89_WR_LOCK(data);
000eb3 eaec      	LDI  R30,LOW(172)
000eb4 93ea      	ST   -Y,R30
000eb5 2fe1      	MOV  R30,R17
000eb6 7ee0      	ANDI R30,LOW(0xE0)
000eb7 60e7      	ORI  R30,LOW(0x7)
000eb8 93ea      	ST   -Y,R30
000eb9 e0e0      	LDI  R30,LOW(0)
000eba 93ea      	ST   -Y,R30
000ebb de38      	RCALL _Write123
                 ; 0001 042E     else
000ebc c009      	RJMP _0x200FF
                 _0x200FE:
                 ; 0001 042F       	AVR_WR_LOCK(data);
000ebd eaec      	LDI  R30,LOW(172)
000ebe 93ea      	ST   -Y,R30
000ebf 2fe1      	MOV  R30,R17
000ec0 6fe9      	ORI  R30,LOW(0xF9)
000ec1 93ea      	ST   -Y,R30
000ec2 e0e0      	LDI  R30,LOW(0)
000ec3 93ea      	ST   -Y,R30
000ec4 931a      	ST   -Y,R17
000ec5 de32      	RCALL _Write1234
                 ; 0001 0430 	DELAY_WR_FUSE();
                 _0x200FF:
000ec6 940e 2de3 	CALL SUBOPT_0x8
                 ; 0001 0431     PutOneChar(ACK);
000ec8 e0ed      	LDI  R30,LOW(13)
000ec9 93ea      	ST   -Y,R30
000eca de18      	RCALL _PutOneChar
                 ; 0001 0432 
                 ; 0001 0433     //   
                 ; 0001 0434     LED_WR_OFF();
000ecb c087      	RJMP _0x20C0028
                 ; 0001 0435     g_IsFuseClock=FALSE;
                 ; 0001 0436 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ;******************************************************************************/
                 ;void WriteFuse(void)
                 ; 0001 043C {
                 _WriteFuse:
                 ; .FSTART _WriteFuse
                 ; 0001 043D   	UCHAR err,data;
                 ; 0001 043E     // ,     
                 ; 0001 043F     CheckCommParams(1);
000ecc 940e 2f33 	CALL SUBOPT_0x35
                 ;	err -> R17
                 ;	data -> R16
                 ; 0001 0440     if(TRUE == g_NeedParams)
000ece f409      	BRNE _0x20102
                 ; 0001 0441       	return;
000ecf c0ed      	RJMP _0x20C0025
                 ; 0001 0442 
                 ; 0001 0443   	//   
                 ; 0001 0444   	LED_WR_ON();
                 _0x20102:
000ed0 940e 2f36 	CALL SUBOPT_0x36
                 ; 0001 0445     g_IsFuseClock=TRUE;
                 ; 0001 0446 	//   ,  fuse bits,   OK
                 ; 0001 0447 	err = ACK, data = GetOneChar();
                 ; 0001 0448     if(g_DeviceType == S89)
000ed2 f411      	BRNE _0x20105
                 ; 0001 0449       	err = NACK;
000ed3 e31f      	LDI  R17,LOW(63)
                 ; 0001 044A     else
000ed4 c005      	RJMP _0x20106
                 _0x20105:
                 ; 0001 044B     	AVR_WR_FUSE(data);
000ed5 eaec      	LDI  R30,LOW(172)
000ed6 93ea      	ST   -Y,R30
000ed7 eae0      	LDI  R30,LOW(160)
000ed8 940e 2f41 	CALL SUBOPT_0x37
                 ; 0001 044C     DELAY_WR_FUSE();
                 _0x20106:
000eda 940e 2de3 	CALL SUBOPT_0x8
                 ; 0001 044D     PutOneChar(err);
000edc 940e 2f47 	CALL SUBOPT_0x38
                 ; 0001 044E 
                 ; 0001 044F     //   
                 ; 0001 0450     LED_WR_OFF();
                 ; 0001 0451     g_IsFuseClock=FALSE;
                 ; 0001 0452 }
000ede c0de      	RJMP _0x20C0025
                 ; .FEND
                 ;void WriteHFuse(void)
                 ; 0001 0454 {
                 _WriteHFuse:
                 ; .FSTART _WriteHFuse
                 ; 0001 0455   	UCHAR err,data;
                 ; 0001 0456     // ,     
                 ; 0001 0457     CheckCommParams(1);
000edf 940e 2f33 	CALL SUBOPT_0x35
                 ;	err -> R17
                 ;	data -> R16
                 ; 0001 0458     if(TRUE == g_NeedParams)
000ee1 f409      	BRNE _0x20109
                 ; 0001 0459       	return;
000ee2 c0da      	RJMP _0x20C0025
                 ; 0001 045A 
                 ; 0001 045B   	//   
                 ; 0001 045C   	LED_WR_ON();
                 _0x20109:
000ee3 940e 2f36 	CALL SUBOPT_0x36
                 ; 0001 045D     g_IsFuseClock=TRUE;
                 ; 0001 045E 	//   ,  fuse bits,   OK
                 ; 0001 045F 	err = ACK, data = GetOneChar();
                 ; 0001 0460     if(g_DeviceType == S89)
000ee5 f411      	BRNE _0x2010C
                 ; 0001 0461       	err = NACK;
000ee6 e31f      	LDI  R17,LOW(63)
                 ; 0001 0462     else
000ee7 c005      	RJMP _0x2010D
                 _0x2010C:
                 ; 0001 0463     	AVR_WR_FUSE_H(data);
000ee8 eaec      	LDI  R30,LOW(172)
000ee9 93ea      	ST   -Y,R30
000eea eae8      	LDI  R30,LOW(168)
000eeb 940e 2f41 	CALL SUBOPT_0x37
                 ; 0001 0464     DELAY_WR_FUSE();
                 _0x2010D:
000eed 940e 2de3 	CALL SUBOPT_0x8
                 ; 0001 0465     PutOneChar(err);
000eef 940e 2f47 	CALL SUBOPT_0x38
                 ; 0001 0466 
                 ; 0001 0467     //   
                 ; 0001 0468     LED_WR_OFF();
                 ; 0001 0469     g_IsFuseClock=FALSE;
                 ; 0001 046A }
000ef1 c0cb      	RJMP _0x20C0025
                 ; .FEND
                 ;void WriteEXTFuse(void)
                 ; 0001 046C {
                 _WriteEXTFuse:
                 ; .FSTART _WriteEXTFuse
                 ; 0001 046D   	UCHAR err,data;
                 ; 0001 046E     // ,     
                 ; 0001 046F     CheckCommParams(1);
000ef2 940e 2f33 	CALL SUBOPT_0x35
                 ;	err -> R17
                 ;	data -> R16
                 ; 0001 0470     if(TRUE == g_NeedParams)
000ef4 f409      	BRNE _0x20110
                 ; 0001 0471       	return;
000ef5 c0c7      	RJMP _0x20C0025
                 ; 0001 0472 
                 ; 0001 0473   	//   
                 ; 0001 0474   	LED_WR_ON();
                 _0x20110:
000ef6 940e 2f36 	CALL SUBOPT_0x36
                 ; 0001 0475     g_IsFuseClock=TRUE;
                 ; 0001 0476 	//   ,  fuse bits,   OK
                 ; 0001 0477 	err = ACK, data = GetOneChar();
                 ; 0001 0478     if(g_DeviceType == S89)
000ef8 f411      	BRNE _0x20113
                 ; 0001 0479       	err = NACK;
000ef9 e31f      	LDI  R17,LOW(63)
                 ; 0001 047A     else
000efa c005      	RJMP _0x20114
                 _0x20113:
                 ; 0001 047B     	AVR_WR_FUSE_EXT(data);
000efb eaec      	LDI  R30,LOW(172)
000efc 93ea      	ST   -Y,R30
000efd eae4      	LDI  R30,LOW(164)
000efe 940e 2f41 	CALL SUBOPT_0x37
                 ; 0001 047C     DELAY_WR_FUSE();
                 _0x20114:
000f00 940e 2de3 	CALL SUBOPT_0x8
                 ; 0001 047D     PutOneChar(err);
000f02 940e 2f47 	CALL SUBOPT_0x38
                 ; 0001 047E 
                 ; 0001 047F     //   
                 ; 0001 0480     LED_WR_OFF();
                 ; 0001 0481     g_IsFuseClock=FALSE;
                 ; 0001 0482 }
000f04 c0b8      	RJMP _0x20C0025
                 ; .FEND
                 ;/*****************************************************************************
                 ;     ( )
                 ;******************************************************************************/
                 ;void ReadFuse(void)
                 ; 0001 0487 {
                 _ReadFuse:
                 ; .FSTART _ReadFuse
                 ; 0001 0488   	//   
                 ; 0001 0489   	LED_RD_ON();
000f05 940e 2f2c 	CALL SUBOPT_0x34
                 ; 0001 048A     g_IsFuseClock=TRUE;
                 ; 0001 048B     // 
                 ; 0001 048C     PutOneChar((g_DeviceType == S89)? NACK: AVR_RD_FUSE());
000f07 f411      	BRNE _0x20119
000f08 e3ef      	LDI  R30,LOW(63)
000f09 c006      	RJMP _0x2011A
                 _0x20119:
000f0a e5e0      	LDI  R30,LOW(80)
000f0b 93ea      	ST   -Y,R30
000f0c 940e 2dc0 	CALL SUBOPT_0x1
000f0e 940e 2ed6 	CALL SUBOPT_0x29
                 _0x2011A:
000f10 c025      	RJMP _0x20C002A
                 ; 0001 048D 
                 ; 0001 048E     //   
                 ; 0001 048F   	LED_RD_OFF();
                 ; 0001 0490     g_IsFuseClock=FALSE;
                 ; 0001 0491 }
                 ; .FEND
                 ;/*****************************************************************************
                 ;     ( )
                 ;******************************************************************************/
                 ;void ReadLock(void)
                 ; 0001 0496 {
                 _ReadLock:
                 ; .FSTART _ReadLock
                 ; 0001 0497   	//   
                 ; 0001 0498   	LED_RD_ON();
000f11 940e 2f2c 	CALL SUBOPT_0x34
                 ; 0001 0499     g_IsFuseClock=TRUE;
                 ; 0001 049A     // 
                 ; 0001 049B     PutOneChar((g_DeviceType == S89)? NACK: AVR_RD_LOCK());
000f13 f411      	BRNE _0x20120
000f14 e3ef      	LDI  R30,LOW(63)
000f15 c006      	RJMP _0x20121
                 _0x20120:
000f16 e5e8      	LDI  R30,LOW(88)
000f17 93ea      	ST   -Y,R30
000f18 940e 2dc0 	CALL SUBOPT_0x1
000f1a 940e 2ed6 	CALL SUBOPT_0x29
                 _0x20121:
000f1c c019      	RJMP _0x20C002A
                 ; 0001 049C 
                 ; 0001 049D     //   
                 ; 0001 049E   	LED_RD_OFF();
                 ; 0001 049F     g_IsFuseClock=FALSE;
                 ; 0001 04A0 }
                 ; .FEND
                 ;/*****************************************************************************
                 ;     ( )
                 ;******************************************************************************/
                 ;void ReadHFuse(void)
                 ; 0001 04A5 {
                 _ReadHFuse:
                 ; .FSTART _ReadHFuse
                 ; 0001 04A6   	//   
                 ; 0001 04A7   	LED_RD_ON();
000f1d 940e 2f2c 	CALL SUBOPT_0x34
                 ; 0001 04A8     g_IsFuseClock=TRUE;
                 ; 0001 04A9     // 
                 ; 0001 04AA     PutOneChar((g_DeviceType == S89)? NACK: AVR_RD_FUSE_H());
000f1f f411      	BRNE _0x20127
000f20 e3ef      	LDI  R30,LOW(63)
000f21 c007      	RJMP _0x20128
                 _0x20127:
000f22 e5e8      	LDI  R30,LOW(88)
000f23 93ea      	ST   -Y,R30
000f24 e0e8      	LDI  R30,LOW(8)
000f25 93ea      	ST   -Y,R30
000f26 940e 2dc0 	CALL SUBOPT_0x1
000f28 ddcf      	RCALL _Write1234
                 _0x20128:
000f29 c00c      	RJMP _0x20C002A
                 ; 0001 04AB 
                 ; 0001 04AC     //   
                 ; 0001 04AD   	LED_RD_OFF();
                 ; 0001 04AE     g_IsFuseClock=FALSE;
                 ; 0001 04AF }
                 ; .FEND
                 ;/*****************************************************************************
                 ;     ( )
                 ;******************************************************************************/
                 ;void ReadEXTFuse(void)
                 ; 0001 04B4 {
                 _ReadEXTFuse:
                 ; .FSTART _ReadEXTFuse
                 ; 0001 04B5   	//   
                 ; 0001 04B6   	LED_RD_ON();
000f2a 940e 2f2c 	CALL SUBOPT_0x34
                 ; 0001 04B7     g_IsFuseClock=TRUE;
                 ; 0001 04B8     // 
                 ; 0001 04B9     PutOneChar((g_DeviceType == S89)? NACK: AVR_RD_FUSE_EXT());
000f2c f411      	BRNE _0x2012E
000f2d e3ef      	LDI  R30,LOW(63)
000f2e c007      	RJMP _0x2012F
                 _0x2012E:
000f2f e5e0      	LDI  R30,LOW(80)
000f30 93ea      	ST   -Y,R30
000f31 e0e8      	LDI  R30,LOW(8)
000f32 93ea      	ST   -Y,R30
000f33 940e 2dc0 	CALL SUBOPT_0x1
000f35 ddc2      	RCALL _Write1234
                 _0x2012F:
                 _0x20C002A:
000f36 93ea      	ST   -Y,R30
000f37 ddab      	RCALL _PutOneChar
                 ; 0001 04BA 
                 ; 0001 04BB     //   
                 ; 0001 04BC   	LED_RD_OFF();
000f38 9a29      	SBI  0x5,1
                 ; 0001 04BD     g_IsFuseClock=FALSE;
                 _0x20C002B:
000f39 24aa      	CLR  R10
                 ; 0001 04BE }
000f3a 9508      	RET
                 ; .FEND
                 ;/*****************************************************************************
                 ;  
                 ;******************************************************************************/
                 ;void ReadSignature(void)
                 ; 0001 04C3 {
                 _ReadSignature:
                 ; .FSTART _ReadSignature
                 ; 0001 04C4   	UCHAR addr;
                 ; 0001 04C5     //   
                 ; 0001 04C6   	LED_RD_ON();
000f3b 931a      	ST   -Y,R17
                 ;	addr -> R17
000f3c 9829      	CBI  0x5,1
                 ; 0001 04C7     g_IsFuseClock=TRUE;
000f3d e0e1      	LDI  R30,LOW(1)
000f3e 2eae      	MOV  R10,R30
                 ; 0001 04C8     //   Vendor, Family, Number
                 ; 0001 04C9     addr = 2;
000f3f e012      	LDI  R17,LOW(2)
                 ; 0001 04CA     do
                 _0x20136:
                 ; 0001 04CB     {
                 ; 0001 04CC     	PutOneChar((g_DeviceType == S89)?
                 ; 0001 04CD 			0xFF:(AVR_RD_SIGN(addr)));
000f40 91a0 038a 	LDS  R26,_g_DeviceType
000f42 30a2      	CPI  R26,LOW(0x2)
000f43 f411      	BRNE _0x20138
000f44 efef      	LDI  R30,LOW(255)
000f45 c007      	RJMP _0x20139
                 _0x20138:
000f46 e3e0      	LDI  R30,LOW(48)
000f47 93ea      	ST   -Y,R30
000f48 e0e0      	LDI  R30,LOW(0)
000f49 93ea      	ST   -Y,R30
000f4a 931a      	ST   -Y,R17
000f4b 940e 2ed6 	CALL SUBOPT_0x29
                 _0x20139:
000f4d 93ea      	ST   -Y,R30
000f4e dd94      	RCALL _PutOneChar
                 ; 0001 04CE     }
                 ; 0001 04CF     while(addr--);
000f4f 2fe1      	MOV  R30,R17
000f50 5011      	SUBI R17,1
000f51 30e0      	CPI  R30,0
000f52 f769      	BRNE _0x20136
                 ; 0001 04D0 
                 ; 0001 04D1     //   
                 ; 0001 04D2   	LED_RD_OFF();
                 _0x20C0028:
000f53 9a29      	SBI  0x5,1
                 ; 0001 04D3     g_IsFuseClock=FALSE;
000f54 24aa      	CLR  R10
                 ; 0001 04D4 }
                 _0x20C0029:
000f55 9119      	LD   R17,Y+
000f56 9508      	RET
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;   
                 ;******************************************************************************/
                 ;void LeaveProgMode(void)
                 ; 0001 04DA {
                 _LeaveProgMode:
                 ; .FSTART _LeaveProgMode
                 ; 0001 04DB     ReleasePorts();
000f57 dd7b      	RCALL _ReleasePorts
                 ; 0001 04DC   	PutOneChar(ACK);
000f58 c03c      	RJMP _0x20C0027
                 ; 0001 04DD }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;    /
                 ;******************************************************************************/
                 ;void GetBlockMode(void)
                 ; 0001 04E3 {
                 _GetBlockMode:
                 ; .FSTART _GetBlockMode
                 ; 0001 04E4   	PutOneChar(YES);
000f59 e5e9      	LDI  R30,LOW(89)
000f5a 93ea      	ST   -Y,R30
000f5b dd87      	RCALL _PutOneChar
                 ; 0001 04E5     PutOneChar((UCHAR)(AVR910_REPORT_BLOCK_SIZE >> 8));
000f5c e0e0      	LDI  R30,LOW(0)
000f5d 93ea      	ST   -Y,R30
000f5e dd84      	RCALL _PutOneChar
                 ; 0001 04E6     PutOneChar(AVR910_REPORT_BLOCK_SIZE & 0xFF);
000f5f e8e0      	LDI  R30,LOW(128)
000f60 c035      	RJMP _0x20C0026
                 ; 0001 04E7 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ;******************************************************************************/
                 ;void GetSWID(void)
                 ; 0001 04ED {
                 _GetSWID:
                 ; .FSTART _GetSWID
                 ; 0001 04EE 
                 ; 0001 04EF     UCHAR flash *ptr = SwID;
                 ; 0001 04F0   	while(0 != *ptr)
000f61 931a      	ST   -Y,R17
000f62 930a      	ST   -Y,R16
                 ;	*ptr -> R16,R17
                +
000f63 ed00     +LDI R16 , LOW ( _SwID * 2 + ( 0 ) )
000f64 e010     +LDI R17 , HIGH ( _SwID * 2 + ( 0 ) )
                 	__POINTWRFN 16,17,_SwID,0
                 _0x2013D:
000f65 01f8      	MOVW R30,R16
000f66 91e4      	LPM  R30,Z
000f67 30e0      	CPI  R30,0
000f68 f039      	BREQ _0x2013F
                 ; 0001 04F1       	PutOneChar(*ptr++);
000f69 01f8      	MOVW R30,R16
                +
000f6a 5f0f     +SUBI R16 , LOW ( - 1 )
000f6b 4f1f     +SBCI R17 , HIGH ( - 1 )
                 	__ADDWRN 16,17,1
000f6c 91e4      	LPM  R30,Z
000f6d 93ea      	ST   -Y,R30
000f6e dd74      	RCALL _PutOneChar
000f6f cff5      	RJMP _0x2013D
                 _0x2013F:
                 ; 0001 04F2 }
000f70 c04c      	RJMP _0x20C0025
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ;******************************************************************************/
                 ;void GetSWVer(void)
                 ; 0001 04F8 {
                 _GetSWVer:
                 ; .FSTART _GetSWVer
                 ; 0001 04F9   	PutOneChar(SOFTWARE_VER_1);
000f71 e5e5      	LDI  R30,LOW(85)
000f72 93ea      	ST   -Y,R30
000f73 dd6f      	RCALL _PutOneChar
                 ; 0001 04FA     PutOneChar(SOFTWARE_VER_2);
000f74 e3e2      	LDI  R30,LOW(50)
000f75 c020      	RJMP _0x20C0026
                 ; 0001 04FB }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ;******************************************************************************/
                 ;void GetHWVer(void)
                 ; 0001 0501 {
                 _GetHWVer:
                 ; .FSTART _GetHWVer
                 ; 0001 0502   	PutOneChar(HARDWARE_VER_1);
000f76 e3e0      	LDI  R30,LOW(48)
000f77 93ea      	ST   -Y,R30
000f78 dd6a      	RCALL _PutOneChar
                 ; 0001 0503     PutOneChar(HARDWARE_VER_2);
000f79 e3e2      	LDI  R30,LOW(50)
000f7a c01b      	RJMP _0x20C0026
                 ; 0001 0504 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;   
                 ;******************************************************************************/
                 ;void GetAutoIncAddr(void)
                 ; 0001 050A {
                 _GetAutoIncAddr:
                 ; .FSTART _GetAutoIncAddr
                 ; 0001 050B   	PutOneChar(ACK);
000f7b c019      	RJMP _0x20C0027
                 ; 0001 050C }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ;******************************************************************************/
                 ;void GetPROGType(void)
                 ; 0001 0512 {
                 _GetPROGType:
                 ; .FSTART _GetPROGType
                 ; 0001 0513   	PutOneChar(PROGRAMMER_TYPE);
000f7c e5e3      	LDI  R30,LOW(83)
000f7d c018      	RJMP _0x20C0026
                 ; 0001 0514 }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ; 
                 ;******************************************************************************/
                 ;void SetAddr(void)
                 ; 0001 051A {
                 _SetAddr:
                 ; .FSTART _SetAddr
                 ; 0001 051B   	// ,     
                 ; 0001 051C     CheckCommParams(2);
000f7e e0e2      	LDI  R30,LOW(2)
000f7f 93ea      	ST   -Y,R30
000f80 d125      	RCALL _CheckCommParams
                 ; 0001 051D     if(TRUE == g_NeedParams)
000f81 91e0 06e1 	LDS  R30,_g_NeedParams
000f83 30e1      	CPI  R30,LOW(0x1)
000f84 f409      	BRNE _0x20140
                 ; 0001 051E       	return;
000f85 9508      	RET
                 ; 0001 051F 
                 ; 0001 0520   	g_Addr = MAKEUINT(GetOneChar(), GetOneChar());
                 _0x20140:
000f86 dd5a      	RCALL _GetOneChar
000f87 2ffe      	MOV  R31,R30
000f88 e0e0      	LDI  R30,0
000f89 93ff      	PUSH R31
000f8a 93ef      	PUSH R30
000f8b dd55      	RCALL _GetOneChar
000f8c e0f0      	LDI  R31,0
000f8d 91af      	POP  R26
000f8e 91bf      	POP  R27
000f8f 2bea      	OR   R30,R26
000f90 2bfb      	OR   R31,R27
000f91 93e0 0382 	STS  _g_Addr,R30
000f93 93f0 0383 	STS  _g_Addr+1,R31
                 ; 0001 0521     PutOneChar(ACK);
                 _0x20C0027:
000f95 e0ed      	LDI  R30,LOW(13)
                 _0x20C0026:
000f96 93ea      	ST   -Y,R30
000f97 dd4b      	RCALL _PutOneChar
                 ; 0001 0522 }
000f98 9508      	RET
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;   
                 ;******************************************************************************/
                 ;void ReadBlockCommand(void)
                 ; 0001 0528 {
                 _ReadBlockCommand:
                 ; .FSTART _ReadBlockCommand
                 ; 0001 0529   	UCHAR size_h,size_l;
                 ; 0001 052A     // ,     
                 ; 0001 052B     CheckCommParams(3);
000f99 931a      	ST   -Y,R17
000f9a 930a      	ST   -Y,R16
                 ;	size_h -> R17
                 ;	size_l -> R16
000f9b 940e 2ec2 	CALL SUBOPT_0x27
                 ; 0001 052C     if(TRUE == g_NeedParams)
000f9d f0f9      	BREQ _0x20C0025
                 ; 0001 052D       	return;
                 ; 0001 052E 
                 ; 0001 052F   	//      
                 ; 0001 0530   	size_h = GetOneChar();
000f9e 940e 2f4d 	CALL SUBOPT_0x39
                 ; 0001 0531     size_l = GetOneChar();
                 ; 0001 0532     g_BlockSize = ((UINT)(size_h << 8)) | ((UINT)(size_l));
000fa0 2ff1      	MOV  R31,R17
000fa1 e0e0      	LDI  R30,LOW(0)
000fa2 01df      	MOVW R26,R30
000fa3 2fe0      	MOV  R30,R16
000fa4 e0f0      	LDI  R31,0
000fa5 2bea      	OR   R30,R26
000fa6 2bfb      	OR   R31,R27
000fa7 2766      	CLR  R22
000fa8 2777      	CLR  R23
000fa9 940e 2f54 	CALL SUBOPT_0x3A
                 ; 0001 0533 	g_MemType = GetOneChar();
000fab dd35      	RCALL _GetOneChar
000fac 2ece      	MOV  R12,R30
                 ; 0001 0534 
                 ; 0001 0535     g_Operation = OPERATION_READ;
000fad e0e0      	LDI  R30,LOW(0)
000fae 93e0 0388 	STS  _g_Operation,R30
                 ; 0001 0536     g_BlockMode = TRUE;
000fb0 e0e1      	LDI  R30,LOW(1)
000fb1 93e0 0389 	STS  _g_BlockMode,R30
                 ; 0001 0537 
                 ; 0001 0538     //   
                 ; 0001 0539     if(S89 != g_DeviceType)
000fb3 91e0 038a 	LDS  R30,_g_DeviceType
000fb5 30e2      	CPI  R30,LOW(0x2)
000fb6 f029      	BREQ _0x20142
                 ; 0001 053A        	if('F' == g_MemType)//    AVR  
000fb7 e4a6      	LDI  R26,LOW(70)
000fb8 16ca      	CP   R12,R26
000fb9 f411      	BRNE _0x20143
                 ; 0001 053B       		g_BlockSize /= 2;
000fba 940e 2f5d 	CALL SUBOPT_0x3B
                 ; 0001 053C 	ReadBlock();
                 _0x20143:
                 _0x20142:
000fbc d003      	RCALL _ReadBlock
                 ; 0001 053D }
                 _0x20C0025:
000fbd 9109      	LD   R16,Y+
000fbe 9119      	LD   R17,Y+
000fbf 9508      	RET
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ;******************************************************************************/
                 ;void ReadBlock(void)
                 ; 0001 0543 {
                 _ReadBlock:
                 ; .FSTART _ReadBlock
                 ; 0001 0544   	//   
                 ; 0001 0545     if('F' == g_MemType)//FLASH
000fc0 e4a6      	LDI  R26,LOW(70)
000fc1 16ca      	CP   R12,R26
000fc2 f491      	BRNE _0x20144
                 ; 0001 0546     {
                 ; 0001 0547       	//   
                 ; 0001 0548       	while(g_txWR < AVR910_TX_DATA_SIZE)
                 _0x20145:
000fc3 91a0 0381 	LDS  R26,_g_txWR
000fc5 38a0      	CPI  R26,LOW(0x80)
000fc6 f468      	BRSH _0x20147
                 ; 0001 0549         {
                 ; 0001 054A           	ReadProg(0x20, 0x28);
000fc7 e2e0      	LDI  R30,LOW(32)
000fc8 93ea      	ST   -Y,R30
000fc9 e2e8      	LDI  R30,LOW(40)
000fca 93ea      	ST   -Y,R30
000fcb de77      	RCALL _ReadProg
                 ; 0001 054B             if(0 == --g_BlockSize)
000fcc 940e 2f68 	CALL SUBOPT_0x3C
000fce f421      	BRNE _0x20148
                 ; 0001 054C     		{
                 ; 0001 054D       			g_BlockMode = FALSE;
000fcf e0e0      	LDI  R30,LOW(0)
000fd0 93e0 0389 	STS  _g_BlockMode,R30
                 ; 0001 054E                 break;
000fd2 c001      	RJMP _0x20147
                 ; 0001 054F     		}
                 ; 0001 0550         }
                 _0x20148:
000fd3 cfef      	RJMP _0x20145
                 _0x20147:
                 ; 0001 0551 
                 ; 0001 0552     }
                 ; 0001 0553     else// EEPROM
000fd4 c00d      	RJMP _0x20149
                 _0x20144:
                 ; 0001 0554     {
                 ; 0001 0555       	//   
                 ; 0001 0556       	while(g_txWR < AVR910_TX_DATA_SIZE)
                 _0x2014A:
000fd5 91a0 0381 	LDS  R26,_g_txWR
000fd7 38a0      	CPI  R26,LOW(0x80)
000fd8 f448      	BRSH _0x2014C
                 ; 0001 0557         {
                 ; 0001 0558           	ReadData();
000fd9 de9b      	RCALL _ReadData
                 ; 0001 0559             if(0 == --g_BlockSize)
000fda 940e 2f68 	CALL SUBOPT_0x3C
000fdc f421      	BRNE _0x2014D
                 ; 0001 055A     		{
                 ; 0001 055B       			g_BlockMode = FALSE;
000fdd e0e0      	LDI  R30,LOW(0)
000fde 93e0 0389 	STS  _g_BlockMode,R30
                 ; 0001 055C                 break;
000fe0 c001      	RJMP _0x2014C
                 ; 0001 055D     		}
                 ; 0001 055E         }
                 _0x2014D:
000fe1 cff3      	RJMP _0x2014A
                 _0x2014C:
                 ; 0001 055F     }
                 _0x20149:
                 ; 0001 0560 }
000fe2 9508      	RET
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;   
                 ;******************************************************************************/
                 ;void WriteBlockCommand(void)
                 ; 0001 0566 {
                 _WriteBlockCommand:
                 ; .FSTART _WriteBlockCommand
                 ; 0001 0567   	UCHAR size_h,size_l,size_e=1;
                 ; 0001 0568     // ,     
                 ; 0001 0569     CheckCommParams(4);
000fe3 940e 3592 	CALL __SAVELOCR4
                 ;	size_h -> R17
                 ;	size_l -> R16
                 ;	size_e -> R19
000fe5 e031      	LDI  R19,1
000fe6 940e 2ee2 	CALL SUBOPT_0x2B
                 ; 0001 056A     if(TRUE == g_NeedParams){// if less than 4 bytes waiting==true -> for big size
000fe8 f441      	BRNE _0x2014E
                 ; 0001 056B       CheckCommParams(3);
000fe9 e0e3      	LDI  R30,LOW(3)
000fea 93ea      	ST   -Y,R30
000feb d0ba      	RCALL _CheckCommParams
                 ; 0001 056C       size_e=0;
000fec e030      	LDI  R19,LOW(0)
                 ; 0001 056D       if(TRUE == g_NeedParams)
000fed 91e0 06e1 	LDS  R30,_g_NeedParams
000fef 30e1      	CPI  R30,LOW(0x1)
000ff0 f169      	BREQ _0x20C0023
                 ; 0001 056E         return;
                 ; 0001 056F     }
                 ; 0001 0570 
                 ; 0001 0571   	//      
                 ; 0001 0572   	if(size_e)
                 _0x2014E:
000ff1 3030      	CPI  R19,0
000ff2 f011      	BREQ _0x20150
                 ; 0001 0573         size_e = GetOneChar();
000ff3 dced      	RCALL _GetOneChar
000ff4 2f3e      	MOV  R19,R30
                 ; 0001 0574     size_h	= GetOneChar();
                 _0x20150:
000ff5 940e 2f4d 	CALL SUBOPT_0x39
                 ; 0001 0575     size_l	= GetOneChar();
                 ; 0001 0576     g_BlockSize		= ((ULONG)((ULONG)size_e << 16)) | ((UINT)(size_h << 8)) | ((UINT)(size_l));
000ff7 2fe3      	MOV  R30,R19
000ff8 e0f0      	LDI  R31,0
000ff9 940e 34a3 	CALL __CWD1
000ffb 940e 3498 	CALL __LSLD16
000ffd 01df      	MOVW R26,R30
000ffe 01cb      	MOVW R24,R22
000fff 2ff1      	MOV  R31,R17
001000 e0e0      	LDI  R30,LOW(0)
001001 940e 2f74 	CALL SUBOPT_0x3D
001003 01df      	MOVW R26,R30
001004 01cb      	MOVW R24,R22
001005 2fe0      	MOV  R30,R16
001006 e0f0      	LDI  R31,0
001007 940e 2f74 	CALL SUBOPT_0x3D
001009 940e 2f54 	CALL SUBOPT_0x3A
                 ; 0001 0577     g_MemType		= GetOneChar();
00100b dcd5      	RCALL _GetOneChar
00100c 2ece      	MOV  R12,R30
                 ; 0001 0578 	g_BlockMode		= TRUE;
00100d e0e1      	LDI  R30,LOW(1)
00100e 93e0 0389 	STS  _g_BlockMode,R30
                 ; 0001 0579     g_Operation		= OPERATION_WRITE;
001010 93e0 0388 	STS  _g_Operation,R30
                 ; 0001 057A     g_WordCount 	= 0;
001012 e0e0      	LDI  R30,LOW(0)
001013 93e0 06df 	STS  _g_WordCount,R30
                 ; 0001 057B 
                 ; 0001 057C     //   
                 ; 0001 057D     if(S89 != g_DeviceType)
001015 91e0 038a 	LDS  R30,_g_DeviceType
001017 30e2      	CPI  R30,LOW(0x2)
001018 f029      	BREQ _0x20151
                 ; 0001 057E        	if('F' == g_MemType)//    AVR  */
001019 e4a6      	LDI  R26,LOW(70)
00101a 16ca      	CP   R12,R26
00101b f411      	BRNE _0x20152
                 ; 0001 057F       		g_BlockSize /= 2;
00101c 940e 2f5d 	CALL SUBOPT_0x3B
                 ; 0001 0580 }
                 _0x20152:
                 _0x20151:
                 _0x20C0023:
00101e 940e 3599 	CALL __LOADLOCR4
                 _0x20C0024:
001020 9624      	ADIW R28,4
001021 9508      	RET
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;   
                 ;******************************************************************************/
                 ;void WriteBlock(void)
                 ; 0001 0586 {
                 _WriteBlock:
                 ; .FSTART _WriteBlock
                 ; 0001 0587   	//   
                 ; 0001 0588   	if('E' == g_MemType)// EEPROM
001022 e4a5      	LDI  R26,LOW(69)
001023 16ca      	CP   R12,R26
001024 f441      	BRNE _0x20153
                 ; 0001 0589     {
                 ; 0001 058A     	//while(g_rxLen)
                 ; 0001 058B       	while(0 < g_FIFODataSize)
                 _0x20154:
001025 91e0 06f4 	LDS  R30,_g_FIFODataSize
001027 30e1      	CPI  R30,LOW(0x1)
001028 f020      	BRLO _0x20156
                 ; 0001 058C     	{
                 ; 0001 058D     		WriteData();
001029 de31      	RCALL _WriteData
                 ; 0001 058E             g_BlockSize--;
00102a 940e 2f79 	CALL SUBOPT_0x3E
                 ; 0001 058F 		}
00102c cff8      	RJMP _0x20154
                 _0x20156:
                 ; 0001 0590 	}
                 ; 0001 0591 
                 ; 0001 0592 	if('F' == g_MemType)//Flash
                 _0x20153:
00102d e4a6      	LDI  R26,LOW(70)
00102e 16ca      	CP   R12,R26
00102f f4e1      	BRNE _0x20157
                 ; 0001 0593     {
                 ; 0001 0594        	//while(g_rxLen)
                 ; 0001 0595       	while(0 < g_FIFODataSize)
                 _0x20158:
001030 91e0 06f4 	LDS  R30,_g_FIFODataSize
001032 30e1      	CPI  R30,LOW(0x1)
001033 f0c0      	BRLO _0x2015A
                 ; 0001 0596        	{
                 ; 0001 0597        		WriteProgLB();
001034 dd7e      	RCALL _WriteProgLB
                 ; 0001 0598      		WriteProgHB();
001035 dd9b      	RCALL _WriteProgHB
                 ; 0001 0599             g_BlockSize--;
001036 940e 2f79 	CALL SUBOPT_0x3E
                 ; 0001 059A 
                 ; 0001 059B             //   
                 ; 0001 059C             if(MEGA == g_DeviceType)
001038 91e0 038a 	LDS  R30,_g_DeviceType
00103a 30e0      	CPI  R30,0
00103b f479      	BRNE _0x2015B
                 ; 0001 059D             {
                 ; 0001 059E                	g_WordCount++;
00103c 91e0 06df 	LDS  R30,_g_WordCount
00103e 5fef      	SUBI R30,-LOW(1)
00103f 93e0 06df 	STS  _g_WordCount,R30
                 ; 0001 059F               	if(g_WordCount == g_DevicePollCode)
001041 91e0 038b 	LDS  R30,_g_DevicePollCode
001043 91a0 06df 	LDS  R26,_g_WordCount
001045 17ea      	CP   R30,R26
001046 f421      	BRNE _0x2015C
                 ; 0001 05A0                 {
                 ; 0001 05A1                   	WritePage();
001047 ddda      	RCALL _WritePage
                 ; 0001 05A2                     g_WordCount = 0;
001048 e0e0      	LDI  R30,LOW(0)
001049 93e0 06df 	STS  _g_WordCount,R30
                 ; 0001 05A3                 }
                 ; 0001 05A4             }
                 _0x2015C:
                 ; 0001 05A5 		}
                 _0x2015B:
00104b cfe4      	RJMP _0x20158
                 _0x2015A:
                 ; 0001 05A6 	}
                 ; 0001 05A7 
                 ; 0001 05A8     //   
                 ; 0001 05A9     if(0 == g_BlockSize)
                 _0x20157:
00104c 91e0 0384 	LDS  R30,_g_BlockSize
00104e 91f0 0385 	LDS  R31,_g_BlockSize+1
001050 9160 0386 	LDS  R22,_g_BlockSize+2
001052 9170 0387 	LDS  R23,_g_BlockSize+3
001054 940e 357c 	CALL __CPD10
001056 f471      	BRNE _0x2015D
                 ; 0001 05AA     {
                 ; 0001 05AB       	//    
                 ; 0001 05AC       	if(g_WordCount != 0)
001057 91e0 06df 	LDS  R30,_g_WordCount
001059 30e0      	CPI  R30,0
00105a f021      	BREQ _0x2015E
                 ; 0001 05AD 
                 ; 0001 05AE           	//    ,
                 ; 0001 05AF           	//        
                 ; 0001 05B0           	if('F' == g_MemType)//Flash
00105b e4a6      	LDI  R26,LOW(70)
00105c 16ca      	CP   R12,R26
00105d f409      	BRNE _0x2015F
                 ; 0001 05B1       			WritePage();
00105e ddc3      	RCALL _WritePage
                 ; 0001 05B2 
                 ; 0001 05B3       	// ,   
                 ; 0001 05B4       	g_BlockMode = FALSE;
                 _0x2015F:
                 _0x2015E:
00105f e0e0      	LDI  R30,LOW(0)
001060 93e0 0389 	STS  _g_BlockMode,R30
                 ; 0001 05B5     	PutOneChar(ACK);
001062 e0ed      	LDI  R30,LOW(13)
001063 93ea      	ST   -Y,R30
001064 dc7e      	RCALL _PutOneChar
                 ; 0001 05B6     }
                 ; 0001 05B7 }
                 _0x2015D:
001065 9508      	RET
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ; 
                 ;******************************************************************************/
                 ;void FIFO_Reset(void)
                 ; 0001 05BD {
                 _FIFO_Reset:
                 ; .FSTART _FIFO_Reset
                 ; 0001 05BE   	g_wrI =
                 ; 0001 05BF     g_rdI = 0;
001066 e0e0      	LDI  R30,LOW(0)
001067 93e0 06f3 	STS  _g_rdI,R30
001069 93e0 06f2 	STS  _g_wrI,R30
                 ; 0001 05C0     g_FIFODataSize = 0;
00106b 93e0 06f4 	STS  _g_FIFODataSize,R30
                 ; 0001 05C1 }
00106d 9508      	RET
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ;******************************************************************************/
                 ;void FIFO_Write(UCHAR data)
                 ; 0001 05C7 {
                 _FIFO_Write:
                 ; .FSTART _FIFO_Write
                 ; 0001 05C8   	if(AVR910_FIFO_SIZE > g_FIFODataSize)
                 ;	data -> Y+0
00106e 91e0 06f4 	LDS  R30,_g_FIFODataSize
001070 31e0      	CPI  R30,LOW(0x10)
001071 f4a8      	BRSH _0x20160
                 ; 0001 05C9     {
                 ; 0001 05CA       	g_FIFO[g_wrI++] = data;
001072 91e0 06f2 	LDS  R30,_g_wrI
001074 5fef      	SUBI R30,-LOW(1)
001075 93e0 06f2 	STS  _g_wrI,R30
001077 50e1      	SUBI R30,LOW(1)
001078 e0f0      	LDI  R31,0
001079 51ee      	SUBI R30,LOW(-_g_FIFO)
00107a 4ff9      	SBCI R31,HIGH(-_g_FIFO)
00107b 81a8      	LD   R26,Y
00107c 83a0      	STD  Z+0,R26
                 ; 0001 05CB     	g_wrI &= AVR910_FIFO_MASK;
00107d 91e0 06f2 	LDS  R30,_g_wrI
00107f 70ef      	ANDI R30,LOW(0xF)
001080 93e0 06f2 	STS  _g_wrI,R30
                 ; 0001 05CC         g_FIFODataSize++;
001082 91e0 06f4 	LDS  R30,_g_FIFODataSize
001084 5fef      	SUBI R30,-LOW(1)
001085 93e0 06f4 	STS  _g_FIFODataSize,R30
                 ; 0001 05CD     }
                 ; 0001 05CE }
                 _0x20160:
001087 c084      	RJMP _0x20C0022
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;  
                 ;******************************************************************************/
                 ;UCHAR FIFO_Read(void)
                 ; 0001 05D4 {
                 _FIFO_Read:
                 ; .FSTART _FIFO_Read
                 ; 0001 05D5   	if(0 < g_FIFODataSize)
001088 91e0 06f4 	LDS  R30,_g_FIFODataSize
00108a 30e1      	CPI  R30,LOW(0x1)
00108b f0c0      	BRLO _0x20161
                 ; 0001 05D6     {
                 ; 0001 05D7       	UCHAR data = g_FIFO[g_rdI++];
                 ; 0001 05D8     	g_rdI &= AVR910_FIFO_MASK;
00108c 9721      	SBIW R28,1
                 ;	data -> Y+0
00108d 91e0 06f3 	LDS  R30,_g_rdI
00108f 5fef      	SUBI R30,-LOW(1)
001090 93e0 06f3 	STS  _g_rdI,R30
001092 50e1      	SUBI R30,LOW(1)
001093 e0f0      	LDI  R31,0
001094 51ee      	SUBI R30,LOW(-_g_FIFO)
001095 4ff9      	SBCI R31,HIGH(-_g_FIFO)
001096 81e0      	LD   R30,Z
001097 83e8      	ST   Y,R30
001098 91e0 06f3 	LDS  R30,_g_rdI
00109a 70ef      	ANDI R30,LOW(0xF)
00109b 93e0 06f3 	STS  _g_rdI,R30
                 ; 0001 05D9         g_FIFODataSize--;
00109d 91e0 06f4 	LDS  R30,_g_FIFODataSize
00109f 50e1      	SUBI R30,LOW(1)
0010a0 93e0 06f4 	STS  _g_FIFODataSize,R30
                 ; 0001 05DA         return data;
0010a2 81e8      	LD   R30,Y
0010a3 c068      	RJMP _0x20C0022
                 ; 0001 05DB     }
                 ; 0001 05DC 
                 ; 0001 05DD   	return 0;
                 _0x20161:
0010a4 e0e0      	LDI  R30,LOW(0)
0010a5 9508      	RET
                 ; 0001 05DE }
                 ; .FEND
                 ;
                 ;/*****************************************************************************
                 ;,       
                 ;******************************************************************************/
                 ;void CheckCommParams(UCHAR req_bytes)
                 ; 0001 05E4 {
                 _CheckCommParams:
                 ; .FSTART _CheckCommParams
                 ; 0001 05E5   	//   FIFO  ,     
                 ; 0001 05E6   	//     
                 ; 0001 05E7   	if(req_bytes > g_FIFODataSize)
                 ;	req_bytes -> Y+0
0010a6 91e0 06f4 	LDS  R30,_g_FIFODataSize
0010a8 81a8      	LD   R26,Y
0010a9 17ea      	CP   R30,R26
0010aa f410      	BRSH _0x20162
                 ; 0001 05E8     	g_NeedParams = TRUE;
0010ab e0e1      	LDI  R30,LOW(1)
0010ac c001      	RJMP _0x20168
                 ; 0001 05E9     else
                 _0x20162:
                 ; 0001 05EA       	g_NeedParams = FALSE;
0010ad e0e0      	LDI  R30,LOW(0)
                 _0x20168:
0010ae 93e0 06e1 	STS  _g_NeedParams,R30
                 ; 0001 05EB }
0010b0 c05b      	RJMP _0x20C0022
                 ; .FEND
                 ;
                 ;
                 ;#include "common.h"
                 	#ifndef __SLEEP_DEFINED__
                 	#endif
                 ;
                 ;
                 ;//Standalone globals
                 ;//#define  FLASH_START_ADDR_WORD  15000
                 ;//#define  FLASH_START_ADDR_BYTE  (FLASH_START_ADDR_WORD<<1)
                 ;
                 ;//UCHAR chipname[12]; // chip signature compare variable
                 ;//UCHAR signature[3]; // chip signature compare variable
                 ;
                 ;//ULONG chipsize =0 ; //chip size in bytes
                 ;//UINT pagesize;// target flash page size in bytes, i count bytes in page buffer
                 ;//UCHAR progfuses[MAX_FUSES];	       /* fuses to set during programming */    //Lock,Low,High,Ext
                 ;//UCHAR normfuses[MAX_FUSES];	       /* fuses to set after programming */
                 ;//UCHAR maskfuses[MAX_FUSES];
                 ;//UCHAR chipcode;                  /* device code ie m64 is 0x45 */
                 ;UCHAR tmpbytes[32];//resetprogcounter=00000000h
                 ;UCHAR g_UpSkip;
                 ;UCHAR g_DownSkip;
                 ;UCHAR g_MaxFolders;
                 ;
                 ;ULONG pageaddr = 0; //page address byte counter
                 ;volatile STANDALONE_MODE StandaloneMode=IDLE;
                 ;UCHAR pageBuffer[PAGE_SIZE_BYTES];		       /* One page of flash in bytes = words/2 */
                 ;bit CanContinueRead=0;
                 ;bit EndOfFile=0;
                 ;ULONG OffsetX16=0;
                 ;UCHAR Save_i;
                 ;UCHAR Save_cksum = 0;
                 ;UCHAR Save_len;
                 ;bit blankpage; // flag is true if can skip page
                 ;UCHAR debug=0;
                 ;UCHAR *value;  //sdcard/tmpbytes[32] return string pointer if found
                 ;//bit FromSD;
                 ;//UCHAR *hextext;//
                 ;UCHAR dirnum;//number of project directory
                 ;eeprom  UCHAR   SaveDirNum  @5;  //eeprom cell to save last project directory number
                 ;eeprom  UCHAR   SaveLockState  @6;  //eeprom to list folder prees Up 10 sec to lock press Start 10 sec
                 ;char temptext[30];
                 ;
                 ;eeprom eeimage_t myimage[MAX_PROJECTS] @10;
                 ;image_t tmpimage;
                 ;//flash byte hextext[40000] ;//,*hextextpos;
                 ;   //hextext =(byte flash  *)2000;
                 ;
                 ;//error function. print error
                 ;void error(flash char *str)
                 ; 0002 0030 {
                 
                 	.CSEG
                 _error:
                 ; .FSTART _error
                 ; 0002 0031 #ifdef PRINT_DEBUG
                 ; 0002 0032    if(debug){
                 ;	*str -> Y+0
0010b1 91e0 03af 	LDS  R30,_debug
0010b3 30e0      	CPI  R30,0
0010b4 f121      	BREQ _0x40003
                 ; 0002 0033    while(tx_counter);
                 _0x40004:
0010b5 91e0 0643 	LDS  R30,_tx_counter
0010b7 30e0      	CPI  R30,0
0010b8 f7e1      	BRNE _0x40004
                 ; 0002 0034    printf("\r\nError.fptr=%u,buf[0]=%02x,buf[1]=%02x\r\n",(fs.fptr),buffer[0],buffer[1]);
                +
0010b9 e9e0     +LDI R30 , LOW ( 2 * _0x40000 + ( 0 ) )
0010ba e0f2     +LDI R31 , HIGH ( 2 * _0x40000 + ( 0 ) )
                 	__POINTW1FN _0x40000,0
0010bb 93fa      	ST   -Y,R31
0010bc 93ea      	ST   -Y,R30
                +
0010bd 91e0 042a+LDS R30 , _fs + ( 24 )
0010bf 91f0 042b+LDS R31 , _fs + ( 24 ) + 1
0010c1 9160 042c+LDS R22 , _fs + ( 24 ) + 2
0010c3 9170 042d+LDS R23 , _fs + ( 24 ) + 3
                 	__GETD1MN _fs,24
0010c5 940e 3530 	CALL __PUTPARD1
0010c7 91e0 043e 	LDS  R30,_buffer
0010c9 940e 2f83 	CALL SUBOPT_0x3F
                +
0010cb 91e0 043f+LDS R30 , _buffer + ( 1 )
                 	__GETB1MN _buffer,1
0010cd 940e 2f83 	CALL SUBOPT_0x3F
0010cf 940e 2f89 	CALL SUBOPT_0x40
                 ; 0002 0035    printf(str);
0010d1 81e8      	LD   R30,Y
0010d2 81f9      	LDD  R31,Y+1
0010d3 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0036    while(tx_counter);}
                 _0x40007:
0010d5 91e0 0643 	LDS  R30,_tx_counter
0010d7 30e0      	CPI  R30,0
0010d8 f7e1      	BRNE _0x40007
                 ; 0002 0037 #endif
                 ; 0002 0038 #ifdef PRINT_LCD
                 ; 0002 0039     //lcd_putsf_row(1,"Hex digit fail");
                 ; 0002 003A #endif
                 ; 0002 003B //while(1);
                 ; 0002 003C }
                 _0x40003:
0010d9 c043      	RJMP _0x20C0021
                 ; .FEND
                 ;
                 ;//read byte from byte prointer to SRAM
                 ;UCHAR pgm_read_byte(UCHAR *addr)
                 ; 0002 0040 {
                 _pgm_read_byte:
                 ; .FSTART _pgm_read_byte
                 ; 0002 0041     return *addr;
                 ;	*addr -> Y+0
0010da 81a8      	LD   R26,Y
0010db 81b9      	LDD  R27,Y+1
0010dc 91ec      	LD   R30,X
0010dd c03f      	RJMP _0x20C0021
                 ; 0002 0042 }
                 ; .FEND
                 ;
                 ;//read byte from hextext byte pointer to SRAM then increment it
                 ;UCHAR hextext_read_byte(void)
                 ; 0002 0046 {
                 _hextext_read_byte:
                 ; .FSTART _hextext_read_byte
                 ; 0002 0047     #ifdef BOOTEEPROM
                 ; 0002 0048     return *hextext++;
                 ; 0002 0049     #else
                 ; 0002 004A     return pgm_read_byte_sd();
0010de 940e 1eee 	CALL _pgm_read_byte_sd
0010e0 9508      	RET
                 ; 0002 004B     #endif
                 ; 0002 004C }
                 ; .FEND
                 ;
                 ;//convert char hex digit
                 ;UCHAR hexton (UCHAR h)
                 ; 0002 0050 {
                 _hexton:
                 ; .FSTART _hexton
                 ; 0002 0051   if (h >= '0' && h <= '9')
                 ;	h -> Y+0
0010e1 81a8      	LD   R26,Y
0010e2 33a0      	CPI  R26,LOW(0x30)
0010e3 f010      	BRLO _0x4000B
0010e4 33aa      	CPI  R26,LOW(0x3A)
0010e5 f008      	BRLO _0x4000C
                 _0x4000B:
0010e6 c003      	RJMP _0x4000A
                 _0x4000C:
                 ; 0002 0052     return(h - '0');
0010e7 81e8      	LD   R30,Y
0010e8 53e0      	SUBI R30,LOW(48)
0010e9 c022      	RJMP _0x20C0022
                 ; 0002 0053   if (h >= 'A' && h <= 'F')
                 _0x4000A:
0010ea 81a8      	LD   R26,Y
0010eb 34a1      	CPI  R26,LOW(0x41)
0010ec f010      	BRLO _0x4000E
0010ed 34a7      	CPI  R26,LOW(0x47)
0010ee f008      	BRLO _0x4000F
                 _0x4000E:
0010ef c003      	RJMP _0x4000D
                 _0x4000F:
                 ; 0002 0054     return((h - 'A') + 10);
0010f0 81e8      	LD   R30,Y
0010f1 53e7      	SUBI R30,LOW(55)
0010f2 c019      	RJMP _0x20C0022
                 ; 0002 0055   #ifdef PRINT_DEBUG
                 ; 0002 0056     if(debug){
                 _0x4000D:
0010f3 91e0 03af 	LDS  R30,_debug
0010f5 30e0      	CPI  R30,0
0010f6 f089      	BREQ _0x40010
                 ; 0002 0057     while(tx_counter);
                 _0x40011:
0010f7 91e0 0643 	LDS  R30,_tx_counter
0010f9 30e0      	CPI  R30,0
0010fa f7e1      	BRNE _0x40011
                 ; 0002 0058     printf("\r\nBad hex=%02x\r\n",h);
                +
0010fb ebea     +LDI R30 , LOW ( 2 * _0x40000 + ( 42 ) )
0010fc e0f2     +LDI R31 , HIGH ( 2 * _0x40000 + ( 42 ) )
                 	__POINTW1FN _0x40000,42
0010fd 93fa      	ST   -Y,R31
0010fe 93ea      	ST   -Y,R30
0010ff 81ea      	LDD  R30,Y+2
001100 940e 2f83 	CALL SUBOPT_0x3F
001102 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 0059     while(tx_counter);}
                 _0x40014:
001104 91e0 0643 	LDS  R30,_tx_counter
001106 30e0      	CPI  R30,0
001107 f7e1      	BRNE _0x40014
                 ; 0002 005A     #endif
                 ; 0002 005B   error("Bad hex digit!");
                 _0x40010:
                +
001108 eceb     +LDI R30 , LOW ( 2 * _0x40000 + ( 59 ) )
001109 e0f2     +LDI R31 , HIGH ( 2 * _0x40000 + ( 59 ) )
                 	__POINTW1FN _0x40000,59
00110a 940e 2f93 	CALL SUBOPT_0x42
                 ; 0002 005C }
                 _0x20C0022:
00110c 9621      	ADIW R28,1
00110d 9508      	RET
                 ; .FEND
                 ;
                 ;
                 ;//convert 2 first chars in string to 2 hex digits that represent UCHAR
                 ;UCHAR hextobyte(char *str)
                 ; 0002 0061 {
                 _hextobyte:
                 ; .FSTART _hextobyte
                 ; 0002 0062   return hexton(*str)<<4 | hexton(*(str+sizeof(UCHAR))); //read 0xFF  1=F, 1=F sizeof(UCHAR)=1 byte
                 ;	*str -> Y+0
00110e 81a8      	LD   R26,Y
00110f 81b9      	LDD  R27,Y+1
001110 91ec      	LD   R30,X
001111 93ea      	ST   -Y,R30
001112 dfce      	RCALL _hexton
001113 95e2      	SWAP R30
001114 7fe0      	ANDI R30,0xF0
001115 93ef      	PUSH R30
001116 81e8      	LD   R30,Y
001117 81f9      	LDD  R31,Y+1
001118 81a1      	LDD  R26,Z+1
001119 93aa      	ST   -Y,R26
00111a dfc6      	RCALL _hexton
00111b 91af      	POP  R26
00111c 2bea      	OR   R30,R26
                 _0x20C0021:
00111d 9622      	ADIW R28,2
00111e 9508      	RET
                 ; 0002 0063 }
                 ; .FEND
                 ;
                 ;//get bytes from string and put to array in eeprom. Exm: RAM str="76"(0x37,0x36) -> EEPROM arr[0]=0x76
                 ;void hextobytese(char *str,eeprom UCHAR *arr,UCHAR len)
                 ; 0002 0067 {
                 ; 0002 0068   UCHAR i;
                 ; 0002 0069   for(i=0;i<len;i++){
                 ;	*str -> Y+4
                 ;	*arr -> Y+2
                 ;	len -> Y+1
                 ;	i -> R17
                 ; 0002 006A    arr[i]=hextobyte(str+(i*2*sizeof(UCHAR)));
                 ; 0002 006B   }
                 ; 0002 006C }
                 ;
                 ;//get bytes from string and put to array in SRAM. Exm: RAM str="76"(0x37,0x36) -> SRAM arr[0]=0x76
                 ;void hextobytes(char *str,UCHAR *arr,UCHAR len)
                 ; 0002 0070 {
                 _hextobytes:
                 ; .FSTART _hextobytes
                 ; 0002 0071   UCHAR i;
                 ; 0002 0072   for(i=0;i<len;i++){
00111f 931a      	ST   -Y,R17
                 ;	*str -> Y+4
                 ;	*arr -> Y+2
                 ;	len -> Y+1
                 ;	i -> R17
001120 e010      	LDI  R17,LOW(0)
                 _0x4001B:
001121 81e9      	LDD  R30,Y+1
001122 171e      	CP   R17,R30
001123 f4b8      	BRSH _0x4001C
                 ; 0002 0073    arr[i]=hextobyte(str+(i*2*sizeof(UCHAR)));
001124 2fe1      	MOV  R30,R17
001125 81aa      	LDD  R26,Y+2
001126 81bb      	LDD  R27,Y+2+1
001127 e0f0      	LDI  R31,0
001128 0fea      	ADD  R30,R26
001129 1ffb      	ADC  R31,R27
00112a 93ff      	PUSH R31
00112b 93ef      	PUSH R30
00112c e0e2      	LDI  R30,LOW(2)
00112d 9fe1      	MUL  R30,R17
00112e 01f0      	MOVW R30,R0
00112f 81ac      	LDD  R26,Y+4
001130 81bd      	LDD  R27,Y+4+1
001131 0fea      	ADD  R30,R26
001132 1ffb      	ADC  R31,R27
001133 93fa      	ST   -Y,R31
001134 93ea      	ST   -Y,R30
001135 dfd8      	RCALL _hextobyte
001136 91af      	POP  R26
001137 91bf      	POP  R27
001138 93ec      	ST   X,R30
                 ; 0002 0074   }
001139 5f1f      	SUBI R17,-1
00113a cfe6      	RJMP _0x4001B
                 _0x4001C:
                 ; 0002 0075 }
00113b 8118      	LDD  R17,Y+0
00113c 9626      	ADIW R28,6
00113d 9508      	RET
                 ; .FEND
                 ;
                 ;//convert 4 first chars in string to 4 hex digits that represent UINT
                 ;UINT hextouint(char *str)
                 ; 0002 0079 {
                 ; 0002 007A   return (UINT)((UINT)hextobyte(str)<<8 | (UINT)hextobyte(str+2*sizeof(UCHAR))); //read 0xFFFF 1=F 2=F, 1=F 2=F   sizeof ...
                 ;	*str -> Y+0
                 ; 0002 007B }
                 ;
                 ;//convert 8 first chars in string to 8 hex digits that represent ULONG
                 ;ULONG hextoulong(char *str)
                 ; 0002 007F {
                 ; 0002 0080   return (ULONG)((ULONG)hextouint(str)<<16 | (ULONG)hextouint(str+2*sizeof(UINT)));//read 0xFFFFFFFF 1=F 2=F 3=F 4=F, 1= ...
                 ;	*str -> Y+0
                 ; 0002 0081 }
                 ;
                 ;/*Copy null terminated string, from pointer to SRAM to pointer to eeprom*/
                 ;void strcpye(eeprom char *str1,char *str2)
                 ; 0002 0085 {
                 ; 0002 0086    while(*str2){
                 ;	*str1 -> Y+2
                 ;	*str2 -> Y+0
                 ; 0002 0087       *str1= *str2;
                 ; 0002 0088       str1++;str2++;
                 ; 0002 0089    }
                 ; 0002 008A    str1=0;
                 ; 0002 008B }
                 ;
                 ;/*Copy number of bytes, from pointer to SRAM to pointer to eeprom*/
                 ;void memcpye(eeprom UCHAR *str1,UCHAR *str2,UCHAR len)
                 ; 0002 008F {
                 ; 0002 0090    while(len){
                 ;	*str1 -> Y+3
                 ;	*str2 -> Y+1
                 ;	len -> Y+0
                 ; 0002 0091       *str1= *str2;
                 ; 0002 0092       str1++;str2++;
                 ; 0002 0093       len--;
                 ; 0002 0094    }
                 ; 0002 0095 }
                 ;
                 ;/*Copy null terminated string, from pointer to eeprom -> to pointer to SRAM*/
                 ;void strecpy(char *str1,eeprom char *str2)
                 ; 0002 0099 {
                 ; 0002 009A    while(*str2){
                 ;	*str1 -> Y+2
                 ;	*str2 -> Y+0
                 ; 0002 009B       *str1= *str2;
                 ; 0002 009C       str1++;str2++;
                 ; 0002 009D    }
                 ; 0002 009E    str2=0;
                 ; 0002 009F }
                 ;/*Copy null terminated string, from pointer to eeprom -> to pointer to SRAM n chars*/
                 ;void strencpy(char *str1,eeprom char *str2,char num)
                 ; 0002 00A2 {
                 ; 0002 00A3    while(*str2 && num){
                 ;	*str1 -> Y+3
                 ;	*str2 -> Y+1
                 ;	num -> Y+0
                 ; 0002 00A4       *str1= *str2;
                 ; 0002 00A5       str1++;str2++;
                 ; 0002 00A6       num--;
                 ; 0002 00A7    }
                 ; 0002 00A8    str2=0;
                 ; 0002 00A9 }
                 ;/*Copy number of bytes, from pointer to eeprom -> to pointer to SRAM*/
                 ;void memecpy(UCHAR *str1,eeprom UCHAR *str2,UCHAR len)
                 ; 0002 00AC {
                 ; 0002 00AD    while(len){
                 ;	*str1 -> Y+3
                 ;	*str2 -> Y+1
                 ;	len -> Y+0
                 ; 0002 00AE       *str1= *str2;
                 ; 0002 00AF       str1++;str2++;
                 ; 0002 00B0       len--;
                 ; 0002 00B1    }
                 ; 0002 00B2 }
                 ;
                 ;/* compare RAM string with EEPROM string. If RAM > EEPROM return 1*/
                 ;signed char strcmpe(char *str1,eeprom char *str2)
                 ; 0002 00B6 {
                 ; 0002 00B7    while(*str1 && *str2){
                 ;	*str1 -> Y+2
                 ;	*str2 -> Y+0
                 ; 0002 00B8       if(*str1> *str2)return 1;
                 ; 0002 00B9       if(*str1< *str2)return -1;
                 ; 0002 00BA       str1++;str2++;
                 ; 0002 00BB    }
                 ; 0002 00BC    return 0;
                 ; 0002 00BD }
                 ;
                 ;void PrintImage(void){
                 ; 0002 00BF void PrintImage(void){
                 _PrintImage:
                 ; .FSTART _PrintImage
                 ; 0002 00C0 #ifdef PRINT_DEBUG
                 ; 0002 00C1         if(debug){
00113e 91e0 03af 	LDS  R30,_debug
001140 30e0      	CPI  R30,0
001141 f409      	BRNE PC+2
001142 c0d0      	RJMP _0x40035
                 ; 0002 00C2         printf("\r\ndebug=%d",tmpimage.debug);
                +
001143 edea     +LDI R30 , LOW ( 2 * _0x40000 + ( 74 ) )
001144 e0f2     +LDI R31 , HIGH ( 2 * _0x40000 + ( 74 ) )
                 	__POINTW1FN _0x40000,74
001145 93fa      	ST   -Y,R31
001146 93ea      	ST   -Y,R30
                +
001147 91e0 040c+LDS R30 , _tmpimage + ( 91 )
                 	__GETB1MN _tmpimage,91
001149 940e 2f97 	CALL SUBOPT_0x43
00114b 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 00C3         while(tx_counter);
                 _0x40036:
00114d 91e0 0643 	LDS  R30,_tx_counter
00114f 30e0      	CPI  R30,0
001150 f7e1      	BRNE _0x40036
                 ; 0002 00C4         printf("\r\nfilename = %s",tmpimage.hexfile);
                +
001151 eee5     +LDI R30 , LOW ( 2 * _0x40000 + ( 85 ) )
001152 e0f2     +LDI R31 , HIGH ( 2 * _0x40000 + ( 85 ) )
                 	__POINTW1FN _0x40000,85
001153 93fa      	ST   -Y,R31
001154 93ea      	ST   -Y,R30
001155 ebe1      	LDI  R30,LOW(_tmpimage)
001156 e0f3      	LDI  R31,HIGH(_tmpimage)
001157 940e 2f9c 	CALL SUBOPT_0x44
                 ; 0002 00C5         while(tx_counter);
                 _0x40039:
001159 91e0 0643 	LDS  R30,_tx_counter
00115b 30e0      	CPI  R30,0
00115c f7e1      	BRNE _0x40039
                 ; 0002 00C6         printf("\r\nfw_ver = %s",tmpimage.fw_ver);
                +
00115d efe5     +LDI R30 , LOW ( 2 * _0x40000 + ( 101 ) )
00115e e0f2     +LDI R31 , HIGH ( 2 * _0x40000 + ( 101 ) )
                 	__POINTW1FN _0x40000,101
00115f 940e 2fa1 	CALL SUBOPT_0x45
                 ; 0002 00C7         while(tx_counter);
                 _0x4003C:
001161 91e0 0643 	LDS  R30,_tx_counter
001163 30e0      	CPI  R30,0
001164 f7e1      	BRNE _0x4003C
                 ; 0002 00C8         printf("\r\nchipname = %s",tmpimage.chipname);
                +
001165 e0e3     +LDI R30 , LOW ( 2 * _0x40000 + ( 115 ) )
001166 e0f3     +LDI R31 , HIGH ( 2 * _0x40000 + ( 115 ) )
                 	__POINTW1FN _0x40000,115
001167 93fa      	ST   -Y,R31
001168 93ea      	ST   -Y,R30
                +
001169 ede1     +LDI R30 , LOW ( _tmpimage + ( 32 ) )
00116a e0f3     +LDI R31 , HIGH ( _tmpimage + ( 32 ) )
                 	__POINTW1MN _tmpimage,32
00116b 940e 2f9c 	CALL SUBOPT_0x44
                 ; 0002 00C9         while(tx_counter);
                 _0x4003F:
00116d 91e0 0643 	LDS  R30,_tx_counter
00116f 30e0      	CPI  R30,0
001170 f7e1      	BRNE _0x4003F
                 ; 0002 00CA         printf("\r\nchipcode = 0x%x",tmpimage.chipcode);
                +
001171 e1e3     +LDI R30 , LOW ( 2 * _0x40000 + ( 131 ) )
001172 e0f3     +LDI R31 , HIGH ( 2 * _0x40000 + ( 131 ) )
                 	__POINTW1FN _0x40000,131
001173 93fa      	ST   -Y,R31
001174 93ea      	ST   -Y,R30
                +
001175 91e0 03e1+LDS R30 , _tmpimage + ( 48 )
                 	__GETB1MN _tmpimage,48
001177 940e 2f83 	CALL SUBOPT_0x3F
001179 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 00CB         while(tx_counter);
                 _0x40042:
00117b 91e0 0643 	LDS  R30,_tx_counter
00117d 30e0      	CPI  R30,0
00117e f7e1      	BRNE _0x40042
                 ; 0002 00CC         printf("\r\nsignature = %02x %02x %02x",tmpimage.signature[0],tmpimage.signature[1],tmpimage.signature[2]);
                +
00117f e2e5     +LDI R30 , LOW ( 2 * _0x40000 + ( 149 ) )
001180 e0f3     +LDI R31 , HIGH ( 2 * _0x40000 + ( 149 ) )
                 	__POINTW1FN _0x40000,149
001181 93fa      	ST   -Y,R31
001182 93ea      	ST   -Y,R30
                +
001183 91e0 03e2+LDS R30 , _tmpimage + ( 49 )
                 	__GETB1MN _tmpimage,49
001185 940e 2f83 	CALL SUBOPT_0x3F
                +
001187 91e0 03e3+LDS R30 , _tmpimage + ( 50 )
                 	__GETB1MN _tmpimage,50
001189 940e 2f83 	CALL SUBOPT_0x3F
                +
00118b 91e0 03e4+LDS R30 , _tmpimage + ( 51 )
                 	__GETB1MN _tmpimage,51
00118d 940e 2f83 	CALL SUBOPT_0x3F
00118f 940e 2f89 	CALL SUBOPT_0x40
                 ; 0002 00CD         while(tx_counter);
                 _0x40045:
001191 91e0 0643 	LDS  R30,_tx_counter
001193 30e0      	CPI  R30,0
001194 f7e1      	BRNE _0x40045
                 ; 0002 00CE         printf("\r\nprogfuses = %02x %02x %02x %02x",tmpimage.progfuses[0],tmpimage.progfuses[1],tmpimage.progfuses[2],t ...
                +
001195 e4e2     +LDI R30 , LOW ( 2 * _0x40000 + ( 178 ) )
001196 e0f3     +LDI R31 , HIGH ( 2 * _0x40000 + ( 178 ) )
                 	__POINTW1FN _0x40000,178
001197 93fa      	ST   -Y,R31
001198 93ea      	ST   -Y,R30
                +
001199 91e0 03e5+LDS R30 , _tmpimage + ( 52 )
                 	__GETB1MN _tmpimage,52
00119b 940e 2f83 	CALL SUBOPT_0x3F
                +
00119d 91e0 03e6+LDS R30 , _tmpimage + ( 53 )
                 	__GETB1MN _tmpimage,53
00119f 940e 2f83 	CALL SUBOPT_0x3F
                +
0011a1 91e0 03e7+LDS R30 , _tmpimage + ( 54 )
                 	__GETB1MN _tmpimage,54
0011a3 940e 2f83 	CALL SUBOPT_0x3F
                +
0011a5 91e0 03e8+LDS R30 , _tmpimage + ( 55 )
                 	__GETB1MN _tmpimage,55
0011a7 940e 2f83 	CALL SUBOPT_0x3F
0011a9 940e 2fa6 	CALL SUBOPT_0x46
                 ; 0002 00CF         while(tx_counter);
                 _0x40048:
0011ab 91e0 0643 	LDS  R30,_tx_counter
0011ad 30e0      	CPI  R30,0
0011ae f7e1      	BRNE _0x40048
                 ; 0002 00D0         //memecpy(normfuses,myimage.normfuses,4);
                 ; 0002 00D1         printf("\r\nnormfuses = %02x %02x %02x %02x",tmpimage.normfuses[0],tmpimage.normfuses[1],tmpimage.normfuses[2],t ...
                +
0011af e6e4     +LDI R30 , LOW ( 2 * _0x40000 + ( 212 ) )
0011b0 e0f3     +LDI R31 , HIGH ( 2 * _0x40000 + ( 212 ) )
                 	__POINTW1FN _0x40000,212
0011b1 93fa      	ST   -Y,R31
0011b2 93ea      	ST   -Y,R30
                +
0011b3 91e0 03e9+LDS R30 , _tmpimage + ( 56 )
                 	__GETB1MN _tmpimage,56
0011b5 940e 2f83 	CALL SUBOPT_0x3F
                +
0011b7 91e0 03ea+LDS R30 , _tmpimage + ( 57 )
                 	__GETB1MN _tmpimage,57
0011b9 940e 2f83 	CALL SUBOPT_0x3F
                +
0011bb 91e0 03eb+LDS R30 , _tmpimage + ( 58 )
                 	__GETB1MN _tmpimage,58
0011bd 940e 2f83 	CALL SUBOPT_0x3F
                +
0011bf 91e0 03ec+LDS R30 , _tmpimage + ( 59 )
                 	__GETB1MN _tmpimage,59
0011c1 940e 2f83 	CALL SUBOPT_0x3F
0011c3 940e 2fa6 	CALL SUBOPT_0x46
                 ; 0002 00D2         while(tx_counter);
                 _0x4004B:
0011c5 91e0 0643 	LDS  R30,_tx_counter
0011c7 30e0      	CPI  R30,0
0011c8 f7e1      	BRNE _0x4004B
                 ; 0002 00D3         //memecpy(maskfuses,myimage.maskfuses,4);
                 ; 0002 00D4         printf("\r\nmaskfuses = %02x %02x %02x %02x",tmpimage.maskfuses[0],tmpimage.maskfuses[1],tmpimage.maskfuses[2],t ...
                +
0011c9 e8e6     +LDI R30 , LOW ( 2 * _0x40000 + ( 246 ) )
0011ca e0f3     +LDI R31 , HIGH ( 2 * _0x40000 + ( 246 ) )
                 	__POINTW1FN _0x40000,246
0011cb 93fa      	ST   -Y,R31
0011cc 93ea      	ST   -Y,R30
                +
0011cd 91e0 03ed+LDS R30 , _tmpimage + ( 60 )
                 	__GETB1MN _tmpimage,60
0011cf 940e 2f83 	CALL SUBOPT_0x3F
                +
0011d1 91e0 03ee+LDS R30 , _tmpimage + ( 61 )
                 	__GETB1MN _tmpimage,61
0011d3 940e 2f83 	CALL SUBOPT_0x3F
                +
0011d5 91e0 03ef+LDS R30 , _tmpimage + ( 62 )
                 	__GETB1MN _tmpimage,62
0011d7 940e 2f83 	CALL SUBOPT_0x3F
                +
0011d9 91e0 03f0+LDS R30 , _tmpimage + ( 63 )
                 	__GETB1MN _tmpimage,63
0011db 940e 2f83 	CALL SUBOPT_0x3F
0011dd 940e 2fa6 	CALL SUBOPT_0x46
                 ; 0002 00D5         while(tx_counter);
                 _0x4004E:
0011df 91e0 0643 	LDS  R30,_tx_counter
0011e1 30e0      	CPI  R30,0
0011e2 f7e1      	BRNE _0x4004E
                 ; 0002 00D6         printf("\r\nchipsize = %lu",tmpimage.chipsize);
                +
0011e3 eae8     +LDI R30 , LOW ( 2 * _0x40000 + ( 280 ) )
0011e4 e0f3     +LDI R31 , HIGH ( 2 * _0x40000 + ( 280 ) )
                 	__POINTW1FN _0x40000,280
0011e5 93fa      	ST   -Y,R31
0011e6 93ea      	ST   -Y,R30
0011e7 940e 2fab 	CALL SUBOPT_0x47
0011e9 940e 2fb4 	CALL SUBOPT_0x48
                 ; 0002 00D7         while(tx_counter);
                 _0x40051:
0011eb 91e0 0643 	LDS  R30,_tx_counter
0011ed 30e0      	CPI  R30,0
0011ee f7e1      	BRNE _0x40051
                 ; 0002 00D8         printf("\r\npagesize = %u",tmpimage.pagesize);
                +
0011ef ebe9     +LDI R30 , LOW ( 2 * _0x40000 + ( 297 ) )
0011f0 e0f3     +LDI R31 , HIGH ( 2 * _0x40000 + ( 297 ) )
                 	__POINTW1FN _0x40000,297
0011f1 940e 2fb7 	CALL SUBOPT_0x49
0011f3 940e 2f9c 	CALL SUBOPT_0x44
                 ; 0002 00D9         while(tx_counter);
                 _0x40054:
0011f5 91e0 0643 	LDS  R30,_tx_counter
0011f7 30e0      	CPI  R30,0
0011f8 f7e1      	BRNE _0x40054
                 ; 0002 00DA         printf("\r\nProgramming Done = %lu",myimage[dirnum].ProgCounterDone);
                +
0011f9 ece9     +LDI R30 , LOW ( 2 * _0x40000 + ( 313 ) )
0011fa e0f3     +LDI R31 , HIGH ( 2 * _0x40000 + ( 313 ) )
                 	__POINTW1FN _0x40000,313
0011fb 93fa      	ST   -Y,R31
0011fc 93ea      	ST   -Y,R30
0011fd 940e 2fbe 	CALL SUBOPT_0x4A
0011ff 940e 2fc4 	CALL SUBOPT_0x4B
001201 940e 2fb4 	CALL SUBOPT_0x48
                 ; 0002 00DB         while(tx_counter);
                 _0x40057:
001203 91e0 0643 	LDS  R30,_tx_counter
001205 30e0      	CPI  R30,0
001206 f7e1      	BRNE _0x40057
                 ; 0002 00DC         printf("\r\nProgramming Available = %lu",tmpimage.ProgCounterTotal);
                +
001207 eee2     +LDI R30 , LOW ( 2 * _0x40000 + ( 338 ) )
001208 e0f3     +LDI R31 , HIGH ( 2 * _0x40000 + ( 338 ) )
                 	__POINTW1FN _0x40000,338
001209 93fa      	ST   -Y,R31
00120a 93ea      	ST   -Y,R30
00120b 940e 2e70 	CALL SUBOPT_0x1C
00120d 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 00DD         while(tx_counter);
                 _0x4005A:
00120f 91e0 0643 	LDS  R30,_tx_counter
001211 30e0      	CPI  R30,0
001212 f7e1      	BRNE _0x4005A
                 ; 0002 00DE         }
                 ; 0002 00DF #endif
                 ; 0002 00E0 }
                 _0x40035:
001213 9508      	RET
                 ; .FEND
                 ;
                 ;
                 ;/*Function for Boot From EEPROM version (SDCARD hex copied to FLASH).
                 ;    Copy the project definitions from eeprom to SRAM*/
                 ;#ifdef BOOTEEPROM
                 ;void CopyEepromToRam(void)
                 ;{
                 ;    strecpy(tmpimage.chipname,myimage[dirnum].chipname);
                 ;    tmpimage.chipcode=myimage[dirnum].chipcode;
                 ;    memecpy(tmpimage.signature,myimage[dirnum].signature,3);
                 ;    memecpy(tmpimage.progfuses,myimage[dirnum].progfuses,MAX_FUSES);
                 ;    memecpy(tmpimage.normfuses,myimage[dirnum].normfuses,MAX_FUSES);
                 ;    memecpy(tmpimage.maskfuses,myimage[dirnum].maskfuses,MAX_FUSES);
                 ;}
                 ;#endif
                 ;UCHAR Call_EnterProgMode(void)
                 ; 0002 00F1 {
                 _Call_EnterProgMode:
                 ; .FSTART _Call_EnterProgMode
                 ; 0002 00F2     #ifdef PRINT_DEBUG
                 ; 0002 00F3     if(debug){
001214 91e0 03af 	LDS  R30,_debug
001216 30e0      	CPI  R30,0
001217 f041      	BREQ _0x4005D
                 ; 0002 00F4     printf("\r\nStarting Program Mode... ");
                +
001218 e0e0     +LDI R30 , LOW ( 2 * _0x40000 + ( 368 ) )
001219 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 368 ) )
                 	__POINTW1FN _0x40000,368
00121a 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 00F5     while(tx_counter);}
                 _0x4005E:
00121c 91e0 0643 	LDS  R30,_tx_counter
00121e 30e0      	CPI  R30,0
00121f f7e1      	BRNE _0x4005E
                 ; 0002 00F6     #endif
                 ; 0002 00F7     #ifdef PRINT_LCD
                 ; 0002 00F8     lcd_putsf_row(1,"Prog Mode ");
                 _0x4005D:
001220 e0e1      	LDI  R30,LOW(1)
001221 93ea      	ST   -Y,R30
                +
001222 e1ec     +LDI R30 , LOW ( 2 * _0x40000 + ( 396 ) )
001223 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 396 ) )
                 	__POINTW1FN _0x40000,396
001224 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 00F9     #endif
                 ; 0002 00FA     AVR910_Standalone("P");//send enter to prog mode -> should answer 0x0D=ACK  /* Turn on target power */
                +
001226 e2e7     +LDI R30 , LOW ( 2 * _0x40000 + ( 407 ) )
001227 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 407 ) )
                 	__POINTW1FN _0x40000,407
001228 940e 2fca 	CALL SUBOPT_0x4C
                 ; 0002 00FB     if(g_txBuf[0]!=ACK){
00122a 91a0 0300 	LDS  R26,_g_txBuf
00122c 30ad      	CPI  R26,LOW(0xD)
00122d f099      	BREQ _0x40061
                 ; 0002 00FC         #ifdef PRINT_DEBUG
                 ; 0002 00FD         if(debug){
00122e 91e0 03af 	LDS  R30,_debug
001230 30e0      	CPI  R30,0
001231 f041      	BREQ _0x40062
                 ; 0002 00FE         printf("FAIL");
                +
001232 e2e9     +LDI R30 , LOW ( 2 * _0x40000 + ( 409 ) )
001233 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 409 ) )
                 	__POINTW1FN _0x40000,409
001234 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 00FF         while(tx_counter);}
                 _0x40063:
001236 91e0 0643 	LDS  R30,_tx_counter
001238 30e0      	CPI  R30,0
001239 f7e1      	BRNE _0x40063
                 ; 0002 0100         #endif
                 ; 0002 0101         #ifdef PRINT_LCD
                 ; 0002 0102         lcd_putsf_row(1,"No target");
                 _0x40062:
00123a e0e1      	LDI  R30,LOW(1)
00123b 93ea      	ST   -Y,R30
                +
00123c e2ee     +LDI R30 , LOW ( 2 * _0x40000 + ( 414 ) )
00123d e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 414 ) )
                 	__POINTW1FN _0x40000,414
00123e 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 0103         #endif
                 ; 0002 0104         return FALSE;
001240 c335      	RJMP _0x20C0020
                 ; 0002 0105     }
                 ; 0002 0106     #ifdef PRINT_DEBUG
                 ; 0002 0107     if(debug){
                 _0x40061:
001241 91e0 03af 	LDS  R30,_debug
001243 30e0      	CPI  R30,0
001244 f041      	BREQ _0x40066
                 ; 0002 0108     printf(" OK.");
                +
001245 e3e8     +LDI R30 , LOW ( 2 * _0x40000 + ( 424 ) )
001246 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 424 ) )
                 	__POINTW1FN _0x40000,424
001247 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0109     while(tx_counter);}
                 _0x40067:
001249 91e0 0643 	LDS  R30,_tx_counter
00124b 30e0      	CPI  R30,0
00124c f7e1      	BRNE _0x40067
                 ; 0002 010A     #endif
                 ; 0002 010B     #ifdef PRINT_LCD
                 ; 0002 010C     lcd_putsf("Done");
                 _0x40066:
                +
00124d e3ed     +LDI R30 , LOW ( 2 * _0x40000 + ( 429 ) )
00124e e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 429 ) )
                 	__POINTW1FN _0x40000,429
00124f 940e 2dc4 	CALL SUBOPT_0x2
                 ; 0002 010D     #endif
                 ; 0002 010E     return TRUE;
001251 c36e      	RJMP _0x20C001E
                 ; 0002 010F }
                 ; .FEND
                 ;UCHAR Call_GetConfig(void){
                 ; 0002 0110 UCHAR Call_GetConfig(void){
                 _Call_GetConfig:
                 ; .FSTART _Call_GetConfig
                 ; 0002 0111     if(sd_mount()==FALSE){// if sdcard is missing
001252 940e 1c46 	CALL _sd_mount
001254 30e0      	CPI  R30,0
001255 f479      	BRNE _0x4006A
                 ; 0002 0112         #ifdef PRINT_DEBUG
                 ; 0002 0113         if(debug){
001256 91e0 03af 	LDS  R30,_debug
001258 30e0      	CPI  R30,0
001259 f041      	BREQ _0x4006B
                 ; 0002 0114         printf("\r\nCall sd_mount func failed \r\n");
                +
00125a e4e2     +LDI R30 , LOW ( 2 * _0x40000 + ( 434 ) )
00125b e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 434 ) )
                 	__POINTW1FN _0x40000,434
00125c 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0115         while(tx_counter);}
                 _0x4006C:
00125e 91e0 0643 	LDS  R30,_tx_counter
001260 30e0      	CPI  R30,0
001261 f7e1      	BRNE _0x4006C
                 ; 0002 0116         #endif
                 ; 0002 0117         Beeps(2,1);
                 _0x4006B:
001262 940e 2e50 	CALL SUBOPT_0x18
                 ; 0002 0118         goto print_error;
001264 c046      	RJMP _0x4006F
                 ; 0002 0119     }
                 ; 0002 011A     else{//try to copy image definitions from sdcard to eeprom and reset to bootloader to load hex to flash
                 _0x4006A:
                 ; 0002 011B         #ifdef PRINT_DEBUG
                 ; 0002 011C         if(debug){
001265 91e0 03af 	LDS  R30,_debug
001267 30e0      	CPI  R30,0
001268 f061      	BREQ _0x40071
                 ; 0002 011D         while(tx_counter);
                 _0x40072:
001269 91e0 0643 	LDS  R30,_tx_counter
00126b 30e0      	CPI  R30,0
00126c f7e1      	BRNE _0x40072
                 ; 0002 011E         printf("\r\nCall sd_mount func ok \r\n");
                +
00126d e6e1     +LDI R30 , LOW ( 2 * _0x40000 + ( 465 ) )
00126e e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 465 ) )
                 	__POINTW1FN _0x40000,465
00126f 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 011F         while(tx_counter);}
                 _0x40075:
001271 91e0 0643 	LDS  R30,_tx_counter
001273 30e0      	CPI  R30,0
001274 f7e1      	BRNE _0x40075
                 ; 0002 0120         #endif
                 ; 0002 0121         if((value=GetConfigValue("up"))==NULL)
                 _0x40071:
                +
001275 e7ec     +LDI R30 , LOW ( 2 * _0x40000 + ( 492 ) )
001276 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 492 ) )
                 	__POINTW1FN _0x40000,492
001277 940e 2fce 	CALL SUBOPT_0x4D
001279 f189      	BREQ _0x4006F
                 ; 0002 0122               goto print_error;
                 ; 0002 0123         g_UpSkip=atoi(value);
00127a 940e 2fd8 	CALL SUBOPT_0x4E
00127c 93e0 040f 	STS  _g_UpSkip,R30
                 ; 0002 0124         if((value=GetConfigValue("down"))==NULL)
                +
00127e e7ef     +LDI R30 , LOW ( 2 * _0x40000 + ( 495 ) )
00127f e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 495 ) )
                 	__POINTW1FN _0x40000,495
001280 940e 2fce 	CALL SUBOPT_0x4D
001282 f141      	BREQ _0x4006F
                 ; 0002 0125               goto print_error;
                 ; 0002 0126         g_DownSkip=atoi(value);
001283 940e 2fd8 	CALL SUBOPT_0x4E
001285 93e0 0410 	STS  _g_DownSkip,R30
                 ; 0002 0127         if((value=GetConfigValue("maxfolders"))==NULL)
                +
001287 e8e4     +LDI R30 , LOW ( 2 * _0x40000 + ( 500 ) )
001288 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 500 ) )
                 	__POINTW1FN _0x40000,500
001289 940e 2fce 	CALL SUBOPT_0x4D
00128b f0f9      	BREQ _0x4006F
                 ; 0002 0128               goto print_error;
                 ; 0002 0129         g_MaxFolders=atoi(value);
00128c 940e 2fd8 	CALL SUBOPT_0x4E
00128e 93e0 0411 	STS  _g_MaxFolders,R30
                 ; 0002 012A         return TRUE;
001290 c32f      	RJMP _0x20C001E
                 ; 0002 012B     }
                 ; 0002 012C     #ifdef PRINT_DEBUG
                 ; 0002 012D     if(debug){
                 ; 0002 012E     while(tx_counter);
                 _0x4007C:
001291 91e0 0643 	LDS  R30,_tx_counter
001293 30e0      	CPI  R30,0
001294 f7e1      	BRNE _0x4007C
                 ; 0002 012F     printf("\r\nconfig: Up=%d Down=%d MaxFolders=%d",g_UpSkip,g_DownSkip,g_MaxFolders);
                +
001295 e8ef     +LDI R30 , LOW ( 2 * _0x40000 + ( 511 ) )
001296 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 511 ) )
                 	__POINTW1FN _0x40000,511
001297 93fa      	ST   -Y,R31
001298 93ea      	ST   -Y,R30
001299 91e0 040f 	LDS  R30,_g_UpSkip
00129b 940e 2f83 	CALL SUBOPT_0x3F
00129d 91e0 0410 	LDS  R30,_g_DownSkip
00129f 940e 2f83 	CALL SUBOPT_0x3F
0012a1 91e0 0411 	LDS  R30,_g_MaxFolders
0012a3 940e 2f83 	CALL SUBOPT_0x3F
0012a5 940e 2f89 	CALL SUBOPT_0x40
                 ; 0002 0130     while(tx_counter);}
                 _0x4007F:
0012a7 91e0 0643 	LDS  R30,_tx_counter
0012a9 30e0      	CPI  R30,0
0012aa f7e1      	BRNE _0x4007F
                 ; 0002 0131     #endif
                 ; 0002 0132 print_error:
                 _0x4006F:
                 ; 0002 0133     return FALSE;
0012ab c2ca      	RJMP _0x20C0020
                 ; 0002 0134 }
                 ; .FEND
                 ;
                 ;UCHAR Call_GetDir(void){
                 ; 0002 0136 UCHAR Call_GetDir(void){
                 _Call_GetDir:
                 ; .FSTART _Call_GetDir
                 ; 0002 0137     if(sd_mount()==FALSE){// if sdcard is missing
0012ac 940e 1c46 	CALL _sd_mount
0012ae 30e0      	CPI  R30,0
0012af f479      	BRNE _0x40082
                 ; 0002 0138         #ifdef PRINT_DEBUG
                 ; 0002 0139         if(debug){
0012b0 91e0 03af 	LDS  R30,_debug
0012b2 30e0      	CPI  R30,0
0012b3 f041      	BREQ _0x40083
                 ; 0002 013A         printf("\r\nCall sd_mount func failed \r\n");
                +
0012b4 e4e2     +LDI R30 , LOW ( 2 * _0x40000 + ( 434 ) )
0012b5 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 434 ) )
                 	__POINTW1FN _0x40000,434
0012b6 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 013B         while(tx_counter);}
                 _0x40084:
0012b8 91e0 0643 	LDS  R30,_tx_counter
0012ba 30e0      	CPI  R30,0
0012bb f7e1      	BRNE _0x40084
                 ; 0002 013C         #endif
                 ; 0002 013D         Beeps(2,1);
                 _0x40083:
0012bc 940e 2e50 	CALL SUBOPT_0x18
                 ; 0002 013E         return FALSE;
0012be c2b7      	RJMP _0x20C0020
                 ; 0002 013F     }
                 ; 0002 0140     else{//try to copy image definitions from sdcard to eeprom and reset to bootloader to load hex to flash
                 _0x40082:
                 ; 0002 0141         #ifdef PRINT_DEBUG
                 ; 0002 0142         if(debug){
0012bf 91e0 03af 	LDS  R30,_debug
0012c1 30e0      	CPI  R30,0
0012c2 f061      	BREQ _0x40088
                 ; 0002 0143         while(tx_counter);
                 _0x40089:
0012c3 91e0 0643 	LDS  R30,_tx_counter
0012c5 30e0      	CPI  R30,0
0012c6 f7e1      	BRNE _0x40089
                 ; 0002 0144         printf("\r\nCall sd_mount func ok \r\n");
                +
0012c7 e6e1     +LDI R30 , LOW ( 2 * _0x40000 + ( 465 ) )
0012c8 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 465 ) )
                 	__POINTW1FN _0x40000,465
0012c9 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0145         while(tx_counter);}
                 _0x4008C:
0012cb 91e0 0643 	LDS  R30,_tx_counter
0012cd 30e0      	CPI  R30,0
0012ce f7e1      	BRNE _0x4008C
                 ; 0002 0146         #endif
                 ; 0002 0147        //myimage[dirnum].RollCounter=63;//test case
                 ; 0002 0148        tmpimage.RollCounter=myimage[dirnum].RollCounter; //63
                 _0x40088:
0012cf 940e 2fbe 	CALL SUBOPT_0x4A
0012d1 940e 2fe0 	CALL SUBOPT_0x4F
                +
0012d3 93e0 040d+STS _tmpimage + ( 92 ) , R30
                 	__PUTB1MN _tmpimage,92
                 ; 0002 0149        if( GetRollCounter("rollcounter")==NULL)
                +
0012d5 ebe5     +LDI R30 , LOW ( 2 * _0x40000 + ( 549 ) )
0012d6 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 549 ) )
                 	__POINTW1FN _0x40000,549
0012d7 93fa      	ST   -Y,R31
0012d8 93ea      	ST   -Y,R30
0012d9 940e 1cd5 	CALL _GetRollCounter
0012db 9730      	SBIW R30,0
0012dc f409      	BRNE _0x4008F
                 ; 0002 014A               return FALSE;
0012dd c298      	RJMP _0x20C0020
                 ; 0002 014B        #ifdef PRINT_DEBUG
                 ; 0002 014C         if(debug){
                 _0x4008F:
0012de 91e0 03af 	LDS  R30,_debug
0012e0 30e0      	CPI  R30,0
0012e1 f071      	BREQ _0x40090
                 ; 0002 014D         while(tx_counter);
                 _0x40091:
0012e2 91e0 0643 	LDS  R30,_tx_counter
0012e4 30e0      	CPI  R30,0
0012e5 f7e1      	BRNE _0x40091
                 ; 0002 014E         printf("\r\nbuffer\r\n%s",buffer);
                +
0012e6 ece1     +LDI R30 , LOW ( 2 * _0x40000 + ( 561 ) )
0012e7 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 561 ) )
                 	__POINTW1FN _0x40000,561
0012e8 940e 2fe6 	CALL SUBOPT_0x50
0012ea 940e 2f9c 	CALL SUBOPT_0x44
                 ; 0002 014F         while(tx_counter);}
                 _0x40094:
0012ec 91e0 0643 	LDS  R30,_tx_counter
0012ee 30e0      	CPI  R30,0
0012ef f7e1      	BRNE _0x40094
                 ; 0002 0150         #endif
                 ; 0002 0151        if(tmpimage.RollCounter > myimage[dirnum].RollCounter || (myimage[dirnum].RollCounter>(ROLL_SIZE-ROLL_WINDOW))){/ ...
                 _0x40090:
0012f0 940e 2fbe 	CALL SUBOPT_0x4A
0012f2 940e 2fe0 	CALL SUBOPT_0x4F
                +
0012f4 91a0 040d+LDS R26 , _tmpimage + ( 92 )
                 	__GETB2MN _tmpimage,92
0012f6 17ea      	CP   R30,R26
0012f7 f030      	BRLO _0x40098
0012f8 940e 2fbe 	CALL SUBOPT_0x4A
0012fa 940e 2fe0 	CALL SUBOPT_0x4F
0012fc 33ec      	CPI  R30,LOW(0x3C)
0012fd f148      	BRLO _0x40097
                 _0x40098:
                 ; 0002 0152              myimage[dirnum].RollCounter = tmpimage.RollCounter ;//save new roll number
0012fe 940e 2fbe 	CALL SUBOPT_0x4A
                +
001300 5fe2     +SUBI R30 , LOW ( - _myimage - ( 4 ) )
001301 4fff     +SBCI R31 , HIGH ( - _myimage - ( 4 ) )
                 	__ADDW1MN _myimage,4
001302 01df      	MOVW R26,R30
                +
001303 91e0 040d+LDS R30 , _tmpimage + ( 92 )
                 	__GETB1MN _tmpimage,92
001305 940e 356b 	CALL __EEPROMWRB
                 ; 0002 0153              if((value=GetValue("progcounterreset"))==NULL)
                +
001307 ecee     +LDI R30 , LOW ( 2 * _0x40000 + ( 574 ) )
001308 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 574 ) )
                 	__POINTW1FN _0x40000,574
001309 940e 2feb 	CALL SUBOPT_0x51
00130b f409      	BRNE _0x4009A
                 ; 0002 0154                   return FALSE;
00130c c269      	RJMP _0x20C0020
                 ; 0002 0155              if(atoi(value)==1){//reset prog counter case
                 _0x4009A:
00130d 940e 2fd8 	CALL SUBOPT_0x4E
00130f 30e1      	CPI  R30,LOW(0x1)
001310 e0a0      	LDI  R26,HIGH(0x1)
001311 07fa      	CPC  R31,R26
001312 f4a1      	BRNE _0x4009B
                 ; 0002 0156                 myimage[dirnum].ProgCounterDone=0;
001313 940e 2fbe 	CALL SUBOPT_0x4A
001315 940e 2ff5 	CALL SUBOPT_0x52
                 ; 0002 0157                 #ifdef PRINT_DEBUG
                 ; 0002 0158                 if(debug){
001317 91e0 03af 	LDS  R30,_debug
001319 30e0      	CPI  R30,0
00131a f061      	BREQ _0x4009C
                 ; 0002 0159                 while(tx_counter);
                 _0x4009D:
00131b 91e0 0643 	LDS  R30,_tx_counter
00131d 30e0      	CPI  R30,0
00131e f7e1      	BRNE _0x4009D
                 ; 0002 015A                 printf("\r\nReset prog counter done.\r\n");
                +
00131f edef     +LDI R30 , LOW ( 2 * _0x40000 + ( 591 ) )
001320 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 591 ) )
                 	__POINTW1FN _0x40000,591
001321 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 015B                 while(tx_counter);}
                 _0x400A0:
001323 91e0 0643 	LDS  R30,_tx_counter
001325 30e0      	CPI  R30,0
001326 f7e1      	BRNE _0x400A0
                 ; 0002 015C                 #endif
                 ; 0002 015D              }
                 _0x4009C:
                 ; 0002 015E        }
                 _0x4009B:
                 ; 0002 015F        if(myimage[dirnum].ProgCounterDone>0xf0000001)
                 _0x40097:
001327 940e 2fbe 	CALL SUBOPT_0x4A
001329 940e 2fc4 	CALL SUBOPT_0x4B
                +
00132b 30e2     +CPI R30 , LOW ( 0xF0000002 )
00132c e0a0     +LDI R26 , HIGH ( 0xF0000002 )
00132d 07fa     +CPC R31 , R26
00132e e0a0     +LDI R26 , BYTE3 ( 0xF0000002 )
00132f 076a     +CPC R22 , R26
001330 efa0     +LDI R26 , BYTE4 ( 0xF0000002 )
001331 077a     +CPC R23 , R26
                 	__CPD1N 0xF0000002
001332 f020      	BRLO _0x400A3
                 ; 0002 0160             myimage[dirnum].ProgCounterDone=0;
001333 940e 2fbe 	CALL SUBOPT_0x4A
001335 940e 2ff5 	CALL SUBOPT_0x52
                 ; 0002 0161        tmpimage.ProgCounterDone=myimage[dirnum].ProgCounterDone;
                 _0x400A3:
001337 940e 2fbe 	CALL SUBOPT_0x4A
001339 940e 2fff 	CALL SUBOPT_0x53
                 ; 0002 0162        if((value=GetValue("maxprogs"))==NULL)
                +
00133b efec     +LDI R30 , LOW ( 2 * _0x40000 + ( 620 ) )
00133c e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 620 ) )
                 	__POINTW1FN _0x40000,620
00133d 940e 2feb 	CALL SUBOPT_0x51
00133f f409      	BRNE _0x400A4
                 ; 0002 0163             return FALSE;
001340 c235      	RJMP _0x20C0020
                 ; 0002 0164        tmpimage.ProgCounterTotal=atol(value);
                 _0x400A4:
001341 940e 3009 	CALL SUBOPT_0x54
                +
001343 93e0 03f9+STS _tmpimage + ( 72 ) , R30
001345 93f0 03fa+STS _tmpimage + ( 72 ) + 1 , R31
                 	__PUTW1MN _tmpimage,72
                 ; 0002 0165        //tmpimage.ProgCounterTotal=hextoulong(value);
                 ; 0002 0166        if((value=GetValue("pagesize"))==NULL)
                +
001347 e0e5     +LDI R30 , LOW ( 2 * _0x40000 + ( 629 ) )
001348 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 629 ) )
                 	__POINTW1FN _0x40000,629
001349 940e 2feb 	CALL SUBOPT_0x51
00134b f409      	BRNE _0x400A5
                 ; 0002 0167             return FALSE;
00134c c229      	RJMP _0x20C0020
                 ; 0002 0168        tmpimage.pagesize=atoi(value);
                 _0x400A5:
00134d 940e 2fd8 	CALL SUBOPT_0x4E
                +
00134f 93e0 03f5+STS _tmpimage + ( 68 ) , R30
001351 93f0 03f6+STS _tmpimage + ( 68 ) + 1 , R31
                 	__PUTW1MN _tmpimage,68
                 ; 0002 0169        //tmpimage.pagesize=hextouint(value);
                 ; 0002 016A        if((value=GetValue("chipsize"))==NULL)
                +
001353 e0ee     +LDI R30 , LOW ( 2 * _0x40000 + ( 638 ) )
001354 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 638 ) )
                 	__POINTW1FN _0x40000,638
001355 940e 2feb 	CALL SUBOPT_0x51
001357 f409      	BRNE _0x400A6
                 ; 0002 016B             return FALSE;
001358 c21d      	RJMP _0x20C0020
                 ; 0002 016C        tmpimage.chipsize=atol(value);
                 _0x400A6:
001359 940e 3009 	CALL SUBOPT_0x54
                +
00135b 93e0 03f1+STS _tmpimage + ( 64 ) , R30
00135d 93f0 03f2+STS _tmpimage + ( 64 ) + 1 , R31
00135f 9360 03f3+STS _tmpimage + ( 64 ) + 2 , R22
001361 9370 03f4+STS _tmpimage + ( 64 ) + 3 , R23
                 	__PUTD1MN _tmpimage,64
                 ; 0002 016D        //tmpimage.chipsize=hextoulong(value);
                 ; 0002 016E        if((value=GetValue("maskfuses"))==NULL)
                +
001363 e1e7     +LDI R30 , LOW ( 2 * _0x40000 + ( 647 ) )
001364 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 647 ) )
                 	__POINTW1FN _0x40000,647
001365 940e 2feb 	CALL SUBOPT_0x51
001367 f409      	BRNE _0x400A7
                 ; 0002 016F             return FALSE;
001368 c20d      	RJMP _0x20C0020
                 ; 0002 0170        hextobytes(value,tmpimage.maskfuses,MAX_FUSES);
                 _0x400A7:
001369 940e 3011 	CALL SUBOPT_0x55
00136b 940e 3018 	CALL SUBOPT_0x56
00136d 940e 301d 	CALL SUBOPT_0x57
                 ; 0002 0171        if((value=GetValue("normfuses"))==NULL)
                +
00136f e2e1     +LDI R30 , LOW ( 2 * _0x40000 + ( 657 ) )
001370 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 657 ) )
                 	__POINTW1FN _0x40000,657
001371 940e 2feb 	CALL SUBOPT_0x51
001373 f409      	BRNE _0x400A8
                 ; 0002 0172             return FALSE;
001374 c201      	RJMP _0x20C0020
                 ; 0002 0173        hextobytes(value,tmpimage.normfuses,MAX_FUSES);
                 _0x400A8:
001375 940e 3011 	CALL SUBOPT_0x55
001377 940e 3021 	CALL SUBOPT_0x58
001379 940e 301d 	CALL SUBOPT_0x57
                 ; 0002 0174        if((value=GetValue("progfuses"))==NULL)
                +
00137b e2eb     +LDI R30 , LOW ( 2 * _0x40000 + ( 667 ) )
00137c e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 667 ) )
                 	__POINTW1FN _0x40000,667
00137d 940e 2feb 	CALL SUBOPT_0x51
00137f f409      	BRNE _0x400A9
                 ; 0002 0175             return FALSE;
001380 c1f5      	RJMP _0x20C0020
                 ; 0002 0176        hextobytes(value,tmpimage.progfuses,MAX_FUSES);
                 _0x400A9:
001381 940e 3011 	CALL SUBOPT_0x55
001383 940e 3026 	CALL SUBOPT_0x59
001385 940e 301d 	CALL SUBOPT_0x57
                 ; 0002 0177        if((value=GetValue("signature"))==NULL)
                +
001387 e3e5     +LDI R30 , LOW ( 2 * _0x40000 + ( 677 ) )
001388 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 677 ) )
                 	__POINTW1FN _0x40000,677
001389 940e 2feb 	CALL SUBOPT_0x51
00138b f409      	BRNE _0x400AA
                 ; 0002 0178             return FALSE;
00138c c1e9      	RJMP _0x20C0020
                 ; 0002 0179        hextobytes(value,tmpimage.signature,3);
                 _0x400AA:
00138d 940e 3011 	CALL SUBOPT_0x55
                +
00138f eee2     +LDI R30 , LOW ( _tmpimage + ( 49 ) )
001390 e0f3     +LDI R31 , HIGH ( _tmpimage + ( 49 ) )
                 	__POINTW1MN _tmpimage,49
001391 93fa      	ST   -Y,R31
001392 93ea      	ST   -Y,R30
001393 e0e3      	LDI  R30,LOW(3)
001394 93ea      	ST   -Y,R30
001395 dd89      	RCALL _hextobytes
                 ; 0002 017A        tmpimage.spidiv=1;
001396 e0e1      	LDI  R30,LOW(1)
                +
001397 93e0 040e+STS _tmpimage + ( 93 ) , R30
                 	__PUTB1MN _tmpimage,93
                 ; 0002 017B        if((value=GetValue("spidiv"))!=NULL)
                +
001399 e3ef     +LDI R30 , LOW ( 2 * _0x40000 + ( 687 ) )
00139a e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 687 ) )
                 	__POINTW1FN _0x40000,687
00139b 940e 2feb 	CALL SUBOPT_0x51
00139d f021      	BREQ _0x400AB
                 ; 0002 017C        {
                 ; 0002 017D             tmpimage.spidiv=atoi(value);
00139e 940e 2fd8 	CALL SUBOPT_0x4E
                +
0013a0 93e0 040e+STS _tmpimage + ( 93 ) , R30
                 	__PUTB1MN _tmpimage,93
                 ; 0002 017E             //tmpimage.spidiv=hextobyte(value);
                 ; 0002 017F        }
                 ; 0002 0180        if(tmpimage.spidiv>7)
                 _0x400AB:
                +
0013a2 91a0 040e+LDS R26 , _tmpimage + ( 93 )
                 	__GETB2MN _tmpimage,93
0013a4 30a8      	CPI  R26,LOW(0x8)
0013a5 f018      	BRLO _0x400AC
                 ; 0002 0181             tmpimage.spidiv=1;
0013a6 e0e1      	LDI  R30,LOW(1)
                +
0013a7 93e0 040e+STS _tmpimage + ( 93 ) , R30
                 	__PUTB1MN _tmpimage,93
                 ; 0002 0182        tmpimage.spidiv=1<<tmpimage.spidiv;
                 _0x400AC:
                +
0013a9 91e0 040e+LDS R30 , _tmpimage + ( 93 )
                 	__GETB1MN _tmpimage,93
0013ab e0a1      	LDI  R26,LOW(1)
0013ac 940e 344c 	CALL __LSLB12
                +
0013ae 93e0 040e+STS _tmpimage + ( 93 ) , R30
                 	__PUTB1MN _tmpimage,93
                 ; 0002 0183 
                 ; 0002 0184        strncpy(tmpimage.fw_ver,value=GetValue("proginfo"),16);
                +
0013b0 efec     +LDI R30 , LOW ( _tmpimage + ( 75 ) )
0013b1 e0f3     +LDI R31 , HIGH ( _tmpimage + ( 75 ) )
                 	__POINTW1MN _tmpimage,75
0013b2 93fa      	ST   -Y,R31
0013b3 93ea      	ST   -Y,R30
                +
0013b4 e4e6     +LDI R30 , LOW ( 2 * _0x40000 + ( 694 ) )
0013b5 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 694 ) )
                 	__POINTW1FN _0x40000,694
0013b6 940e 302b 	CALL SUBOPT_0x5A
0013b8 e1e0      	LDI  R30,LOW(16)
0013b9 93ea      	ST   -Y,R30
0013ba 940e 2d69 	CALL _strncpy
                 ; 0002 0185        strncpy(tmpimage.progname,value=GetValue("progname"),12);
                +
0013bc ece1     +LDI R30 , LOW ( _tmpimage + ( 16 ) )
0013bd e0f3     +LDI R31 , HIGH ( _tmpimage + ( 16 ) )
                 	__POINTW1MN _tmpimage,16
0013be 93fa      	ST   -Y,R31
0013bf 93ea      	ST   -Y,R30
                +
0013c0 e4ef     +LDI R30 , LOW ( 2 * _0x40000 + ( 703 ) )
0013c1 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 703 ) )
                 	__POINTW1FN _0x40000,703
0013c2 940e 302b 	CALL SUBOPT_0x5A
0013c4 e0ec      	LDI  R30,LOW(12)
0013c5 93ea      	ST   -Y,R30
0013c6 940e 2d69 	CALL _strncpy
                 ; 0002 0186        #ifdef PRINT_DEBUG
                 ; 0002 0187        if(debug){
0013c8 91e0 03af 	LDS  R30,_debug
0013ca 30e0      	CPI  R30,0
0013cb f0b1      	BREQ _0x400AD
                 ; 0002 0188        while(tx_counter);
                 _0x400AE:
0013cc 91e0 0643 	LDS  R30,_tx_counter
0013ce 30e0      	CPI  R30,0
0013cf f7e1      	BRNE _0x400AE
                 ; 0002 0189        printf("\r\nproginfo=%s",tmpimage.fw_ver);
                +
0013d0 e5e8     +LDI R30 , LOW ( 2 * _0x40000 + ( 712 ) )
0013d1 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 712 ) )
                 	__POINTW1FN _0x40000,712
0013d2 940e 2fa1 	CALL SUBOPT_0x45
                 ; 0002 018A        printf("\r\nspidiv=%d",tmpimage.spidiv);
                +
0013d4 e6e6     +LDI R30 , LOW ( 2 * _0x40000 + ( 726 ) )
0013d5 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 726 ) )
                 	__POINTW1FN _0x40000,726
0013d6 93fa      	ST   -Y,R31
0013d7 93ea      	ST   -Y,R30
                +
0013d8 91e0 040e+LDS R30 , _tmpimage + ( 93 )
                 	__GETB1MN _tmpimage,93
0013da 940e 2f83 	CALL SUBOPT_0x3F
0013dc 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 018B        while(tx_counter);}
                 _0x400B1:
0013de 91e0 0643 	LDS  R30,_tx_counter
0013e0 30e0      	CPI  R30,0
0013e1 f7e1      	BRNE _0x400B1
                 ; 0002 018C        #endif
                 ; 0002 018D print_image:
                 _0x400AD:
                 ; 0002 018E        #ifdef BOOTEEPROM
                 ; 0002 018F        CopyEepromToRam();
                 ; 0002 0190        #endif
                 ; 0002 0191        #ifdef PRINT_DEBUG
                 ; 0002 0192        PrintImage();
0013e2 dd5b      	RCALL _PrintImage
                 ; 0002 0193        #endif
                 ; 0002 0194        #ifdef BOOTEEPROM
                 ; 0002 0195        myimage.FlashStartAddrByte=FLASH_START_ADDR_WORD<<1;
                 ; 0002 0196        AVR910_Standalone("E");//reboot  to bootloader
                 ; 0002 0197        #endif
                 ; 0002 0198    }
                 ; 0002 0199    return TRUE;
0013e3 c1dc      	RJMP _0x20C001E
                 ; 0002 019A }
                 ; .FEND
                 ;void ResetGlobals(void)
                 ; 0002 019C {
                 _ResetGlobals:
                 ; .FSTART _ResetGlobals
                 ; 0002 019D    CanContinueRead=0;
0013e4 98f1      	CBI  0x1E,1
                 ; 0002 019E    EndOfFile=0;
0013e5 98f2      	CBI  0x1E,2
                 ; 0002 019F    g_Operation = OPERATION_READ;
0013e6 e0e0      	LDI  R30,LOW(0)
0013e7 93e0 0388 	STS  _g_Operation,R30
                 ; 0002 01A0    g_BlockMode = FALSE;
0013e9 93e0 0389 	STS  _g_BlockMode,R30
                 ; 0002 01A1    OffsetX16=0;
0013eb 93e0 07f9 	STS  _OffsetX16,R30
0013ed 93e0 07fa 	STS  _OffsetX16+1,R30
0013ef 93e0 07fb 	STS  _OffsetX16+2,R30
0013f1 93e0 07fc 	STS  _OffsetX16+3,R30
                 ; 0002 01A2    blankpage=FALSE;
0013f3 98f3      	CBI  0x1E,3
                 ; 0002 01A3    pageaddr=0;//reset address byte counter
0013f4 93e0 06f5 	STS  _pageaddr,R30
0013f6 93e0 06f6 	STS  _pageaddr+1,R30
0013f8 93e0 06f7 	STS  _pageaddr+2,R30
0013fa 93e0 06f8 	STS  _pageaddr+3,R30
                 ; 0002 01A4 }
0013fc 9508      	RET
                 ; .FEND
                 ;UCHAR Call_ReadSignature(void)
                 ; 0002 01A6 {
                 _Call_ReadSignature:
                 ; .FSTART _Call_ReadSignature
                 ; 0002 01A7    AVR910_Standalone("s");//send read signature -> Figure out what kind of CPU
                +
0013fd efe3     +LDI R30 , LOW ( 2 * _0x40000 + ( 99 ) )
0013fe e0f2     +LDI R31 , HIGH ( 2 * _0x40000 + ( 99 ) )
                 	__POINTW1FN _0x40000,99
0013ff 940e 2fca 	CALL SUBOPT_0x4C
                 ; 0002 01A8    #ifdef PRINT_DEBUG
                 ; 0002 01A9    if(debug){
001401 91e0 03af 	LDS  R30,_debug
001403 30e0      	CPI  R30,0
001404 f091      	BREQ _0x400BB
                 ; 0002 01AA    printf("\r\nTarget signature is: %02x %02x %02x",g_txBuf[2],g_txBuf[1],g_txBuf[0]);
                +
001405 e7e2     +LDI R30 , LOW ( 2 * _0x40000 + ( 738 ) )
001406 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 738 ) )
                 	__POINTW1FN _0x40000,738
001407 93fa      	ST   -Y,R31
001408 93ea      	ST   -Y,R30
                +
001409 91e0 0302+LDS R30 , _g_txBuf + ( 2 )
                 	__GETB1MN _g_txBuf,2
00140b 940e 2f83 	CALL SUBOPT_0x3F
00140d 940e 3036 	CALL SUBOPT_0x5B
00140f 940e 3039 	CALL SUBOPT_0x5C
001411 940e 2f89 	CALL SUBOPT_0x40
                 ; 0002 01AB    while(tx_counter);}
                 _0x400BC:
001413 91e0 0643 	LDS  R30,_tx_counter
001415 30e0      	CPI  R30,0
001416 f7e1      	BRNE _0x400BC
                 ; 0002 01AC    #endif
                 ; 0002 01AD    //AVR910 ReadSignature order is 02(3) 97(2) 1E(1) so need to reverse it
                 ; 0002 01AE    if((tmpimage.signature[1]!=g_txBuf[1])||(tmpimage.signature[2]!=g_txBuf[0])){
                 _0x400BB:
                +
001417 91a0 03e3+LDS R26 , _tmpimage + ( 50 )
                 	__GETB2MN _tmpimage,50
                +
001419 91e0 0301+LDS R30 , _g_txBuf + ( 1 )
                 	__GETB1MN _g_txBuf,1
00141b 17ea      	CP   R30,R26
00141c f431      	BRNE _0x400C0
                +
00141d 91a0 03e4+LDS R26 , _tmpimage + ( 51 )
                 	__GETB2MN _tmpimage,51
00141f 91e0 0300 	LDS  R30,_g_txBuf
001421 17ea      	CP   R30,R26
001422 f099      	BREQ _0x400BF
                 _0x400C0:
                 ; 0002 01AF        #ifdef PRINT_DEBUG
                 ; 0002 01B0        if(debug){
001423 91e0 03af 	LDS  R30,_debug
001425 30e0      	CPI  R30,0
001426 f041      	BREQ _0x400C2
                 ; 0002 01B1        printf(" target not connected\r\n");
                +
001427 e9e8     +LDI R30 , LOW ( 2 * _0x40000 + ( 776 ) )
001428 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 776 ) )
                 	__POINTW1FN _0x40000,776
001429 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 01B2        while(tx_counter);}
                 _0x400C3:
00142b 91e0 0643 	LDS  R30,_tx_counter
00142d 30e0      	CPI  R30,0
00142e f7e1      	BRNE _0x400C3
                 ; 0002 01B3        #endif
                 ; 0002 01B4        #ifdef PRINT_LCD
                 ; 0002 01B5        lcd_putsf_row(1,"Wrong target");
                 _0x400C2:
00142f e0e1      	LDI  R30,LOW(1)
001430 93ea      	ST   -Y,R30
                +
001431 ebe0     +LDI R30 , LOW ( 2 * _0x40000 + ( 800 ) )
001432 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 800 ) )
                 	__POINTW1FN _0x40000,800
001433 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 01B6        #endif
                 ; 0002 01B7        return FALSE;
001435 c140      	RJMP _0x20C0020
                 ; 0002 01B8    }
                 ; 0002 01B9    #ifdef PRINT_DEBUG
                 ; 0002 01BA    if(debug){
                 _0x400BF:
001436 91e0 03af 	LDS  R30,_debug
001438 30e0      	CPI  R30,0
001439 f041      	BREQ _0x400C6
                 ; 0002 01BB    printf("\r\nReading signature: OK.");
                +
00143a ebed     +LDI R30 , LOW ( 2 * _0x40000 + ( 813 ) )
00143b e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 813 ) )
                 	__POINTW1FN _0x40000,813
00143c 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 01BC    while(tx_counter);}
                 _0x400C7:
00143e 91e0 0643 	LDS  R30,_tx_counter
001440 30e0      	CPI  R30,0
001441 f7e1      	BRNE _0x400C7
                 ; 0002 01BD    #endif
                 ; 0002 01BE    #ifdef PRINT_LCD
                 ; 0002 01BF    lcd_putsf_row(1,"Signature OK.");
                 _0x400C6:
001442 e0e1      	LDI  R30,LOW(1)
001443 93ea      	ST   -Y,R30
                +
001444 ede6     +LDI R30 , LOW ( 2 * _0x40000 + ( 838 ) )
001445 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 838 ) )
                 	__POINTW1FN _0x40000,838
001446 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 01C0    #endif
                 ; 0002 01C1    AVR910_SendRxToUart();
001448 940e 0c70 	CALL _AVR910_SendRxToUart
                 ; 0002 01C2    return TRUE;
00144a c175      	RJMP _0x20C001E
                 ; 0002 01C3 }
                 ; .FEND
                 ;void Call_Erase(void)
                 ; 0002 01C5 {
                 _Call_Erase:
                 ; .FSTART _Call_Erase
                 ; 0002 01C6    #ifdef PRINT_DEBUG
                 ; 0002 01C7    if(debug){
00144b 91e0 03af 	LDS  R30,_debug
00144d 30e0      	CPI  R30,0
00144e f041      	BREQ _0x400CA
                 ; 0002 01C8    printf("\r\nErasing please wait... ");
                +
00144f eee4     +LDI R30 , LOW ( 2 * _0x40000 + ( 852 ) )
001450 e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 852 ) )
                 	__POINTW1FN _0x40000,852
001451 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 01C9    while(tx_counter);}
                 _0x400CB:
001453 91e0 0643 	LDS  R30,_tx_counter
001455 30e0      	CPI  R30,0
001456 f7e1      	BRNE _0x400CB
                 ; 0002 01CA    #endif
                 ; 0002 01CB    #ifdef PRINT_LCD
                 ; 0002 01CC    lcd_putsf_row(1,"Erasing... ");
                 _0x400CA:
001457 e0e1      	LDI  R30,LOW(1)
001458 93ea      	ST   -Y,R30
                +
001459 efee     +LDI R30 , LOW ( 2 * _0x40000 + ( 878 ) )
00145a e0f5     +LDI R31 , HIGH ( 2 * _0x40000 + ( 878 ) )
                 	__POINTW1FN _0x40000,878
00145b 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 01CD    #endif
                 ; 0002 01CE    AVR910_Standalone("e");//chip erase
                +
00145d e4e0     +LDI R30 , LOW ( 2 * _0x40000 + ( 432 ) )
00145e e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 432 ) )
                 	__POINTW1FN _0x40000,432
00145f 940e 2fca 	CALL SUBOPT_0x4C
                 ; 0002 01CF    #ifdef PRINT_DEBUG
                 ; 0002 01D0    if(debug){
001461 91e0 03af 	LDS  R30,_debug
001463 30e0      	CPI  R30,0
001464 f041      	BREQ _0x400CE
                 ; 0002 01D1    printf("Done.");
                +
001465 e0ea     +LDI R30 , LOW ( 2 * _0x40000 + ( 890 ) )
001466 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 890 ) )
                 	__POINTW1FN _0x40000,890
001467 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 01D2    while(tx_counter);}
                 _0x400CF:
001469 91e0 0643 	LDS  R30,_tx_counter
00146b 30e0      	CPI  R30,0
00146c f7e1      	BRNE _0x400CF
                 ; 0002 01D3    #endif
                 ; 0002 01D4    #ifdef PRINT_LCD
                 ; 0002 01D5    lcd_putsf("Done");
                 _0x400CE:
                +
00146d e3ed     +LDI R30 , LOW ( 2 * _0x40000 + ( 429 ) )
00146e e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 429 ) )
                 	__POINTW1FN _0x40000,429
00146f 940e 2dc4 	CALL SUBOPT_0x2
                 ; 0002 01D6    #endif
                 ; 0002 01D7    AVR910_ResetTXData();
001471 940e 0c4d 	CALL _AVR910_ResetTXData
                 ; 0002 01D8 }
001473 9508      	RET
                 ; .FEND
                 ;UCHAR Call_SetDevType(void)
                 ; 0002 01DA {
                 _Call_SetDevType:
                 ; .FSTART _Call_SetDevType
                 ; 0002 01DB ////  chipcode -> PageSize in words
                 ; 0002 01DC ////  ['T,A(0x41)'] = SetDevType();g_DeviceCode=A=0x41,g_DevicePollCode=PageSize=0x40(word),g_DeviceType = MEGA;
                 ; 0002 01DD //   /*Set target properties from avr910device.h header*/
                 ; 0002 01DE //   AVR910_SendRxToUart();FIFO_Write('T');FIFO_Write(tmpimage.chipcode);AVR910_Command();
                 ; 0002 01DF ////    //AVR910_Standalone("TA");
                 ; 0002 01E0 //   if(g_txBuf[0]!=ACK){
                 ; 0002 01E1 //        #ifdef PRINT_DEBUG
                 ; 0002 01E2 //        if(debug){
                 ; 0002 01E3 //        printf("\r\nSetDevType FAIL");
                 ; 0002 01E4 //        while(tx_counter);}
                 ; 0002 01E5 //        #endif
                 ; 0002 01E6 //        #ifdef PRINT_LCD
                 ; 0002 01E7 //        lcd_putsf_row(1,"SetDevType FAIL");
                 ; 0002 01E8 //        #endif
                 ; 0002 01E9 //        return FALSE;
                 ; 0002 01EA //   }
                 ; 0002 01EB    g_DevicePollCode=tmpimage.pagesize;
                +
001474 91e0 03f5+LDS R30 , _tmpimage + ( 68 )
                 	__GETB1MN _tmpimage,68
001476 93e0 038b 	STS  _g_DevicePollCode,R30
                 ; 0002 01EC    //g_DeviceCode
                 ; 0002 01ED    g_DeviceType=MEGA;
001478 e0e0      	LDI  R30,LOW(0)
001479 93e0 038a 	STS  _g_DeviceType,R30
                 ; 0002 01EE    return TRUE;
00147b c144      	RJMP _0x20C001E
                 ; 0002 01EF }
                 ; .FEND
                 ;UCHAR Call_WriteProgFuses(void)
                 ; 0002 01F1 {
                 _Call_WriteProgFuses:
                 ; .FSTART _Call_WriteProgFuses
                 ; 0002 01F2    if (! programFuses(tmpimage.progfuses, tmpimage.maskfuses)){        // get fuses ready to program
00147c 940e 3026 	CALL SUBOPT_0x59
00147e 940e 3018 	CALL SUBOPT_0x56
001480 d5ca      	RCALL _programFuses
001481 30e0      	CPI  R30,0
001482 f459      	BRNE _0x400D2
                 ; 0002 01F3      error("\r\nProgram Fuses fail");
                +
001483 e1e0     +LDI R30 , LOW ( 2 * _0x40000 + ( 896 ) )
001484 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 896 ) )
                 	__POINTW1FN _0x40000,896
001485 940e 2f93 	CALL SUBOPT_0x42
                 ; 0002 01F4      #ifdef PRINT_LCD
                 ; 0002 01F5      lcd_putsf_row(1,"Prog Fuses fail");
001487 e0e1      	LDI  R30,LOW(1)
001488 93ea      	ST   -Y,R30
                +
001489 e2e5     +LDI R30 , LOW ( 2 * _0x40000 + ( 917 ) )
00148a e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 917 ) )
                 	__POINTW1FN _0x40000,917
00148b 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 01F6      #endif
                 ; 0002 01F7      return FALSE;
00148d c0e8      	RJMP _0x20C0020
                 ; 0002 01F8    }
                 ; 0002 01F9    if (! verifyFuses(tmpimage.progfuses, tmpimage.maskfuses) ) {
                 _0x400D2:
00148e 940e 3026 	CALL SUBOPT_0x59
001490 940e 3018 	CALL SUBOPT_0x56
001492 d665      	RCALL _verifyFuses
001493 30e0      	CPI  R30,0
001494 f459      	BRNE _0x400D3
                 ; 0002 01FA      error("\r\nFailed to verify fuses");
                +
001495 e3e5     +LDI R30 , LOW ( 2 * _0x40000 + ( 933 ) )
001496 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 933 ) )
                 	__POINTW1FN _0x40000,933
001497 940e 2f93 	CALL SUBOPT_0x42
                 ; 0002 01FB      #ifdef PRINT_LCD
                 ; 0002 01FC      lcd_putsf_row(1,"Check Fuses fail");
001499 e0e1      	LDI  R30,LOW(1)
00149a 93ea      	ST   -Y,R30
                +
00149b e4ee     +LDI R30 , LOW ( 2 * _0x40000 + ( 958 ) )
00149c e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 958 ) )
                 	__POINTW1FN _0x40000,958
00149d 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 01FD      #endif
                 ; 0002 01FE      return FALSE;
00149f c0d6      	RJMP _0x20C0020
                 ; 0002 01FF    }
                 ; 0002 0200    #ifdef PRINT_DEBUG
                 ; 0002 0201    if(debug){
                 _0x400D3:
0014a0 91e0 03af 	LDS  R30,_debug
0014a2 30e0      	CPI  R30,0
0014a3 f041      	BREQ _0x400D4
                 ; 0002 0202    printf("\r\nProgram Fuses Verified OK.");
                +
0014a4 e5ef     +LDI R30 , LOW ( 2 * _0x40000 + ( 975 ) )
0014a5 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 975 ) )
                 	__POINTW1FN _0x40000,975
0014a6 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0203    while(tx_counter);}
                 _0x400D5:
0014a8 91e0 0643 	LDS  R30,_tx_counter
0014aa 30e0      	CPI  R30,0
0014ab f7e1      	BRNE _0x400D5
                 ; 0002 0204    #endif
                 ; 0002 0205    return TRUE;
                 _0x400D4:
0014ac c113      	RJMP _0x20C001E
                 ; 0002 0206 }
                 ; .FEND
                 ;UCHAR Call_WriteFlash(void)
                 ; 0002 0208 {
                 _Call_WriteFlash:
                 ; .FSTART _Call_WriteFlash
                 ; 0002 0209 //here g_DeviceCode=chipcode, g_DevicePollCode=PageSize in words, g_DeviceType = MEGA
                 ; 0002 020A //['A',0x10,0x00]=SetAddr(); g_Addr=0x1000;
                 ; 0002 020B     /*Set g_Addr=0 start address for BlockMode*/
                 ; 0002 020C     AVR910_SendRxToUart();FIFO_Write('A');FIFO_Write(0);FIFO_Write(0);AVR910_Command();
0014ad 940e 0c70 	CALL _AVR910_SendRxToUart
0014af e4e1      	LDI  R30,LOW(65)
0014b0 93ea      	ST   -Y,R30
0014b1 940e 106e 	CALL _FIFO_Write
0014b3 e0e0      	LDI  R30,LOW(0)
0014b4 93ea      	ST   -Y,R30
0014b5 940e 106e 	CALL _FIFO_Write
0014b7 e0e0      	LDI  R30,LOW(0)
0014b8 940e 303c 	CALL SUBOPT_0x5D
                 ; 0002 020D     if(g_txBuf[0]!=ACK){
0014ba 91a0 0300 	LDS  R26,_g_txBuf
0014bc 30ad      	CPI  R26,LOW(0xD)
0014bd f069      	BREQ _0x400D8
                 ; 0002 020E         #ifdef PRINT_DEBUG
                 ; 0002 020F         if(debug){
0014be 91e0 03af 	LDS  R30,_debug
0014c0 30e0      	CPI  R30,0
0014c1 f041      	BREQ _0x400D9
                 ; 0002 0210         printf("\r\nSetAddr FAIL");
                +
0014c2 e7ec     +LDI R30 , LOW ( 2 * _0x40000 + ( 1004 ) )
0014c3 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1004 ) )
                 	__POINTW1FN _0x40000,1004
0014c4 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0211         while(tx_counter);}
                 _0x400DA:
0014c6 91e0 0643 	LDS  R30,_tx_counter
0014c8 30e0      	CPI  R30,0
0014c9 f7e1      	BRNE _0x400DA
                 ; 0002 0212         #endif
                 ; 0002 0213         return FALSE;
                 _0x400D9:
0014ca c0ab      	RJMP _0x20C0020
                 ; 0002 0214     }
                 ; 0002 0215    //here g_Addr=0;
                 ; 0002 0216     //['B',0x00,0x80,'F'] WriteBlockCommand();g_BlockMode=TRUE;g_Operation=OPERATION_WRITE;g_BlockSize=0x0080;g_WordCoun ...
                 ; 0002 0217     AVR910_SendRxToUart();//clear uart
                 _0x400D8:
0014cb 940e 0c70 	CALL _AVR910_SendRxToUart
                 ; 0002 0218   /*Set BlockMode chip size in bytes and type of memory Flash F or Eeprom E*/
                 ; 0002 0219     FIFO_Write('B');FIFO_Write(tmpimage.chipsize>>16);FIFO_Write(tmpimage.chipsize>>8);FIFO_Write(tmpimage.chipsize&0xFF ...
0014cd e4e2      	LDI  R30,LOW(66)
0014ce 93ea      	ST   -Y,R30
0014cf 940e 106e 	CALL _FIFO_Write
0014d1 940e 2fab 	CALL SUBOPT_0x47
0014d3 940e 3493 	CALL __LSRD16
0014d5 93ea      	ST   -Y,R30
0014d6 940e 106e 	CALL _FIFO_Write
                +
0014d8 91a0 03f1+LDS R26 , _tmpimage + ( 64 )
0014da 91b0 03f2+LDS R27 , _tmpimage + ( 64 ) + 1
0014dc 9180 03f3+LDS R24 , _tmpimage + ( 64 ) + 2
0014de 9190 03f4+LDS R25 , _tmpimage + ( 64 ) + 3
                 	__GETD2MN _tmpimage,64
0014e0 e0e8      	LDI  R30,LOW(8)
0014e1 940e 3469 	CALL __LSRD12
0014e3 93ea      	ST   -Y,R30
0014e4 940e 106e 	CALL _FIFO_Write
                +
0014e6 91e0 03f1+LDS R30 , _tmpimage + ( 64 )
                 	__GETB1MN _tmpimage,64
0014e8 93ea      	ST   -Y,R30
0014e9 940e 106e 	CALL _FIFO_Write
0014eb e4e6      	LDI  R30,LOW(70)
0014ec 940e 303c 	CALL SUBOPT_0x5D
                 ; 0002 021A     //AVR910_Command();
                 ; 0002 021B   //here should be g_BlockSize(words)=chipsize/2, g_MemType='F'=flash, g_BlockMode=TRUE, g_Operation=Write, g_WordCount= ...
                 ; 0002 021C   //do while pageaddr in bytes less than chipsize in bytes
                 ; 0002 021D     #ifdef PRINT_DEBUG
                 ; 0002 021E     if(debug){
0014ee 91e0 03af 	LDS  R30,_debug
0014f0 30e0      	CPI  R30,0
0014f1 f061      	BREQ _0x400DD
                 ; 0002 021F     while(tx_counter);
                 _0x400DE:
0014f2 91e0 0643 	LDS  R30,_tx_counter
0014f4 30e0      	CPI  R30,0
0014f5 f7e1      	BRNE _0x400DE
                 ; 0002 0220     printf("\r\nWriting flash...");
                +
0014f6 e8eb     +LDI R30 , LOW ( 2 * _0x40000 + ( 1019 ) )
0014f7 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1019 ) )
                 	__POINTW1FN _0x40000,1019
0014f8 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0221     while(tx_counter);}
                 _0x400E1:
0014fa 91e0 0643 	LDS  R30,_tx_counter
0014fc 30e0      	CPI  R30,0
0014fd f7e1      	BRNE _0x400E1
                 ; 0002 0222     #endif
                 ; 0002 0223     #ifdef PRINT_LCD
                 ; 0002 0224     lcd_putsf_row(1,"Writing flash...");
                 _0x400DD:
0014fe e0e1      	LDI  R30,LOW(1)
0014ff 93ea      	ST   -Y,R30
                +
001500 e8ed     +LDI R30 , LOW ( 2 * _0x40000 + ( 1021 ) )
001501 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1021 ) )
                 	__POINTW1FN _0x40000,1021
001502 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 0225     //lcd_putsf_row(1,"Writing 0 %");
                 ; 0002 0226     #endif
                 ; 0002 0227     if(fileOpen()==0)
001504 940e 1e3e 	CALL _fileOpen
001506 30e0      	CPI  R30,0
001507 f409      	BRNE _0x400E4
                 ; 0002 0228         return FALSE;
001508 c06d      	RJMP _0x20C0020
                 ; 0002 0229     #ifdef PRINT_DEBUG
                 ; 0002 022A     if(debug){
                 _0x400E4:
001509 91e0 03af 	LDS  R30,_debug
00150b 30e0      	CPI  R30,0
00150c f061      	BREQ _0x400E5
                 ; 0002 022B     while(tx_counter);
                 _0x400E6:
00150d 91e0 0643 	LDS  R30,_tx_counter
00150f 30e0      	CPI  R30,0
001510 f7e1      	BRNE _0x400E6
                 ; 0002 022C     printf("\r\nAfter fileOpen\r\n");
                +
001511 e9ee     +LDI R30 , LOW ( 2 * _0x40000 + ( 1038 ) )
001512 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1038 ) )
                 	__POINTW1FN _0x40000,1038
001513 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 022D     while(tx_counter);}
                 _0x400E9:
001515 91e0 0643 	LDS  R30,_tx_counter
001517 30e0      	CPI  R30,0
001518 f7e1      	BRNE _0x400E9
                 ; 0002 022E     #endif
                 ; 0002 022F     if(SetFlashArea()==0)
                 _0x400E5:
001519 940e 1e9c 	CALL _SetFlashArea
00151b 30e0      	CPI  R30,0
00151c f409      	BRNE _0x400EC
                 ; 0002 0230         return FALSE;
00151d c058      	RJMP _0x20C0020
                 ; 0002 0231     #ifdef PRINT_DEBUG
                 ; 0002 0232     if(debug){
                 _0x400EC:
00151e 91e0 03af 	LDS  R30,_debug
001520 30e0      	CPI  R30,0
001521 f061      	BREQ _0x400ED
                 ; 0002 0233     while(tx_counter);
                 _0x400EE:
001522 91e0 0643 	LDS  R30,_tx_counter
001524 30e0      	CPI  R30,0
001525 f7e1      	BRNE _0x400EE
                 ; 0002 0234     printf("\r\nAfter set adr 1000\r\n");
                +
001526 ebe1     +LDI R30 , LOW ( 2 * _0x40000 + ( 1057 ) )
001527 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1057 ) )
                 	__POINTW1FN _0x40000,1057
001528 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0235     while(tx_counter);}
                 _0x400F1:
00152a 91e0 0643 	LDS  R30,_tx_counter
00152c 30e0      	CPI  R30,0
00152d f7e1      	BRNE _0x400F1
                 ; 0002 0236     #endif
                 ; 0002 0237     if(fileRead()==0)
                 _0x400ED:
00152e 940e 1eb4 	CALL _fileRead
001530 30e0      	CPI  R30,0
001531 f409      	BRNE _0x400F4
                 ; 0002 0238         return FALSE;
001532 c043      	RJMP _0x20C0020
                 ; 0002 0239     while (pageaddr < tmpimage.chipsize) {
                 _0x400F4:
                 _0x400F5:
001533 940e 2fab 	CALL SUBOPT_0x47
001535 940e 3041 	CALL SUBOPT_0x5E
001537 940e 358b 	CALL __CPD21
001539 f008      	BRLO PC+2
00153a c077      	RJMP _0x400F7
                 ; 0002 023A      //puts("\r\nBuffering page "); puthexchars(pageaddr);
                 ; 0002 023B  //hextextpos = readImagePage (hextext, pageaddr, pagesize, pageBuffer);
                 ; 0002 023C 
                 ; 0002 023D      if(readImagePageSD (pageaddr, tmpimage.pagesize, pageBuffer)==0){
00153b 91e0 06f5 	LDS  R30,_pageaddr
00153d 91f0 06f6 	LDS  R31,_pageaddr+1
00153f 9160 06f7 	LDS  R22,_pageaddr+2
001541 9170 06f8 	LDS  R23,_pageaddr+3
001543 940e 3530 	CALL __PUTPARD1
001545 940e 304a 	CALL SUBOPT_0x5F
001547 93fa      	ST   -Y,R31
001548 93ea      	ST   -Y,R30
001549 efe9      	LDI  R30,LOW(_pageBuffer)
00154a e0f6      	LDI  R31,HIGH(_pageBuffer)
00154b 93fa      	ST   -Y,R31
00154c 93ea      	ST   -Y,R30
00154d d1d6      	RCALL _readImagePageSD
00154e 30e0      	CPI  R30,0
00154f f469      	BRNE _0x400F8
                 ; 0002 023E        #ifdef PRINT_DEBUG
                 ; 0002 023F        if(debug){
001550 91e0 03af 	LDS  R30,_debug
001552 30e0      	CPI  R30,0
001553 f041      	BREQ _0x400F9
                 ; 0002 0240        printf("\r\nFlash programming failed");
                +
001554 ece8     +LDI R30 , LOW ( 2 * _0x40000 + ( 1080 ) )
001555 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1080 ) )
                 	__POINTW1FN _0x40000,1080
001556 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0241        while(tx_counter);}
                 _0x400FA:
001558 91e0 0643 	LDS  R30,_tx_counter
00155a 30e0      	CPI  R30,0
00155b f7e1      	BRNE _0x400FA
                 ; 0002 0242        #endif
                 ; 0002 0243        #ifndef BOOTEEPROM
                 ; 0002 0244        fileClose();
                 _0x400F9:
00155c c017      	RJMP _0x20C001F
                 ; 0002 0245        #endif
                 ; 0002 0246        return FALSE;
                 ; 0002 0247      }
                 ; 0002 0248      #ifdef DEBUG_PROTEUS
                 ; 0002 0249         #ifdef PRINT_DEBUG
                 ; 0002 024A         if(debug){
                 ; 0002 024B         while(tx_counter);
                 ; 0002 024C         printf("\r\nPage addr=%ul",pageaddr);
                 ; 0002 024D         while(tx_counter);}
                 ; 0002 024E         #endif
                 ; 0002 024F      #endif
                 ; 0002 0250      if (FALSE == blankpage) {//if there data to write the all page buffer to flash
                 _0x400F8:
00155d 99f3      	SBIC 0x1E,3
00155e c01a      	RJMP _0x400FD
                 ; 0002 0251             if (! flashPage(pageBuffer, tmpimage.pagesize)){//
00155f efe9      	LDI  R30,LOW(_pageBuffer)
001560 e0f6      	LDI  R31,HIGH(_pageBuffer)
001561 940e 2fb7 	CALL SUBOPT_0x49
001563 93fa      	ST   -Y,R31
001564 93ea      	ST   -Y,R30
001565 d30e      	RCALL _flashPage
001566 30e0      	CPI  R30,0
001567 f481      	BRNE _0x400FE
                 ; 0002 0252                 #ifdef PRINT_DEBUG
                 ; 0002 0253                 if(debug){
001568 91e0 03af 	LDS  R30,_debug
00156a 30e0      	CPI  R30,0
00156b f041      	BREQ _0x400FF
                 ; 0002 0254                 printf("\r\nFlash programming failed");
                +
00156c ece8     +LDI R30 , LOW ( 2 * _0x40000 + ( 1080 ) )
00156d e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1080 ) )
                 	__POINTW1FN _0x40000,1080
00156e 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0255                 while(tx_counter);}
                 _0x40100:
001570 91e0 0643 	LDS  R30,_tx_counter
001572 30e0      	CPI  R30,0
001573 f7e1      	BRNE _0x40100
                 ; 0002 0256                 #endif
                 ; 0002 0257                 #ifndef BOOTEEPROM
                 ; 0002 0258                 fileClose();
                 _0x400FF:
                 _0x20C001F:
001574 940e 1eed 	CALL _fileClose
                 ; 0002 0259                 #endif
                 ; 0002 025A                 return FALSE;
                 _0x20C0020:
001576 e0e0      	LDI  R30,LOW(0)
001577 9508      	RET
                 ; 0002 025B        }
                 ; 0002 025C      }
                 _0x400FE:
                 ; 0002 025D      else{//if no data to write, just increment the address in words by pagesize in words, and decrement remain g_BlockS ...
001578 c028      	RJMP _0x40103
                 _0x400FD:
                 ; 0002 025E         g_Addr = (pageaddr+tmpimage.pagesize)/2;
001579 940e 304a 	CALL SUBOPT_0x5F
00157b 940e 3041 	CALL SUBOPT_0x5E
00157d 2766      	CLR  R22
00157e 2777      	CLR  R23
00157f 940e 3427 	CALL __ADDD21
001581 01fd      	MOVW R30,R26
001582 01bc      	MOVW R22,R24
001583 940e 348e 	CALL __LSRD1
001585 93e0 0382 	STS  _g_Addr,R30
001587 93f0 0383 	STS  _g_Addr+1,R31
                 ; 0002 025F         g_BlockSize-=(tmpimage.pagesize/2);
001589 940e 304a 	CALL SUBOPT_0x5F
00158b 95f6      	LSR  R31
00158c 95e7      	ROR  R30
00158d 91a0 0384 	LDS  R26,_g_BlockSize
00158f 91b0 0385 	LDS  R27,_g_BlockSize+1
001591 9180 0386 	LDS  R24,_g_BlockSize+2
001593 9190 0387 	LDS  R25,_g_BlockSize+3
001595 2766      	CLR  R22
001596 2777      	CLR  R23
001597 940e 3431 	CALL __SUBD21
001599 93a0 0384 	STS  _g_BlockSize,R26
00159b 93b0 0385 	STS  _g_BlockSize+1,R27
00159d 9380 0386 	STS  _g_BlockSize+2,R24
00159f 9390 0387 	STS  _g_BlockSize+3,R25
                 ; 0002 0260      }
                 _0x40103:
                 ; 0002 0261      if(EndOfFile)
0015a1 99f2      	SBIC 0x1E,2
                 ; 0002 0262         break;
0015a2 c00f      	RJMP _0x400F7
                 ; 0002 0263      pageaddr += tmpimage.pagesize;//increment the address in bytes by pagesize in bytes
0015a3 940e 304a 	CALL SUBOPT_0x5F
0015a5 940e 3041 	CALL SUBOPT_0x5E
0015a7 940e 304f 	CALL SUBOPT_0x60
0015a9 93e0 06f5 	STS  _pageaddr,R30
0015ab 93f0 06f6 	STS  _pageaddr+1,R31
0015ad 9360 06f7 	STS  _pageaddr+2,R22
0015af 9370 06f8 	STS  _pageaddr+3,R23
                 ; 0002 0264 
                 ; 0002 0265 //     #ifdef PRINT_LCD
                 ; 0002 0266 //     lcd_gotoxy(8,1);
                 ; 0002 0267 //     itoa((int)((float)((float)pageaddr/(float)tmpimage.chipsize)*100),&temptext[0]);
                 ; 0002 0268 //     //strcatf(temptext,"%");
                 ; 0002 0269 //     lcd_puts(temptext);
                 ; 0002 026A //     #endif
                 ; 0002 026B     }
0015b1 cf81      	RJMP _0x400F5
                 _0x400F7:
                 ; 0002 026C     #ifdef PRINT_DEBUG
                 ; 0002 026D     if(debug){
0015b2 91e0 03af 	LDS  R30,_debug
0015b4 30e0      	CPI  R30,0
0015b5 f041      	BREQ _0x40105
                 ; 0002 026E     printf(" Done.");
                +
0015b6 eee3     +LDI R30 , LOW ( 2 * _0x40000 + ( 1107 ) )
0015b7 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1107 ) )
                 	__POINTW1FN _0x40000,1107
0015b8 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 026F     while(tx_counter);}
                 _0x40106:
0015ba 91e0 0643 	LDS  R30,_tx_counter
0015bc 30e0      	CPI  R30,0
0015bd f7e1      	BRNE _0x40106
                 ; 0002 0270     #endif
                 ; 0002 0271     #ifndef BOOTEEPROM
                 ; 0002 0272     fileClose();
                 _0x40105:
0015be 940e 1eed 	CALL _fileClose
                 ; 0002 0273     #endif
                 ; 0002 0274     return TRUE;
                 _0x20C001E:
0015c0 e0e1      	LDI  R30,LOW(1)
0015c1 9508      	RET
                 ; 0002 0275 }
                 ; .FEND
                 ;UCHAR Call_ResetChip(void)
                 ; 0002 0277 {
                 _Call_ResetChip:
                 ; .FSTART _Call_ResetChip
                 ; 0002 0278    AVR910_ResetTXData();
0015c2 940e 0c4d 	CALL _AVR910_ResetTXData
                 ; 0002 0279    AVR910_Standalone("L");//end_pmode();
                +
0015c4 e2ec     +LDI R30 , LOW ( 2 * _0x40000 + ( 412 ) )
0015c5 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 412 ) )
                 	__POINTW1FN _0x40000,412
0015c6 940e 2fca 	CALL SUBOPT_0x4C
                 ; 0002 027A    return Call_EnterProgMode();
0015c8 dc4b      	RCALL _Call_EnterProgMode
0015c9 9508      	RET
                 ; 0002 027B }
                 ; .FEND
                 ;/*Main function for standalone AVR ISP proccess*/
                 ;void StandalonProg(void)
                 ; 0002 027E {
                 _StandalonProg:
                 ; .FSTART _StandalonProg
                 ; 0002 027F     //char tmpstr[3];
                 ; 0002 0280     StandaloneMode=RUNNING;
0015ca e0e3      	LDI  R30,LOW(3)
0015cb 93e0 03ae 	STS  _StandaloneMode,R30
                 ; 0002 0281     #ifdef PRINT_DEBUG
                 ; 0002 0282     if(debug){
0015cd 91e0 03af 	LDS  R30,_debug
0015cf 30e0      	CPI  R30,0
0015d0 f041      	BREQ _0x40109
                 ; 0002 0283     printf("\r\nStart flashing from SDcard...\r\n");
                +
0015d1 eeea     +LDI R30 , LOW ( 2 * _0x40000 + ( 1114 ) )
0015d2 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1114 ) )
                 	__POINTW1FN _0x40000,1114
0015d3 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0284     while(tx_counter);}
                 _0x4010A:
0015d5 91e0 0643 	LDS  R30,_tx_counter
0015d7 30e0      	CPI  R30,0
0015d8 f7e1      	BRNE _0x4010A
                 ; 0002 0285     #endif
                 ; 0002 0286     LED_PASS_OFF();
                 _0x40109:
0015d9 9a29      	SBI  0x5,1
                 ; 0002 0287     //if(Call_GetDir()==FALSE)
                 ; 0002 0288     //     goto end_prog;
                 ; 0002 0289     if(tmpimage.ProgCounterTotal<=myimage[dirnum].ProgCounterDone){
0015da 940e 2fbe 	CALL SUBOPT_0x4A
0015dc 940e 2fc4 	CALL SUBOPT_0x4B
                +
0015de 91a0 03f9+LDS R26 , _tmpimage + ( 72 )
0015e0 91b0 03fa+LDS R27 , _tmpimage + ( 72 ) + 1
                 	__GETW2MN _tmpimage,72
0015e2 940e 3054 	CALL SUBOPT_0x61
0015e4 f0d8      	BRLO _0x4010F
                 ; 0002 028A         #ifdef PRINT_DEBUG
                 ; 0002 028B         if(debug){
0015e5 91e0 03af 	LDS  R30,_debug
0015e7 30e0      	CPI  R30,0
0015e8 f081      	BREQ _0x40110
                 ; 0002 028C         printf("\r\nLicenses Total = %lu - Done = %lu",tmpimage.ProgCounterTotal,myimage[dirnum].ProgCounterDone);
                +
0015e9 e0ec     +LDI R30 , LOW ( 2 * _0x40000 + ( 1148 ) )
0015ea e0f7     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1148 ) )
                 	__POINTW1FN _0x40000,1148
0015eb 93fa      	ST   -Y,R31
0015ec 93ea      	ST   -Y,R30
0015ed 940e 2e70 	CALL SUBOPT_0x1C
0015ef 940e 2fbe 	CALL SUBOPT_0x4A
0015f1 940e 2fc4 	CALL SUBOPT_0x4B
0015f3 940e 3059 	CALL SUBOPT_0x62
                 ; 0002 028D         while(tx_counter);}
                 _0x40111:
0015f5 91e0 0643 	LDS  R30,_tx_counter
0015f7 30e0      	CPI  R30,0
0015f8 f7e1      	BRNE _0x40111
                 ; 0002 028E         #endif
                 ; 0002 028F         #ifdef PRINT_LCD
                 ; 0002 0290         lcd_putsf_row(1,"No licenses");
                 _0x40110:
0015f9 e0e1      	LDI  R30,LOW(1)
0015fa 93ea      	ST   -Y,R30
                +
0015fb e3e0     +LDI R30 , LOW ( 2 * _0x40000 + ( 1184 ) )
0015fc e0f7     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1184 ) )
                 	__POINTW1FN _0x40000,1184
0015fd 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 0291         #endif
                 ; 0002 0292         goto end_prog;
0015ff c096      	RJMP _0x40114
                 ; 0002 0293     }
                 ; 0002 0294     /*Reset flash programminig global variables*/
                 ; 0002 0295     ResetGlobals();
                 _0x4010F:
001600 dde3      	RCALL _ResetGlobals
                 ; 0002 0296     #ifndef DEBUG_PROTEUS
                 ; 0002 0297     if(Call_EnterProgMode()==FALSE)
001601 dc12      	RCALL _Call_EnterProgMode
001602 30e0      	CPI  R30,0
001603 f409      	BRNE _0x40115
                 ; 0002 0298        goto end_prog;
001604 c091      	RJMP _0x40114
                 ; 0002 0299     if(Call_ReadSignature()==FALSE)
                 _0x40115:
001605 ddf7      	RCALL _Call_ReadSignature
001606 30e0      	CPI  R30,0
001607 f409      	BRNE _0x40116
                 ; 0002 029A        goto end_prog;
001608 c08d      	RJMP _0x40114
                 ; 0002 029B     Call_Erase();
                 _0x40116:
001609 de41      	RCALL _Call_Erase
                 ; 0002 029C     if(Call_WriteProgFuses()==FALSE)
00160a de71      	RCALL _Call_WriteProgFuses
00160b 30e0      	CPI  R30,0
00160c f409      	BRNE _0x40117
                 ; 0002 029D        goto end_prog;
00160d c088      	RJMP _0x40114
                 ; 0002 029E     if(Call_ResetChip()==FALSE)
                 _0x40117:
00160e dfb3      	RCALL _Call_ResetChip
00160f 30e0      	CPI  R30,0
001610 f409      	BRNE _0x40118
                 ; 0002 029F        goto end_prog;
001611 c084      	RJMP _0x40114
                 ; 0002 02A0     #endif
                 ; 0002 02A1     if(Call_SetDevType()==FALSE)
                 _0x40118:
001612 de61      	RCALL _Call_SetDevType
001613 30e0      	CPI  R30,0
001614 f409      	BRNE _0x40119
                 ; 0002 02A2        goto end_prog;
001615 c080      	RJMP _0x40114
                 ; 0002 02A3     if(Call_WriteFlash()==FALSE)
                 _0x40119:
001616 de96      	RCALL _Call_WriteFlash
001617 30e0      	CPI  R30,0
001618 f409      	BRNE _0x4011A
                 ; 0002 02A4        goto end_prog;
001619 c07c      	RJMP _0x40114
                 ; 0002 02A5 
                 ; 0002 02A6 verify:
                 _0x4011A:
                 _0x4011B:
                 ; 0002 02A7     ResetGlobals();
00161a ddc9      	RCALL _ResetGlobals
                 ; 0002 02A8     if(Call_ResetChip()==FALSE)
00161b dfa6      	RCALL _Call_ResetChip
00161c 30e0      	CPI  R30,0
00161d f409      	BRNE _0x4011C
                 ; 0002 02A9        goto end_prog;
00161e c077      	RJMP _0x40114
                 ; 0002 02AA     #ifdef PRINT_DEBUG
                 ; 0002 02AB     if(debug){
                 _0x4011C:
00161f 91e0 03af 	LDS  R30,_debug
001621 30e0      	CPI  R30,0
001622 f041      	BREQ _0x4011D
                 ; 0002 02AC     printf("\r\nVerifing flash...");
                +
001623 e3ec     +LDI R30 , LOW ( 2 * _0x40000 + ( 1196 ) )
001624 e0f7     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1196 ) )
                 	__POINTW1FN _0x40000,1196
001625 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 02AD     while(tx_counter);}
                 _0x4011E:
001627 91e0 0643 	LDS  R30,_tx_counter
001629 30e0      	CPI  R30,0
00162a f7e1      	BRNE _0x4011E
                 ; 0002 02AE     #endif
                 ; 0002 02AF     #ifndef BOOTEEPROM
                 ; 0002 02B0     if(fileOpen()==0)//sdcard version
                 _0x4011D:
00162b 940e 1e3e 	CALL _fileOpen
00162d 30e0      	CPI  R30,0
00162e f409      	BRNE _0x40121
                 ; 0002 02B1         goto end_prog;
00162f c066      	RJMP _0x40114
                 ; 0002 02B2     if(SetFlashArea()==0)
                 _0x40121:
001630 940e 1e9c 	CALL _SetFlashArea
001632 30e0      	CPI  R30,0
001633 f409      	BRNE _0x40122
                 ; 0002 02B3         goto end_prog;
001634 c061      	RJMP _0x40114
                 ; 0002 02B4     if(fileRead()==0)
                 _0x40122:
001635 940e 1eb4 	CALL _fileRead
001637 30e0      	CPI  R30,0
001638 f409      	BRNE _0x40123
                 ; 0002 02B5         goto end_prog;
001639 c05c      	RJMP _0x40114
                 ; 0002 02B6     #else
                 ; 0002 02B7     hextext=(flash UCHAR *)myimage.FlashStartAddrByte; //boot flash from eeprom version
                 ; 0002 02B8     #endif
                 ; 0002 02B9     if (! verifyImageSD() ) {
                 _0x40123:
00163a d268      	RCALL _verifyImageSD
00163b 30e0      	CPI  R30,0
00163c f4a1      	BRNE _0x40124
                 ; 0002 02BA         error("\r\nFailed to verify chip");
                +
00163d e5e0     +LDI R30 , LOW ( 2 * _0x40000 + ( 1216 ) )
00163e e0f7     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1216 ) )
                 	__POINTW1FN _0x40000,1216
00163f 940e 2f93 	CALL SUBOPT_0x42
                 ; 0002 02BB     #ifndef BOOTEEPROM
                 ; 0002 02BC         fileClose();
001641 940e 1eed 	CALL _fileClose
                 ; 0002 02BD     #endif
                 ; 0002 02BE         if((tmpimage.spidiv<<=1)!=0)
                +
001643 91e0 040e+LDS R30 , _tmpimage + ( 93 )
                 	__GETB1MN _tmpimage,93
001645 0fee      	LSL  R30
                +
001646 93e0 040e+STS _tmpimage + ( 93 ) , R30
                 	__PUTB1MN _tmpimage,93
001648 30e0      	CPI  R30,0
001649 f681      	BRNE _0x4011B
                 ; 0002 02BF             goto verify;
                 ; 0002 02C0         #ifdef PRINT_LCD
                 ; 0002 02C1         lcd_putsf_row(1,"Failed to verify");
00164a e0e1      	LDI  R30,LOW(1)
00164b 93ea      	ST   -Y,R30
                +
00164c e6e8     +LDI R30 , LOW ( 2 * _0x40000 + ( 1240 ) )
00164d e0f7     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1240 ) )
                 	__POINTW1FN _0x40000,1240
00164e 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 02C2         #endif
                 ; 0002 02C3         goto end_prog;
001650 c045      	RJMP _0x40114
                 ; 0002 02C4     } else {
                 _0x40124:
                 ; 0002 02C5     #ifdef PRINT_DEBUG
                 ; 0002 02C6     if(debug){
001651 91e0 03af 	LDS  R30,_debug
001653 30e0      	CPI  R30,0
001654 f041      	BREQ _0x40127
                 ; 0002 02C7     printf("Done.\r\nFlash verified correctly !!!");
                +
001655 e7e9     +LDI R30 , LOW ( 2 * _0x40000 + ( 1257 ) )
001656 e0f7     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1257 ) )
                 	__POINTW1FN _0x40000,1257
001657 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 02C8     while(tx_counter);}
                 _0x40128:
001659 91e0 0643 	LDS  R30,_tx_counter
00165b 30e0      	CPI  R30,0
00165c f7e1      	BRNE _0x40128
                 ; 0002 02C9     #endif
                 ; 0002 02CA     #ifndef BOOTEEPROM
                 ; 0002 02CB     fileClose();
                 _0x40127:
00165d 940e 1eed 	CALL _fileClose
                 ; 0002 02CC     #endif
                 ; 0002 02CD     }
                 ; 0002 02CE     // Set fuses to 'final' state
                 ; 0002 02CF     if (! programFuses(tmpimage.normfuses, tmpimage.maskfuses)){
00165f 940e 3021 	CALL SUBOPT_0x58
001661 940e 3018 	CALL SUBOPT_0x56
001663 d3e7      	RCALL _programFuses
001664 30e0      	CPI  R30,0
001665 f429      	BRNE _0x4012B
                 ; 0002 02D0         error("\r\nNormal Fuses fail");
                +
001666 e9ed     +LDI R30 , LOW ( 2 * _0x40000 + ( 1293 ) )
001667 e0f7     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1293 ) )
                 	__POINTW1FN _0x40000,1293
001668 940e 2f93 	CALL SUBOPT_0x42
                 ; 0002 02D1         goto end_prog;
00166a c02b      	RJMP _0x40114
                 ; 0002 02D2     }
                 ; 0002 02D3     #ifdef PRINT_DEBUG
                 ; 0002 02D4     if(debug){
                 _0x4012B:
00166b 91e0 03af 	LDS  R30,_debug
00166d 30e0      	CPI  R30,0
00166e f041      	BREQ _0x4012C
                 ; 0002 02D5     printf("\r\nNormal fuses writing done.");
                +
00166f ebe1     +LDI R30 , LOW ( 2 * _0x40000 + ( 1313 ) )
001670 e0f7     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1313 ) )
                 	__POINTW1FN _0x40000,1313
001671 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 02D6     while(tx_counter);}
                 _0x4012D:
001673 91e0 0643 	LDS  R30,_tx_counter
001675 30e0      	CPI  R30,0
001676 f7e1      	BRNE _0x4012D
                 ; 0002 02D7     #endif
                 ; 0002 02D8     if(Call_ResetChip()==FALSE)
                 _0x4012C:
001677 df4a      	RCALL _Call_ResetChip
001678 30e0      	CPI  R30,0
001679 f0e1      	BREQ _0x40114
                 ; 0002 02D9        goto end_prog;
                 ; 0002 02DA     if (! verifyFuses(tmpimage.normfuses, tmpimage.maskfuses) ) {
00167a 940e 3021 	CALL SUBOPT_0x58
00167c 940e 3018 	CALL SUBOPT_0x56
00167e d479      	RCALL _verifyFuses
00167f 30e0      	CPI  R30,0
001680 f429      	BRNE _0x40131
                 ; 0002 02DB         error("\r\nFailed to verify fuses");
                +
001681 e3e5     +LDI R30 , LOW ( 2 * _0x40000 + ( 933 ) )
001682 e0f6     +LDI R31 , HIGH ( 2 * _0x40000 + ( 933 ) )
                 	__POINTW1FN _0x40000,933
001683 940e 2f93 	CALL SUBOPT_0x42
                 ; 0002 02DC         goto end_prog;
001685 c010      	RJMP _0x40114
                 ; 0002 02DD     }
                 ; 0002 02DE     #ifdef PRINT_DEBUG
                 ; 0002 02DF     if(debug){
                 _0x40131:
001686 91e0 03af 	LDS  R30,_debug
001688 30e0      	CPI  R30,0
001689 f041      	BREQ _0x40132
                 ; 0002 02E0     printf("\r\nNormal fuses verified correctly !!!");
                +
00168a ecee     +LDI R30 , LOW ( 2 * _0x40000 + ( 1342 ) )
00168b e0f7     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1342 ) )
                 	__POINTW1FN _0x40000,1342
00168c 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 02E1     while(tx_counter);}
                 _0x40133:
00168e 91e0 0643 	LDS  R30,_tx_counter
001690 30e0      	CPI  R30,0
001691 f7e1      	BRNE _0x40133
                 ; 0002 02E2     #endif
                 ; 0002 02E3     StandaloneMode=PASS;
                 _0x40132:
001692 e0e1      	LDI  R30,LOW(1)
001693 93e0 03ae 	STS  _StandaloneMode,R30
                 ; 0002 02E4     LED_PASS_ON();
001695 9829      	CBI  0x5,1
                 ; 0002 02E5 end_prog:
                 _0x40114:
                 ; 0002 02E6     AVR910_ResetTXData();
001696 940e 0c4d 	CALL _AVR910_ResetTXData
                 ; 0002 02E7     #ifdef PRINT_DEBUG
                 ; 0002 02E8     if(debug){
001698 91e0 03af 	LDS  R30,_debug
00169a 30e0      	CPI  R30,0
00169b f041      	BREQ _0x40138
                 ; 0002 02E9     printf("\r\nLeaving programming mode... ");
                +
00169c efe4     +LDI R30 , LOW ( 2 * _0x40000 + ( 1380 ) )
00169d e0f7     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1380 ) )
                 	__POINTW1FN _0x40000,1380
00169e 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 02EA     while(tx_counter);}
                 _0x40139:
0016a0 91e0 0643 	LDS  R30,_tx_counter
0016a2 30e0      	CPI  R30,0
0016a3 f7e1      	BRNE _0x40139
                 ; 0002 02EB     #endif
                 ; 0002 02EC     AVR910_Standalone("L");
                 _0x40138:
                +
0016a4 e2ec     +LDI R30 , LOW ( 2 * _0x40000 + ( 412 ) )
0016a5 e0f4     +LDI R31 , HIGH ( 2 * _0x40000 + ( 412 ) )
                 	__POINTW1FN _0x40000,412
0016a6 940e 2fca 	CALL SUBOPT_0x4C
                 ; 0002 02ED     #ifdef PRINT_DEBUG
                 ; 0002 02EE     if(debug){
0016a8 91e0 03af 	LDS  R30,_debug
0016aa 30e0      	CPI  R30,0
0016ab f041      	BREQ _0x4013C
                 ; 0002 02EF     printf(" OK.\n");
                +
0016ac e1e3     +LDI R30 , LOW ( 2 * _0x40000 + ( 1411 ) )
0016ad e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1411 ) )
                 	__POINTW1FN _0x40000,1411
0016ae 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 02F0     while(tx_counter);}
                 _0x4013D:
0016b0 91e0 0643 	LDS  R30,_tx_counter
0016b2 30e0      	CPI  R30,0
0016b3 f7e1      	BRNE _0x4013D
                 ; 0002 02F1     #endif
                 ; 0002 02F2     tmpimage.ProgCounterDone = myimage[dirnum].ProgCounterDone;
                 _0x4013C:
0016b4 940e 2fbe 	CALL SUBOPT_0x4A
0016b6 940e 2fff 	CALL SUBOPT_0x53
                 ; 0002 02F3     if(StandaloneMode!=PASS){
0016b8 91a0 03ae 	LDS  R26,_StandaloneMode
0016ba 30a1      	CPI  R26,LOW(0x1)
0016bb f199      	BREQ _0x40140
                 ; 0002 02F4         if(StandaloneMode!=SDFAIL){
0016bc 91a0 03ae 	LDS  R26,_StandaloneMode
0016be 30a4      	CPI  R26,LOW(0x4)
0016bf f059      	BREQ _0x40141
                 ; 0002 02F5             StandaloneMode=FAIL;
0016c0 e0e2      	LDI  R30,LOW(2)
0016c1 93e0 03ae 	STS  _StandaloneMode,R30
                 ; 0002 02F6             #ifdef PRINT_LCD
                 ; 0002 02F7             delay_ms(2000);
0016c3 940e 2dc8 	CALL SUBOPT_0x3
                 ; 0002 02F8             lcd_putsf_row(1,"Failed.");
0016c5 e0e1      	LDI  R30,LOW(1)
0016c6 93ea      	ST   -Y,R30
                +
0016c7 e1e9     +LDI R30 , LOW ( 2 * _0x40000 + ( 1417 ) )
0016c8 e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1417 ) )
                 	__POINTW1FN _0x40000,1417
0016c9 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 02F9             #endif
                 ; 0002 02FA         }
                 ; 0002 02FB         #ifdef PRINT_DEBUG
                 ; 0002 02FC         if(debug){
                 _0x40141:
0016cb 91e0 03af 	LDS  R30,_debug
0016cd 30e0      	CPI  R30,0
0016ce f0f9      	BREQ _0x40142
                 ; 0002 02FD         if(StandaloneMode!=SDFAIL)
0016cf 91a0 03ae 	LDS  R26,_StandaloneMode
0016d1 30a4      	CPI  R26,LOW(0x4)
0016d2 f049      	BREQ _0x40143
                 ; 0002 02FE             printf("\r\nFlashing from sdcard Failed .\r\n",tmpimage.ProgCounterDone);
                +
0016d3 e2e1     +LDI R30 , LOW ( 2 * _0x40000 + ( 1425 ) )
0016d4 e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1425 ) )
                 	__POINTW1FN _0x40000,1425
0016d5 93fa      	ST   -Y,R31
0016d6 93ea      	ST   -Y,R30
0016d7 940e 2e67 	CALL SUBOPT_0x1B
0016d9 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 02FF         else{
0016db c00e      	RJMP _0x40144
                 _0x40143:
                 ; 0002 0300             printf("\r\nSDCARD Failed .\r\n",);
                +
0016dc e4e3     +LDI R30 , LOW ( 2 * _0x40000 + ( 1459 ) )
0016dd e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1459 ) )
                 	__POINTW1FN _0x40000,1459
0016de 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0301             if(value==NULL)
0016e0 91e0 03ac 	LDS  R30,_value
0016e2 91f0 03ad 	LDS  R31,_value+1
0016e4 9730      	SBIW R30,0
0016e5 f421      	BRNE _0x40145
                 ; 0002 0302                 printf("project.txt file missing or corrupted.\r\n");
                +
0016e6 e5e7     +LDI R30 , LOW ( 2 * _0x40000 + ( 1479 ) )
0016e7 e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1479 ) )
                 	__POINTW1FN _0x40000,1479
0016e8 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0303         }
                 _0x40145:
                 _0x40144:
                 ; 0002 0304         while(tx_counter);}
                 _0x40146:
0016ea 91e0 0643 	LDS  R30,_tx_counter
0016ec 30e0      	CPI  R30,0
0016ed f7e1      	BRNE _0x40146
                 ; 0002 0305         #endif
                 ; 0002 0306 
                 ; 0002 0307     }
                 _0x40142:
                 ; 0002 0308     else{
0016ee c034      	RJMP _0x40149
                 _0x40140:
                 ; 0002 0309         tmpimage.ProgCounterDone=++myimage[dirnum].ProgCounterDone;
0016ef 940e 2fbe 	CALL SUBOPT_0x4A
0016f1 940e 2fc4 	CALL SUBOPT_0x4B
0016f3 940e 3060 	CALL SUBOPT_0x63
0016f5 940e 355b 	CALL __EEPROMWRD
                +
0016f7 93e0 03f7+STS _tmpimage + ( 70 ) , R30
0016f9 93f0 03f8+STS _tmpimage + ( 70 ) + 1 , R31
                 	__PUTW1MN _tmpimage,70
                 ; 0002 030A         #ifdef PRINT_DEBUG
                 ; 0002 030B         if(debug){
0016fb 91e0 03af 	LDS  R30,_debug
0016fd 30e0      	CPI  R30,0
0016fe f061      	BREQ _0x4014A
                 ; 0002 030C         printf("\r\nFlashing from sdcard Passed %u.\r\n",tmpimage.ProgCounterDone);
                +
0016ff e8e0     +LDI R30 , LOW ( 2 * _0x40000 + ( 1520 ) )
001700 e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1520 ) )
                 	__POINTW1FN _0x40000,1520
001701 93fa      	ST   -Y,R31
001702 93ea      	ST   -Y,R30
001703 940e 2e67 	CALL SUBOPT_0x1B
001705 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 030D         while(tx_counter);}
                 _0x4014B:
001707 91e0 0643 	LDS  R30,_tx_counter
001709 30e0      	CPI  R30,0
00170a f7e1      	BRNE _0x4014B
                 ; 0002 030E         #endif
                 ; 0002 030F         #ifdef PRINT_LCD
                 ; 0002 0310         lcd_putsf_row(1,"Success!  ");
                 _0x4014A:
00170b e0e1      	LDI  R30,LOW(1)
00170c 93ea      	ST   -Y,R30
                +
00170d eae4     +LDI R30 , LOW ( 2 * _0x40000 + ( 1556 ) )
00170e e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1556 ) )
                 	__POINTW1FN _0x40000,1556
00170f 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 0311         itoa(tmpimage.ProgCounterDone,temptext);
                +
001711 91e0 03f7+LDS R30 , _tmpimage + ( 70 )
001713 91f0 03f8+LDS R31 , _tmpimage + ( 70 ) + 1
                 	__GETW1MN _tmpimage,70
001715 93fa      	ST   -Y,R31
001716 93ea      	ST   -Y,R30
001717 e0e0      	LDI  R30,LOW(_temptext)
001718 e0f8      	LDI  R31,HIGH(_temptext)
001719 93fa      	ST   -Y,R31
00171a 93ea      	ST   -Y,R30
00171b 940e 2adc 	CALL _itoa
                 ; 0002 0312         lcd_puts(temptext);
00171d e0e0      	LDI  R30,LOW(_temptext)
00171e e0f8      	LDI  R31,HIGH(_temptext)
00171f 940e 2e79 	CALL SUBOPT_0x1D
                 ; 0002 0313         #endif
                 ; 0002 0314         Beeps(1,1);
001721 940e 2e2a 	CALL SUBOPT_0x12
                 ; 0002 0315     }
                 _0x40149:
                 ; 0002 0316 }
001723 9508      	RET
                 ; .FEND
                 ;
                 ;/*
                 ; * readImagePage SDcard
                 ; *
                 ; * Read a page of intel hex image from a string in pgm memory.
                 ;*/
                 ;
                 ;// Returns number of bytes decoded
                 ;UCHAR readImagePageSD (ULONG pageaddr, UINT pagesize, UCHAR *page)
                 ; 0002 0320 {
                 _readImagePageSD:
                 ; .FSTART _readImagePageSD
                 ; 0002 0321   UINT i;
                 ; 0002 0322   //BOOL firstline = TRUE;
                 ; 0002 0323   UINT page_idx = 0;
                 ; 0002 0324   //byte *beginning = hextext;
                 ; 0002 0325   ULONG lineaddr;
                 ; 0002 0326   UCHAR b, cksum = 0;
                 ; 0002 0327   UCHAR len;
                 ; 0002 0328 
                 ; 0002 0329   //Serial.print("page size = "); Serial.println(pagesize, DEC);
                 ; 0002 032A   if(blankpage==FALSE){
001724 9725      	SBIW R28,5
001725 940e 3590 	CALL __SAVELOCR6
                 ;	pageaddr -> Y+15
                 ;	pagesize -> Y+13
                 ;	*page -> Y+11
                 ;	i -> R16,R17
                 ;	page_idx -> R18,R19
                 ;	lineaddr -> Y+7
                 ;	b -> R21
                 ;	cksum -> R20
                 ;	len -> Y+6
                +
001727 e020     +LDI R18 , LOW ( 0 )
001728 e030     +LDI R19 , HIGH ( 0 )
                 	__GETWRN 18,19,0
001729 e040      	LDI  R20,0
00172a 99f3      	SBIC 0x1E,3
00172b c012      	RJMP _0x4014E
                 ; 0002 032B       // 'empty' the page by filling it with 0xFF's
                 ; 0002 032C       for (i=0; i<pagesize; i++)
                +
00172c e000     +LDI R16 , LOW ( 0 )
00172d e010     +LDI R17 , HIGH ( 0 )
                 	__GETWRN 16,17,0
                 _0x40150:
00172e 85ed      	LDD  R30,Y+13
00172f 85fe      	LDD  R31,Y+13+1
001730 170e      	CP   R16,R30
001731 071f      	CPC  R17,R31
001732 f450      	BRSH _0x40151
                 ; 0002 032D         page[i] = 0xFF;
001733 01f8      	MOVW R30,R16
001734 85ab      	LDD  R26,Y+11
001735 85bc      	LDD  R27,Y+11+1
001736 0fae      	ADD  R26,R30
001737 1fbf      	ADC  R27,R31
001738 efef      	LDI  R30,LOW(255)
001739 93ec      	ST   X,R30
                +
00173a 5f0f     +SUBI R16 , LOW ( - 1 )
00173b 4f1f     +SBCI R17 , HIGH ( - 1 )
                 	__ADDWRN 16,17,1
00173c cff1      	RJMP _0x40150
                 _0x40151:
                 ; 0002 032E blankpage=TRUE;
00173d 9af3      	SBI  0x1E,3
                 ; 0002 032F   }
                 ; 0002 0330   while (1) {
                 _0x4014E:
                 _0x40154:
                 ; 0002 0331     if(CanContinueRead==0){
00173e 99f1      	SBIC 0x1E,1
00173f c0d3      	RJMP _0x40157
                 ; 0002 0332               // read one line!
                 ; 0002 0333         if (hextext_read_byte() != ':') {
001740 d99d      	RCALL _hextext_read_byte
001741 33ea      	CPI  R30,LOW(0x3A)
001742 f009      	BREQ _0x40158
                 ; 0002 0334           //error("No colon?");
                 ; 0002 0335            return 0;//break;
001743 c12b      	RJMP _0x20C001C
                 ; 0002 0336 
                 ; 0002 0337         }
                 ; 0002 0338         // Read the byte count into 'len'
                 ; 0002 0339         len = hexton(hextext_read_byte());
                 _0x40158:
001744 940e 3065 	CALL SUBOPT_0x64
001746 83ee      	STD  Y+6,R30
                 ; 0002 033A         len = (len<<4) + hexton(hextext_read_byte());
001747 95e2      	SWAP R30
001748 7fe0      	ANDI R30,0xF0
001749 93ef      	PUSH R30
00174a 940e 3065 	CALL SUBOPT_0x64
00174c 91af      	POP  R26
00174d 0fea      	ADD  R30,R26
00174e 83ee      	STD  Y+6,R30
                 ; 0002 033B         cksum = len;
00174f 814e      	LDD  R20,Y+6
                 ; 0002 033C 
                 ; 0002 033D         // read high address byte
                 ; 0002 033E         b = hexton(hextext_read_byte());
001750 940e 3065 	CALL SUBOPT_0x64
001752 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 033F         b = (b<<4) + hexton(hextext_read_byte());
001754 93ef      	PUSH R30
001755 940e 3065 	CALL SUBOPT_0x64
001757 91af      	POP  R26
001758 940e 306e 	CALL SUBOPT_0x66
                 ; 0002 0340         cksum += b;
                 ; 0002 0341         lineaddr = b;
00175a 27ff      	CLR  R31
00175b 2766      	CLR  R22
00175c 2777      	CLR  R23
00175d 940e 3072 	CALL SUBOPT_0x67
                 ; 0002 0342 
                 ; 0002 0343         // read low address byte
                 ; 0002 0344         b = hexton(hextext_read_byte());
00175f 940e 3065 	CALL SUBOPT_0x64
001761 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 0345         b = (b<<4) + hexton(hextext_read_byte());
001763 93ef      	PUSH R30
001764 940e 3065 	CALL SUBOPT_0x64
001766 91af      	POP  R26
001767 0fea      	ADD  R30,R26
001768 2f5e      	MOV  R21,R30
                 ; 0002 0346         cksum += b;
001769 0f45      	ADD  R20,R21
                 ; 0002 0347         lineaddr = (lineaddr << 8) + b;
00176a 940e 3077 	CALL SUBOPT_0x68
00176c e0e8      	LDI  R30,LOW(8)
00176d 940e 345d 	CALL __LSLD12
00176f 01df      	MOVW R26,R30
001770 01cb      	MOVW R24,R22
001771 2fe5      	MOV  R30,R21
001772 e0f0      	LDI  R31,0
001773 940e 307c 	CALL SUBOPT_0x69
001775 940e 3072 	CALL SUBOPT_0x67
                 ; 0002 0348         lineaddr+=OffsetX16;//ADD OFFSET *16
001777 940e 3081 	CALL SUBOPT_0x6A
001779 940e 3077 	CALL SUBOPT_0x68
00177b 940e 3422 	CALL __ADDD12
00177d 940e 3072 	CALL SUBOPT_0x67
                 ; 0002 0349         // example lineaddr=0xFC00 pageaddr=0 pagesize=128 -> (blankpage=true) next time pageaddr=pageaddr+pagesize
                 ; 0002 034A         if (lineaddr >= (pageaddr + pagesize)) {
00177f 85ed      	LDD  R30,Y+13
001780 85fe      	LDD  R31,Y+13+1
                +
001781 85af     +LDD R26 , Y + 15
001782 89b8     +LDD R27 , Y + 15 + 1
001783 8989     +LDD R24 , Y + 15 + 2
001784 899a     +LDD R25 , Y + 15 + 3
                 	__GETD2S 15
001785 940e 304f 	CALL SUBOPT_0x60
001787 940e 3077 	CALL SUBOPT_0x68
001789 940e 358b 	CALL __CPD21
00178b f010      	BRLO _0x40159
                 ; 0002 034B           return 1;//break;
00178c e0e1      	LDI  R30,LOW(1)
00178d c0e2      	RJMP _0x20C001D
                 ; 0002 034C         }
                 ; 0002 034D 
                 ; 0002 034E         b = hexton(hextext_read_byte()); // record type
                 _0x40159:
00178e 940e 3065 	CALL SUBOPT_0x64
001790 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 034F         b = (b<<4) + hexton(hextext_read_byte());
001792 93ef      	PUSH R30
001793 940e 3065 	CALL SUBOPT_0x64
001795 91af      	POP  R26
001796 0fea      	ADD  R30,R26
001797 2f5e      	MOV  R21,R30
                 ; 0002 0350         cksum += b;
001798 0f45      	ADD  R20,R21
                 ; 0002 0351         //Serial.print("Record type "); Serial.println(b, HEX);
                 ; 0002 0352         if (b == 0x1) {
001799 3051      	CPI  R21,1
00179a f419      	BRNE _0x4015A
                 ; 0002 0353              EndOfFile=1;
00179b 9af2      	SBI  0x1E,2
                 ; 0002 0354              // end record!
                 ; 0002 0355              return 1;//break;
00179c e0e1      	LDI  R30,LOW(1)
00179d c0d2      	RJMP _0x20C001D
                 ; 0002 0356         }
                 ; 0002 0357         // offset *16 record!
                 ; 0002 0358         else if (b == 0x2) {
                 _0x4015A:
00179e 3052      	CPI  R21,2
00179f f599      	BRNE _0x4015E
                 ; 0002 0359              b = hexton(hextext_read_byte());
0017a0 940e 3065 	CALL SUBOPT_0x64
0017a2 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 035A              b = (b<<4) + hexton(hextext_read_byte());
0017a4 93ef      	PUSH R30
0017a5 940e 3065 	CALL SUBOPT_0x64
0017a7 91af      	POP  R26
0017a8 940e 306e 	CALL SUBOPT_0x66
                 ; 0002 035B              cksum += b;
                 ; 0002 035C              OffsetX16=((ULONG)b<<12);
0017aa 940e 308a 	CALL SUBOPT_0x6B
0017ac 940e 3090 	CALL SUBOPT_0x6C
                 ; 0002 035D              b = hexton(hextext_read_byte());
0017ae 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 035E              b = (b<<4) + hexton(hextext_read_byte());
0017b0 93ef      	PUSH R30
0017b1 940e 3065 	CALL SUBOPT_0x64
0017b3 91af      	POP  R26
0017b4 940e 306e 	CALL SUBOPT_0x66
                 ; 0002 035F              cksum += b;
                 ; 0002 0360              OffsetX16|=((ULONG)b<<4);
0017b6 940e 308a 	CALL SUBOPT_0x6B
0017b8 940e 309c 	CALL SUBOPT_0x6D
                 ; 0002 0361             b = hexton(hextext_read_byte());  // chxsum
0017ba 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 0362             b = (b<<4) + hexton(hextext_read_byte());
0017bc 93ef      	PUSH R30
0017bd 940e 3065 	CALL SUBOPT_0x64
0017bf 91af      	POP  R26
0017c0 940e 30b2 	CALL SUBOPT_0x6E
                 ; 0002 0363             cksum += b;
                 ; 0002 0364             if (cksum != 0) {
0017c2 f019      	BREQ _0x4015F
                 ; 0002 0365               error("Bad checksum: ");
0017c3 940e 30b7 	CALL SUBOPT_0x6F
                 ; 0002 0366               return 0;
0017c5 c0a9      	RJMP _0x20C001C
                 ; 0002 0367               //Serial.print(cksum, HEX);
                 ; 0002 0368             }
                 ; 0002 0369             if (hextext_read_byte() != '\r') {
                 _0x4015F:
0017c6 d917      	RCALL _hextext_read_byte
0017c7 30ed      	CPI  R30,LOW(0xD)
0017c8 f019      	BREQ _0x40160
                 ; 0002 036A               error("No end of line");
0017c9 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 036B               return 0;//break;
0017cb c0a3      	RJMP _0x20C001C
                 ; 0002 036C             }
                 ; 0002 036D             if (hextext_read_byte() != '\n') {
                 _0x40160:
0017cc d911      	RCALL _hextext_read_byte
0017cd 30ea      	CPI  R30,LOW(0xA)
0017ce f019      	BREQ _0x40161
                 ; 0002 036E               error("No end of line");
0017cf 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 036F               return 0;//break;
0017d1 c09d      	RJMP _0x20C001C
                 ; 0002 0370             }
                 ; 0002 0371             continue;
                 _0x40161:
0017d2 cf6b      	RJMP _0x40154
                 ; 0002 0372         } //no need to stuff
                 ; 0002 0373         else if (b == 0x3) {
                 _0x4015E:
0017d3 3053      	CPI  R21,3
0017d4 f5d9      	BRNE _0x40163
                 ; 0002 0374             b = hexton(hextext_read_byte());
0017d5 940e 3065 	CALL SUBOPT_0x64
0017d7 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 0375             b = (b<<4) + hexton(hextext_read_byte());
0017d9 93ef      	PUSH R30
0017da 940e 3065 	CALL SUBOPT_0x64
0017dc 91af      	POP  R26
0017dd 940e 30bd 	CALL SUBOPT_0x71
                 ; 0002 0376             cksum += b;
                 ; 0002 0377             b = hexton(hextext_read_byte());
0017df 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 0378             b = (b<<4) + hexton(hextext_read_byte());
0017e1 93ef      	PUSH R30
0017e2 940e 3065 	CALL SUBOPT_0x64
0017e4 91af      	POP  R26
0017e5 940e 30bd 	CALL SUBOPT_0x71
                 ; 0002 0379             cksum += b;
                 ; 0002 037A             b = hexton(hextext_read_byte());
0017e7 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 037B             b = (b<<4) + hexton(hextext_read_byte());
0017e9 93ef      	PUSH R30
0017ea 940e 3065 	CALL SUBOPT_0x64
0017ec 91af      	POP  R26
0017ed 940e 30bd 	CALL SUBOPT_0x71
                 ; 0002 037C             cksum += b;
                 ; 0002 037D             b = hexton(hextext_read_byte());
0017ef 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 037E             b = (b<<4) + hexton(hextext_read_byte());
0017f1 93ef      	PUSH R30
0017f2 940e 3065 	CALL SUBOPT_0x64
0017f4 91af      	POP  R26
0017f5 940e 30bd 	CALL SUBOPT_0x71
                 ; 0002 037F             cksum += b;
                 ; 0002 0380             b = hexton(hextext_read_byte());  // chxsum
0017f7 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 0381             b = (b<<4) + hexton(hextext_read_byte());
0017f9 93ef      	PUSH R30
0017fa 940e 3065 	CALL SUBOPT_0x64
0017fc 91af      	POP  R26
0017fd 940e 30b2 	CALL SUBOPT_0x6E
                 ; 0002 0382             cksum += b;
                 ; 0002 0383             if (cksum != 0) {
0017ff f019      	BREQ _0x40164
                 ; 0002 0384                 error("Bad checksum: ");
001800 940e 30b7 	CALL SUBOPT_0x6F
                 ; 0002 0385                 return 0;//break;
001802 c06c      	RJMP _0x20C001C
                 ; 0002 0386             //Serial.print(cksum, HEX);
                 ; 0002 0387             }
                 ; 0002 0388             if (hextext_read_byte() != '\r') {
                 _0x40164:
001803 d8da      	RCALL _hextext_read_byte
001804 30ed      	CPI  R30,LOW(0xD)
001805 f019      	BREQ _0x40165
                 ; 0002 0389               error("No end of line");
001806 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 038A               return 0;//break;
001808 c066      	RJMP _0x20C001C
                 ; 0002 038B             }
                 ; 0002 038C             if (hextext_read_byte() != '\n') {
                 _0x40165:
001809 d8d4      	RCALL _hextext_read_byte
00180a 30ea      	CPI  R30,LOW(0xA)
00180b f019      	BREQ _0x40166
                 ; 0002 038D               error("No end of line");
00180c 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 038E               return 0;//break;
00180e c060      	RJMP _0x20C001C
                 ; 0002 038F             }
                 ; 0002 0390             continue;
                 _0x40166:
00180f cf2e      	RJMP _0x40154
                 ; 0002 0391         }
                 ; 0002 0392         i=0;
                 _0x40163:
                +
001810 e000     +LDI R16 , LOW ( 0 )
001811 e010     +LDI R17 , HIGH ( 0 )
                 	__GETWRN 16,17,0
                 ; 0002 0393     }
                 ; 0002 0394     else{
001812 c009      	RJMP _0x40167
                 _0x40157:
                 ; 0002 0395         //lineaddr=Save_lineaddr;
                 ; 0002 0396         i=Save_i;
001813 9100 07fd 	LDS  R16,_Save_i
001815 2711      	CLR  R17
                 ; 0002 0397         cksum=Save_cksum;
001816 9140 07fe 	LDS  R20,_Save_cksum
                 ; 0002 0398         len=Save_len;
001818 91e0 07ff 	LDS  R30,_Save_len
00181a 83ee      	STD  Y+6,R30
                 ; 0002 0399         CanContinueRead=0;
00181b 98f1      	CBI  0x1E,1
                 ; 0002 039A     }
                 _0x40167:
                 ; 0002 039B //#if VERBOSE
                 ; 0002 039C //    Serial.print("\nLine address =  0x"); Serial.println(lineaddr, HEX);
                 ; 0002 039D //    Serial.print("Page address =  0x"); Serial.println(pageaddr, HEX);
                 ; 0002 039E //#endif
                 ; 0002 039F     blankpage=FALSE;
00181c 98f3      	CBI  0x1E,3
                 ; 0002 03A0     for ( ; i < len; i++) {
                 _0x4016D:
00181d 81ee      	LDD  R30,Y+6
00181e 01d8      	MOVW R26,R16
00181f e0f0      	LDI  R31,0
001820 17ae      	CP   R26,R30
001821 07bf      	CPC  R27,R31
001822 f540      	BRSH _0x4016E
                 ; 0002 03A1       // read 'n' bytes
                 ; 0002 03A2       b = hexton(hextext_read_byte());
001823 940e 3065 	CALL SUBOPT_0x64
001825 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 03A3       b = (b<<4) + hexton(hextext_read_byte());
001827 93ef      	PUSH R30
001828 940e 3065 	CALL SUBOPT_0x64
00182a 91af      	POP  R26
00182b 0fea      	ADD  R30,R26
00182c 2f5e      	MOV  R21,R30
                 ; 0002 03A4 
                 ; 0002 03A5       cksum += b;
00182d 0f45      	ADD  R20,R21
                 ; 0002 03A6 //#if VERBOSE
                 ; 0002 03A7 //      Serial.print(b, HEX);
                 ; 0002 03A8 //      Serial.write(' ');
                 ; 0002 03A9 //#endif
                 ; 0002 03AA 
                 ; 0002 03AB       page[page_idx] = b;
00182e 01f9      	MOVW R30,R18
00182f 85ab      	LDD  R26,Y+11
001830 85bc      	LDD  R27,Y+11+1
001831 0fea      	ADD  R30,R26
001832 1ffb      	ADC  R31,R27
001833 8350      	ST   Z,R21
                 ; 0002 03AC       page_idx++;
                +
001834 5f2f     +SUBI R18 , LOW ( - 1 )
001835 4f3f     +SBCI R19 , HIGH ( - 1 )
                 	__ADDWRN 18,19,1
                 ; 0002 03AD 
                 ; 0002 03AE       if (page_idx > (pagesize-1)) {
001836 85ed      	LDD  R30,Y+13
001837 85fe      	LDD  R31,Y+13+1
001838 9731      	SBIW R30,1
001839 17e2      	CP   R30,R18
00183a 07f3      	CPC  R31,R19
00183b f460      	BRSH _0x4016F
                 ; 0002 03AF           CanContinueRead=1;
00183c 9af1      	SBI  0x1E,1
                 ; 0002 03B0           //Save_lineaddr=lineaddr;
                 ; 0002 03B1           Save_i=i+1;
00183d 2fe0      	MOV  R30,R16
00183e 5fef      	SUBI R30,-LOW(1)
00183f 93e0 07fd 	STS  _Save_i,R30
                 ; 0002 03B2           Save_cksum=cksum;
001841 9340 07fe 	STS  _Save_cksum,R20
                 ; 0002 03B3           Save_len=len;
001843 81ee      	LDD  R30,Y+6
001844 93e0 07ff 	STS  _Save_len,R30
                 ; 0002 03B4           //error("Too much code");
                 ; 0002 03B5           return 1;//break;
001846 e0e1      	LDI  R30,LOW(1)
001847 c028      	RJMP _0x20C001D
                 ; 0002 03B6       }
                 ; 0002 03B7     }
                 _0x4016F:
                +
001848 5f0f     +SUBI R16 , LOW ( - 1 )
001849 4f1f     +SBCI R17 , HIGH ( - 1 )
                 	__ADDWRN 16,17,1
00184a cfd2      	RJMP _0x4016D
                 _0x4016E:
                 ; 0002 03B8     if(CanContinueRead)
00184b 9bf1      	SBIS 0x1E,1
00184c c002      	RJMP _0x40172
                 ; 0002 03B9         return 1;//break;
00184d e0e1      	LDI  R30,LOW(1)
00184e c021      	RJMP _0x20C001D
                 ; 0002 03BA     b = hexton(hextext_read_byte());  // chxsum
                 _0x40172:
00184f 940e 3065 	CALL SUBOPT_0x64
001851 940e 306a 	CALL SUBOPT_0x65
                 ; 0002 03BB     b = (b<<4) + hexton(hextext_read_byte());
001853 93ef      	PUSH R30
001854 940e 3065 	CALL SUBOPT_0x64
001856 91af      	POP  R26
001857 940e 30b2 	CALL SUBOPT_0x6E
                 ; 0002 03BC     cksum += b;
                 ; 0002 03BD     if (cksum != 0) {
001859 f019      	BREQ _0x40173
                 ; 0002 03BE       error("Bad checksum: ");
00185a 940e 30b7 	CALL SUBOPT_0x6F
                 ; 0002 03BF       return 0;//break;
00185c c012      	RJMP _0x20C001C
                 ; 0002 03C0       //Serial.print(cksum, HEX);
                 ; 0002 03C1     }
                 ; 0002 03C2     if (hextext_read_byte() != '\r') {
                 _0x40173:
00185d d880      	RCALL _hextext_read_byte
00185e 30ed      	CPI  R30,LOW(0xD)
00185f f019      	BREQ _0x40174
                 ; 0002 03C3               error("No end of line");
001860 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 03C4               return 0;//break;
001862 c00c      	RJMP _0x20C001C
                 ; 0002 03C5     }
                 ; 0002 03C6     if (hextext_read_byte() != '\n') {
                 _0x40174:
001863 d87a      	RCALL _hextext_read_byte
001864 30ea      	CPI  R30,LOW(0xA)
001865 f019      	BREQ _0x40175
                 ; 0002 03C7       error("No end of line");
001866 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 03C8       return 0;//break;
001868 c006      	RJMP _0x20C001C
                 ; 0002 03C9     }
                 ; 0002 03CA //#if VERBOSE
                 ; 0002 03CB //    Serial.println();
                 ; 0002 03CC //    Serial.println(page_idx, DEC);
                 ; 0002 03CD //#endif
                 ; 0002 03CE     if (page_idx == pagesize)
                 _0x40175:
001869 85ed      	LDD  R30,Y+13
00186a 85fe      	LDD  R31,Y+13+1
00186b 17e2      	CP   R30,R18
00186c 07f3      	CPC  R31,R19
00186d f009      	BREQ _0x20C001C
                 ; 0002 03CF       return 0;//break;
                 ; 0002 03D0     }
00186e cecf      	RJMP _0x40154
                 ; 0002 03D1 //#if VERBOSE
                 ; 0002 03D2 //  Serial.print("\n  Total bytes read: ");
                 ; 0002 03D3 //  Serial.println(page_idx, DEC);
                 ; 0002 03D4 //#endif
                 ; 0002 03D5   return 0;//return hextext;
                 _0x20C001C:
00186f e0e0      	LDI  R30,LOW(0)
                 _0x20C001D:
001870 940e 3597 	CALL __LOADLOCR6
001872 9663      	ADIW R28,19
001873 9508      	RET
                 ; 0002 03D6 }
                 ; .FEND
                 ;
                 ;
                 ;// Basically, write the pagebuff (with pagesize bytes in it) into page $pageaddr
                 ;UCHAR flashPage (UCHAR *pagebuff, UINT pagesize) {
                 ; 0002 03DA UCHAR flashPage (UCHAR *pagebuff, UINT pagesize) {
                 _flashPage:
                 ; .FSTART _flashPage
                 ; 0002 03DB   //SPI.setClockDivider(CLOCKSPEED_FLASH);
                 ; 0002 03DC   UINT i;
                 ; 0002 03DD   //printf("\r\nFlashing page %u",pageaddr);
                 ; 0002 03DE   for (i=0; i < pagesize/2; i++) {
001874 931a      	ST   -Y,R17
001875 930a      	ST   -Y,R16
                 ;	*pagebuff -> Y+4
                 ;	pagesize -> Y+2
                 ;	i -> R16,R17
                +
001876 e000     +LDI R16 , LOW ( 0 )
001877 e010     +LDI R17 , HIGH ( 0 )
                 	__GETWRN 16,17,0
                 _0x40178:
001878 81ea      	LDD  R30,Y+2
001879 81fb      	LDD  R31,Y+2+1
00187a 95f6      	LSR  R31
00187b 95e7      	ROR  R30
00187c 170e      	CP   R16,R30
00187d 071f      	CPC  R17,R31
00187e f4f8      	BRSH _0x40179
                 ; 0002 03DF     AVR910_ResetTXData();//clear send to uart tx buffer
00187f 940e 0c4d 	CALL _AVR910_ResetTXData
                 ; 0002 03E0     FIFO_Write(pagebuff[2*i]);
                +
001881 e0a2     +LDI R26 , 2
001882 9fa0     +MUL R26 , R16
001883 01f0     +MOVW R30 , R0
001884 9fa1     +MUL R26 , R17
001885 0df0     +ADD R31 , R0
                 	__MULBNWRU 16,17,2
001886 81ac      	LDD  R26,Y+4
001887 81bd      	LDD  R27,Y+4+1
001888 0fae      	ADD  R26,R30
001889 1fbf      	ADC  R27,R31
00188a 91ec      	LD   R30,X
00188b 93ea      	ST   -Y,R30
00188c 940e 106e 	CALL _FIFO_Write
                 ; 0002 03E1     FIFO_Write(pagebuff[2*i+1]);
                +
00188e e0a2     +LDI R26 , 2
00188f 9fa0     +MUL R26 , R16
001890 01f0     +MOVW R30 , R0
001891 9fa1     +MUL R26 , R17
001892 0df0     +ADD R31 , R0
                 	__MULBNWRU 16,17,2
001893 9631      	ADIW R30,1
001894 81ac      	LDD  R26,Y+4
001895 81bd      	LDD  R27,Y+4+1
001896 0fae      	ADD  R26,R30
001897 1fbf      	ADC  R27,R31
001898 91ec      	LD   R30,X
001899 940e 303c 	CALL SUBOPT_0x5D
                 ; 0002 03E2     AVR910_Command();
                 ; 0002 03E3   }
                +
00189b 5f0f     +SUBI R16 , LOW ( - 1 )
00189c 4f1f     +SBCI R17 , HIGH ( - 1 )
                 	__ADDWRN 16,17,1
00189d cfda      	RJMP _0x40178
                 _0x40179:
                 ; 0002 03E4   return TRUE;
00189e e0e1      	LDI  R30,LOW(1)
00189f 8119      	LDD  R17,Y+1
0018a0 8108      	LDD  R16,Y+0
0018a1 9626      	ADIW R28,6
0018a2 9508      	RET
                 ; 0002 03E5 }
                 ; .FEND
                 ;
                 ;// verifyImage SDcard does a byte-by-byte verify of the flash hex against the chip
                 ;// Thankfully this does not have to be done by pages!
                 ;// returns true if the image is the same as the hextext, returns false on any error
                 ;UCHAR verifyImageSD ()  {
                 ; 0002 03EA UCHAR verifyImageSD ()  {
                 _verifyImageSD:
                 ; .FSTART _verifyImageSD
                 ; 0002 03EB   ULONG lineaddr;
                 ; 0002 03EC   UCHAR len;
                 ; 0002 03ED   UCHAR b, cksum = 0;
                 ; 0002 03EE   UCHAR i;
                 ; 0002 03EF   #ifdef PRINT_LCD
                 ; 0002 03F0   lcd_putsf_row(1,"Verifing flash..");
0018a3 9724      	SBIW R28,4
0018a4 940e 3592 	CALL __SAVELOCR4
                 ;	lineaddr -> Y+4
                 ;	len -> R17
                 ;	b -> R16
                 ;	cksum -> R19
                 ;	i -> R18
0018a6 e030      	LDI  R19,0
0018a7 e0e1      	LDI  R30,LOW(1)
0018a8 93ea      	ST   -Y,R30
                +
0018a9 eced     +LDI R30 , LOW ( 2 * _0x40000 + ( 1597 ) )
0018aa e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1597 ) )
                 	__POINTW1FN _0x40000,1597
0018ab 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 03F1   //lcd_putsf_row(1,"Verifing 0 %");
                 ; 0002 03F2   #endif
                 ; 0002 03F3   while (1) {
                 _0x4017A:
                 ; 0002 03F4 //    #ifdef PRINT_LCD
                 ; 0002 03F5 //    lcd_gotoxy(9,1);
                 ; 0002 03F6 //    itoa((int)((float)((float)lineaddr/(float)tmpimage.chipsize)*100),&temptext[0]);
                 ; 0002 03F7 //    lcd_puts(temptext);
                 ; 0002 03F8 //    #endif
                 ; 0002 03F9       // read one line!
                 ; 0002 03FA     if (hextext_read_byte() != ':') {
0018ad d830      	RCALL _hextext_read_byte
0018ae 33ea      	CPI  R30,LOW(0x3A)
0018af f031      	BREQ _0x4017D
                 ; 0002 03FB       error("No colon");
                +
0018b0 edee     +LDI R30 , LOW ( 2 * _0x40000 + ( 1614 ) )
0018b1 e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1614 ) )
                 	__POINTW1FN _0x40000,1614
0018b2 940e 2f93 	CALL SUBOPT_0x42
                 ; 0002 03FC       return FALSE;
0018b4 e0e0      	LDI  R30,LOW(0)
0018b5 c191      	RJMP _0x20C001B
                 ; 0002 03FD     }
                 ; 0002 03FE     len = hexton(hextext_read_byte());
                 _0x4017D:
0018b6 940e 3065 	CALL SUBOPT_0x64
0018b8 2f1e      	MOV  R17,R30
                 ; 0002 03FF     len = (len<<4) + hexton(hextext_read_byte());
0018b9 95e2      	SWAP R30
0018ba 7fe0      	ANDI R30,0xF0
0018bb 93ef      	PUSH R30
0018bc 940e 3065 	CALL SUBOPT_0x64
0018be 91af      	POP  R26
0018bf 0fea      	ADD  R30,R26
0018c0 2f1e      	MOV  R17,R30
                 ; 0002 0400     cksum = len;
0018c1 2f31      	MOV  R19,R17
                 ; 0002 0401 
                 ; 0002 0402     b = hexton(hextext_read_byte()); // record type
0018c2 940e 3065 	CALL SUBOPT_0x64
0018c4 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 0403     b = (b<<4) + hexton(hextext_read_byte());
0018c6 93ef      	PUSH R30
0018c7 940e 3065 	CALL SUBOPT_0x64
0018c9 91af      	POP  R26
0018ca 940e 30c5 	CALL SUBOPT_0x73
                 ; 0002 0404     cksum += b;
                 ; 0002 0405     lineaddr = b;
0018cc 27ff      	CLR  R31
0018cd 2766      	CLR  R22
0018ce 2777      	CLR  R23
0018cf 940e 30c9 	CALL SUBOPT_0x74
                 ; 0002 0406     b = hexton(hextext_read_byte()); // record type
0018d1 940e 3065 	CALL SUBOPT_0x64
0018d3 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 0407     b = (b<<4) + hexton(hextext_read_byte());
0018d5 93ef      	PUSH R30
0018d6 940e 3065 	CALL SUBOPT_0x64
0018d8 91af      	POP  R26
0018d9 0fea      	ADD  R30,R26
0018da 2f0e      	MOV  R16,R30
                 ; 0002 0408     cksum += b;
0018db 0f30      	ADD  R19,R16
                 ; 0002 0409     lineaddr = (lineaddr << 8) + b;
0018dc 940e 30ce 	CALL SUBOPT_0x75
0018de e0e8      	LDI  R30,LOW(8)
0018df 940e 345d 	CALL __LSLD12
0018e1 01df      	MOVW R26,R30
0018e2 01cb      	MOVW R24,R22
0018e3 2fe0      	MOV  R30,R16
0018e4 e0f0      	LDI  R31,0
0018e5 940e 307c 	CALL SUBOPT_0x69
0018e7 940e 30c9 	CALL SUBOPT_0x74
                 ; 0002 040A     lineaddr+=OffsetX16;//ADD OFFSET *16
0018e9 940e 3081 	CALL SUBOPT_0x6A
0018eb 940e 30ce 	CALL SUBOPT_0x75
0018ed 940e 3422 	CALL __ADDD12
0018ef 940e 30c9 	CALL SUBOPT_0x74
                 ; 0002 040B     b = hexton(hextext_read_byte()); // record type
0018f1 940e 3065 	CALL SUBOPT_0x64
0018f3 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 040C     b = (b<<4) + hexton(hextext_read_byte());
0018f5 93ef      	PUSH R30
0018f6 940e 3065 	CALL SUBOPT_0x64
0018f8 91af      	POP  R26
0018f9 0fea      	ADD  R30,R26
0018fa 2f0e      	MOV  R16,R30
                 ; 0002 040D     cksum += b;
0018fb 0f30      	ADD  R19,R16
                 ; 0002 040E 
                 ; 0002 040F     //Serial.print("Record type "); Serial.println(b, HEX);
                 ; 0002 0410     if (b == 0x1) {
0018fc 3001      	CPI  R16,1
0018fd f409      	BRNE _0x4017E
                 ; 0002 0411      // end record!
                 ; 0002 0412      break;
0018fe c147      	RJMP _0x4017C
                 ; 0002 0413     }
                 ; 0002 0414     // offset *16 record!
                 ; 0002 0415     else if (b == 0x2) {
                 _0x4017E:
0018ff 3002      	CPI  R16,2
001900 f5a9      	BRNE _0x40180
                 ; 0002 0416          b = hexton(hextext_read_byte());
001901 940e 3065 	CALL SUBOPT_0x64
001903 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 0417          b = (b<<4) + hexton(hextext_read_byte());
001905 93ef      	PUSH R30
001906 940e 3065 	CALL SUBOPT_0x64
001908 91af      	POP  R26
001909 940e 30c5 	CALL SUBOPT_0x73
                 ; 0002 0418          cksum += b;
                 ; 0002 0419          OffsetX16=((ULONG)b<<12);
00190b 940e 308a 	CALL SUBOPT_0x6B
00190d 940e 3090 	CALL SUBOPT_0x6C
                 ; 0002 041A          b = hexton(hextext_read_byte());
00190f 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 041B          b = (b<<4) + hexton(hextext_read_byte());
001911 93ef      	PUSH R30
001912 940e 3065 	CALL SUBOPT_0x64
001914 91af      	POP  R26
001915 940e 30c5 	CALL SUBOPT_0x73
                 ; 0002 041C          cksum += b;
                 ; 0002 041D          OffsetX16|=((ULONG)b<<4);
001917 940e 308a 	CALL SUBOPT_0x6B
001919 940e 309c 	CALL SUBOPT_0x6D
                 ; 0002 041E         b = hexton(hextext_read_byte());  // chxsum
00191b 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 041F         b = (b<<4) + hexton(hextext_read_byte());
00191d 93ef      	PUSH R30
00191e 940e 3065 	CALL SUBOPT_0x64
001920 91af      	POP  R26
001921 940e 30d3 	CALL SUBOPT_0x76
                 ; 0002 0420         cksum += b;
                 ; 0002 0421         if (cksum != 0) {
001923 f011      	BREQ _0x40181
                 ; 0002 0422           error("Bad checksum: ");
001924 940e 30b7 	CALL SUBOPT_0x6F
                 ; 0002 0423           //Serial.print(cksum, HEX);
                 ; 0002 0424         }
                 ; 0002 0425         if (hextext_read_byte() != '\r') {
                 _0x40181:
001926 940e 10de 	CALL _hextext_read_byte
001928 30ed      	CPI  R30,LOW(0xD)
001929 f021      	BREQ _0x40182
                 ; 0002 0426           error("No end of line");
00192a 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 0427           return FALSE;
00192c e0e0      	LDI  R30,LOW(0)
00192d c119      	RJMP _0x20C001B
                 ; 0002 0428         }
                 ; 0002 0429         if (hextext_read_byte() != '\n') {
                 _0x40182:
00192e 940e 10de 	CALL _hextext_read_byte
001930 30ea      	CPI  R30,LOW(0xA)
001931 f019      	BREQ _0x40183
                 ; 0002 042A           error("No end of line");
001932 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 042B           break;
001934 c111      	RJMP _0x4017C
                 ; 0002 042C         }
                 ; 0002 042D         continue;
                 _0x40183:
001935 cf77      	RJMP _0x4017A
                 ; 0002 042E     }
                 ; 0002 042F     else if (b == 0x3) {
                 _0x40180:
001936 3003      	CPI  R16,3
001937 f5e9      	BRNE _0x40185
                 ; 0002 0430         b = hexton(hextext_read_byte());
001938 940e 3065 	CALL SUBOPT_0x64
00193a 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 0431         b = (b<<4) + hexton(hextext_read_byte());
00193c 93ef      	PUSH R30
00193d 940e 3065 	CALL SUBOPT_0x64
00193f 91af      	POP  R26
001940 940e 30d8 	CALL SUBOPT_0x77
                 ; 0002 0432         cksum += b;
                 ; 0002 0433         b = hexton(hextext_read_byte());
001942 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 0434         b = (b<<4) + hexton(hextext_read_byte());
001944 93ef      	PUSH R30
001945 940e 3065 	CALL SUBOPT_0x64
001947 91af      	POP  R26
001948 940e 30d8 	CALL SUBOPT_0x77
                 ; 0002 0435         cksum += b;
                 ; 0002 0436         b = hexton(hextext_read_byte());
00194a 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 0437         b = (b<<4) + hexton(hextext_read_byte());
00194c 93ef      	PUSH R30
00194d 940e 3065 	CALL SUBOPT_0x64
00194f 91af      	POP  R26
001950 940e 30d8 	CALL SUBOPT_0x77
                 ; 0002 0438         cksum += b;
                 ; 0002 0439         b = hexton(hextext_read_byte());
001952 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 043A         b = (b<<4) + hexton(hextext_read_byte());
001954 93ef      	PUSH R30
001955 940e 3065 	CALL SUBOPT_0x64
001957 91af      	POP  R26
001958 940e 30d8 	CALL SUBOPT_0x77
                 ; 0002 043B         cksum += b;
                 ; 0002 043C         b = hexton(hextext_read_byte());  // chxsum
00195a 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 043D         b = (b<<4) + hexton(hextext_read_byte());
00195c 93ef      	PUSH R30
00195d 940e 3065 	CALL SUBOPT_0x64
00195f 91af      	POP  R26
001960 940e 30d3 	CALL SUBOPT_0x76
                 ; 0002 043E         cksum += b;
                 ; 0002 043F         if (cksum != 0) {
001962 f011      	BREQ _0x40186
                 ; 0002 0440             error("Bad checksum: ");
001963 940e 30b7 	CALL SUBOPT_0x6F
                 ; 0002 0441         //Serial.print(cksum, HEX);
                 ; 0002 0442         }
                 ; 0002 0443         if (hextext_read_byte() != '\r') {
                 _0x40186:
001965 940e 10de 	CALL _hextext_read_byte
001967 30ed      	CPI  R30,LOW(0xD)
001968 f021      	BREQ _0x40187
                 ; 0002 0444           error("No end of line");
001969 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 0445           return FALSE;
00196b e0e0      	LDI  R30,LOW(0)
00196c c0da      	RJMP _0x20C001B
                 ; 0002 0446         }
                 ; 0002 0447         if (hextext_read_byte() != '\n') {
                 _0x40187:
00196d 940e 10de 	CALL _hextext_read_byte
00196f 30ea      	CPI  R30,LOW(0xA)
001970 f019      	BREQ _0x40188
                 ; 0002 0448             error("No end of line");
001971 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 0449             break;
001973 c0d2      	RJMP _0x4017C
                 ; 0002 044A         }
                 ; 0002 044B         continue;
                 _0x40188:
001974 cf38      	RJMP _0x4017A
                 ; 0002 044C     }
                 ; 0002 044D     for (i=0; i < len; i++) {
                 _0x40185:
001975 e020      	LDI  R18,LOW(0)
                 _0x4018A:
001976 1721      	CP   R18,R17
001977 f008      	BRLO PC+2
001978 c09c      	RJMP _0x4018B
                 ; 0002 044E       // read 'n' bytes
                 ; 0002 044F       b = hexton(hextext_read_byte());
001979 940e 3065 	CALL SUBOPT_0x64
00197b 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 0450       b = (b<<4) + hexton(hextext_read_byte());
00197d 93ef      	PUSH R30
00197e 940e 3065 	CALL SUBOPT_0x64
001980 91af      	POP  R26
001981 0fea      	ADD  R30,R26
001982 2f0e      	MOV  R16,R30
                 ; 0002 0451       cksum += b;
001983 0f30      	ADD  R19,R16
                 ; 0002 0452 
                 ; 0002 0453 //#if VERBOSE
                 ; 0002 0454 //      Serial.print("$");
                 ; 0002 0455 //      Serial.print(lineaddr, HEX);
                 ; 0002 0456 //      Serial.print(":0x");
                 ; 0002 0457 //      Serial.print(b, HEX);
                 ; 0002 0458 //      Serial.write(" ? ");
                 ; 0002 0459 //#endif
                 ; 0002 045A 
                 ; 0002 045B       // verify this byte!
                 ; 0002 045C       if (lineaddr % 2) {
001984 940e 30dc 	CALL SUBOPT_0x78
001986 70e1      	ANDI R30,LOW(0x1)
001987 f169      	BREQ _0x4018C
                 ; 0002 045D         // for 'high' bytes:
                 ; 0002 045E         if (b != g_txBuf[0]){//(spi_transaction(0x28, lineaddr >> 9, lineaddr / 2, 0) & 0xFF)) {
001988 91e0 0300 	LDS  R30,_g_txBuf
00198a 17e0      	CP   R30,R16
00198b f141      	BREQ _0x4018D
                 ; 0002 045F           #ifdef PRINT_DEBUG
                 ; 0002 0460           if(debug){
00198c 91e0 03af 	LDS  R30,_debug
00198e 30e0      	CPI  R30,0
00198f f031      	BREQ _0x4018E
                 ; 0002 0461           printf("verification error at address 0x%X",lineaddr);
001990 940e 30e1 	CALL SUBOPT_0x79
                 ; 0002 0462           while(tx_counter);}
                 _0x4018F:
001992 91e0 0643 	LDS  R30,_tx_counter
001994 30e0      	CPI  R30,0
001995 f7e1      	BRNE _0x4018F
                 ; 0002 0463           #endif //puthexchars(lineaddr>>8);puthexchars(lineaddr&0xff);
                 ; 0002 0464           #ifdef PRINT_DEBUG
                 ; 0002 0465           if(debug){
                 _0x4018E:
001996 91e0 03af 	LDS  R30,_debug
001998 30e0      	CPI  R30,0
001999 f041      	BREQ _0x40192
                 ; 0002 0466           printf(" Should be 0x%X",b);
00199a 940e 30ea 	CALL SUBOPT_0x7A
00199c 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 0467           while(tx_counter);}
                 _0x40193:
00199e 91e0 0643 	LDS  R30,_tx_counter
0019a0 30e0      	CPI  R30,0
0019a1 f7e1      	BRNE _0x40193
                 ; 0002 0468           #endif //puthexchars(b);
                 ; 0002 0469           #ifdef PRINT_DEBUG
                 ; 0002 046A           if(debug){
                 _0x40192:
0019a2 91e0 03af 	LDS  R30,_debug
0019a4 30e0      	CPI  R30,0
0019a5 f061      	BREQ _0x40196
                 ; 0002 046B           printf(" not 0x%X",g_txBuf[0]);
                +
0019a6 e1ea     +LDI R30 , LOW ( 2 * _0x40000 + ( 1674 ) )
0019a7 e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1674 ) )
                 	__POINTW1FN _0x40000,1674
0019a8 93fa      	ST   -Y,R31
0019a9 93ea      	ST   -Y,R30
0019aa 940e 3039 	CALL SUBOPT_0x5C
0019ac 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 046C           while(tx_counter);}
                 _0x40197:
0019ae 91e0 0643 	LDS  R30,_tx_counter
0019b0 30e0      	CPI  R30,0
0019b1 f7e1      	BRNE _0x40197
                 ; 0002 046D           #endif
                 ; 0002 046E           //puthexchars(g_txBuf[0]);//Serial.println((spi_transaction(0x28, lineaddr >> 9, lineaddr / 2, 0) & 0xFF), HEX ...
                 ; 0002 046F           return FALSE;
                 _0x40196:
0019b2 e0e0      	LDI  R30,LOW(0)
0019b3 c093      	RJMP _0x20C001B
                 ; 0002 0470         }
                 ; 0002 0471       } else {
                 _0x4018D:
0019b4 c058      	RJMP _0x4019A
                 _0x4018C:
                 ; 0002 0472         // for 'low bytes'
                 ; 0002 0473         AVR910_ResetTXData();
0019b5 940e 0c4d 	CALL _AVR910_ResetTXData
                 ; 0002 0474         // 1. 'A,0x00,0x01' set address to read from flash. ACK response
                 ; 0002 0475         // 2   'R' - read high byte then low byte
                 ; 0002 0476         FIFO_Write('A');FIFO_Write(lineaddr>>9);FIFO_Write(lineaddr>>1);AVR910_Command();
0019b7 e4e1      	LDI  R30,LOW(65)
0019b8 93ea      	ST   -Y,R30
0019b9 940e 106e 	CALL _FIFO_Write
0019bb 940e 30ce 	CALL SUBOPT_0x75
0019bd e0e9      	LDI  R30,LOW(9)
0019be 940e 3469 	CALL __LSRD12
0019c0 93ea      	ST   -Y,R30
0019c1 940e 106e 	CALL _FIFO_Write
0019c3 940e 30dc 	CALL SUBOPT_0x78
0019c5 940e 348e 	CALL __LSRD1
0019c7 940e 303c 	CALL SUBOPT_0x5D
                 ; 0002 0477         if(g_txBuf[0]!=ACK){
0019c9 91a0 0300 	LDS  R26,_g_txBuf
0019cb 30ad      	CPI  R26,LOW(0xD)
0019cc f011      	BREQ _0x4019B
                 ; 0002 0478             //puts("\r\nSetAddr FAIL");
                 ; 0002 0479             return FALSE;
0019cd e0e0      	LDI  R30,LOW(0)
0019ce c078      	RJMP _0x20C001B
                 ; 0002 047A         }
                 ; 0002 047B         AVR910_ResetTXData();
                 _0x4019B:
0019cf 940e 0c4d 	CALL _AVR910_ResetTXData
                 ; 0002 047C         AVR910_Standalone("R");
                +
0019d1 e2e4     +LDI R30 , LOW ( 2 * _0x40000 + ( 1684 ) )
0019d2 e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1684 ) )
                 	__POINTW1FN _0x40000,1684
0019d3 940e 2fca 	CALL SUBOPT_0x4C
                 ; 0002 047D         if (b != g_txBuf[1]){//(spi_transaction(0x28, lineaddr >> 9, lineaddr / 2, 0) & 0xFF)) {
                +
0019d5 91e0 0301+LDS R30 , _g_txBuf + ( 1 )
                 	__GETB1MN _g_txBuf,1
0019d7 17e0      	CP   R30,R16
0019d8 f1a1      	BREQ _0x4019C
                 ; 0002 047E           #ifdef PRINT_DEBUG
                 ; 0002 047F           if(debug){
0019d9 91e0 03af 	LDS  R30,_debug
0019db 30e0      	CPI  R30,0
0019dc f091      	BREQ _0x4019D
                 ; 0002 0480           printf("\r\n0=%02x 1=%02x  \r\n",g_txBuf[0],g_txBuf[1]);
                +
0019dd e2e6     +LDI R30 , LOW ( 2 * _0x40000 + ( 1686 ) )
0019de e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1686 ) )
                 	__POINTW1FN _0x40000,1686
0019df 93fa      	ST   -Y,R31
0019e0 93ea      	ST   -Y,R30
0019e1 940e 3039 	CALL SUBOPT_0x5C
0019e3 940e 3036 	CALL SUBOPT_0x5B
0019e5 e088      	LDI  R24,8
0019e6 940e 2cdc 	CALL _printf
0019e8 962a      	ADIW R28,10
                 ; 0002 0481           printf("verification error at address 0x%X",lineaddr);
0019e9 940e 30e1 	CALL SUBOPT_0x79
                 ; 0002 0482           while(tx_counter);}
                 _0x4019E:
0019eb 91e0 0643 	LDS  R30,_tx_counter
0019ed 30e0      	CPI  R30,0
0019ee f7e1      	BRNE _0x4019E
                 ; 0002 0483           #endif //puthexchars(lineaddr>>8);puthexchars(lineaddr&0xff);
                 ; 0002 0484           #ifdef PRINT_DEBUG
                 ; 0002 0485           if(debug){
                 _0x4019D:
0019ef 91e0 03af 	LDS  R30,_debug
0019f1 30e0      	CPI  R30,0
0019f2 f041      	BREQ _0x401A1
                 ; 0002 0486           printf(" Should be 0x%X",b);
0019f3 940e 30ea 	CALL SUBOPT_0x7A
0019f5 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 0487           while(tx_counter);}
                 _0x401A2:
0019f7 91e0 0643 	LDS  R30,_tx_counter
0019f9 30e0      	CPI  R30,0
0019fa f7e1      	BRNE _0x401A2
                 ; 0002 0488           #endif // puthexchars(b);
                 ; 0002 0489           #ifdef PRINT_DEBUG
                 ; 0002 048A           if(debug){
                 _0x401A1:
0019fb 91e0 03af 	LDS  R30,_debug
0019fd 30e0      	CPI  R30,0
0019fe f061      	BREQ _0x401A5
                 ; 0002 048B           printf(" not 0x%X",g_txBuf[1]);
                +
0019ff e1ea     +LDI R30 , LOW ( 2 * _0x40000 + ( 1674 ) )
001a00 e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1674 ) )
                 	__POINTW1FN _0x40000,1674
001a01 93fa      	ST   -Y,R31
001a02 93ea      	ST   -Y,R30
001a03 940e 3036 	CALL SUBOPT_0x5B
001a05 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 048C           while(tx_counter);}
                 _0x401A6:
001a07 91e0 0643 	LDS  R30,_tx_counter
001a09 30e0      	CPI  R30,0
001a0a f7e1      	BRNE _0x401A6
                 ; 0002 048D           #endif
                 ; 0002 048E           //puthexchars(g_txBuf[1]);//Serial.println((spi_transaction(0x28, lineaddr >> 9, lineaddr / 2, 0) & 0xFF), HEX ...
                 ; 0002 048F           return FALSE;
                 _0x401A5:
001a0b e0e0      	LDI  R30,LOW(0)
001a0c c03a      	RJMP _0x20C001B
                 ; 0002 0490         }
                 ; 0002 0491       }
                 _0x4019C:
                 _0x4019A:
                 ; 0002 0492       lineaddr++;
001a0d 940e 30dc 	CALL SUBOPT_0x78
001a0f 940e 3060 	CALL SUBOPT_0x63
001a11 940e 30c9 	CALL SUBOPT_0x74
                 ; 0002 0493     }
001a13 5f2f      	SUBI R18,-1
001a14 cf61      	RJMP _0x4018A
                 _0x4018B:
                 ; 0002 0494 
                 ; 0002 0495     b = hexton(hextext_read_byte());  // chxsum
001a15 940e 3065 	CALL SUBOPT_0x64
001a17 940e 30c1 	CALL SUBOPT_0x72
                 ; 0002 0496     b = (b<<4) + hexton(hextext_read_byte());
001a19 93ef      	PUSH R30
001a1a 940e 3065 	CALL SUBOPT_0x64
001a1c 91af      	POP  R26
001a1d 940e 30d3 	CALL SUBOPT_0x76
                 ; 0002 0497     cksum += b;
                 ; 0002 0498     if (cksum != 0) {
001a1f f0a9      	BREQ _0x401A9
                 ; 0002 0499       error("Bad checksum: ");
001a20 940e 30b7 	CALL SUBOPT_0x6F
                 ; 0002 049A       #ifdef PRINT_DEBUG
                 ; 0002 049B       if(debug){
001a22 91e0 03af 	LDS  R30,_debug
001a24 30e0      	CPI  R30,0
001a25 f069      	BREQ _0x401AA
                 ; 0002 049C       printf("0x%x",cksum);
                +
001a26 e2e0     +LDI R30 , LOW ( 2 * _0x40000 + ( 144 ) )
001a27 e0f3     +LDI R31 , HIGH ( 2 * _0x40000 + ( 144 ) )
                 	__POINTW1FN _0x40000,144
001a28 93fa      	ST   -Y,R31
001a29 93ea      	ST   -Y,R30
001a2a 2fe3      	MOV  R30,R19
001a2b 940e 2f83 	CALL SUBOPT_0x3F
001a2d 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 049D       while(tx_counter);}
                 _0x401AB:
001a2f 91e0 0643 	LDS  R30,_tx_counter
001a31 30e0      	CPI  R30,0
001a32 f7e1      	BRNE _0x401AB
                 ; 0002 049E       #endif
                 ; 0002 049F       return FALSE;
                 _0x401AA:
001a33 e0e0      	LDI  R30,LOW(0)
001a34 c012      	RJMP _0x20C001B
                 ; 0002 04A0     }
                 ; 0002 04A1     if (hextext_read_byte() != '\r') {
                 _0x401A9:
001a35 940e 10de 	CALL _hextext_read_byte
001a37 30ed      	CPI  R30,LOW(0xD)
001a38 f021      	BREQ _0x401AE
                 ; 0002 04A2       error("No end of line");
001a39 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 04A3       return FALSE;
001a3b e0e0      	LDI  R30,LOW(0)
001a3c c00a      	RJMP _0x20C001B
                 ; 0002 04A4     }
                 ; 0002 04A5     if (hextext_read_byte() != '\n') {
                 _0x401AE:
001a3d 940e 10de 	CALL _hextext_read_byte
001a3f 30ea      	CPI  R30,LOW(0xA)
001a40 f021      	BREQ _0x401AF
                 ; 0002 04A6       error("No end of line");
001a41 940e 30ba 	CALL SUBOPT_0x70
                 ; 0002 04A7       return FALSE;
001a43 e0e0      	LDI  R30,LOW(0)
001a44 c002      	RJMP _0x20C001B
                 ; 0002 04A8     }
                 ; 0002 04A9   }
                 _0x401AF:
001a45 ce67      	RJMP _0x4017A
                 _0x4017C:
                 ; 0002 04AA   return TRUE;
001a46 e0e1      	LDI  R30,LOW(1)
                 _0x20C001B:
001a47 940e 3599 	CALL __LOADLOCR4
001a49 9628      	ADIW R28,8
001a4a 9508      	RET
                 ; 0002 04AB }
                 ; .FEND
                 ;
                 ;/*
                 ; * programmingFuses
                 ; * Program the fuse/lock bits
                 ; */
                 ;UCHAR programFuses (UCHAR *fuses,UCHAR *fusemask)
                 ; 0002 04B2 {
                 _programFuses:
                 ; .FSTART _programFuses
                 ; 0002 04B3   //SPI.setClockDivider(CLOCKSPEED_FUSES);
                 ; 0002 04B4 
                 ; 0002 04B5   UCHAR f;
                 ; 0002 04B6   #ifdef PRINT_DEBUG
                 ; 0002 04B7   if(debug){
001a4b 931a      	ST   -Y,R17
                 ;	*fuses -> Y+3
                 ;	*fusemask -> Y+1
                 ;	f -> R17
001a4c 91e0 03af 	LDS  R30,_debug
001a4e 30e0      	CPI  R30,0
001a4f f061      	BREQ _0x401B0
                 ; 0002 04B8   while(tx_counter);
                 _0x401B1:
001a50 91e0 0643 	LDS  R30,_tx_counter
001a52 30e0      	CPI  R30,0
001a53 f7e1      	BRNE _0x401B1
                 ; 0002 04B9   printf("\r\nSetting fuses");
                +
001a54 e3ea     +LDI R30 , LOW ( 2 * _0x40000 + ( 1706 ) )
001a55 e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1706 ) )
                 	__POINTW1FN _0x40000,1706
001a56 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 04BA   while(tx_counter);}
                 _0x401B4:
001a58 91e0 0643 	LDS  R30,_tx_counter
001a5a 30e0      	CPI  R30,0
001a5b f7e1      	BRNE _0x401B4
                 ; 0002 04BB   #endif
                 ; 0002 04BC   #ifdef PRINT_LCD
                 ; 0002 04BD   lcd_putsf_row(1,"Setting fuses");
                 _0x401B0:
001a5c e0e1      	LDI  R30,LOW(1)
001a5d 93ea      	ST   -Y,R30
                +
001a5e e3ec     +LDI R30 , LOW ( 2 * _0x40000 + ( 1708 ) )
001a5f e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1708 ) )
                 	__POINTW1FN _0x40000,1708
001a60 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 04BE   #endif
                 ; 0002 04BF   f = pgm_read_byte(&fuses[FUSE_LOW]) | ~pgm_read_byte(&fusemask[FUSE_LOW]);//0x00 | ~0x01=0xFE  = 0xFE
001a62 81eb      	LDD  R30,Y+3
001a63 81fc      	LDD  R31,Y+3+1
001a64 940e 30f0 	CALL SUBOPT_0x7B
001a66 93ef      	PUSH R30
001a67 81e9      	LDD  R30,Y+1
001a68 81fa      	LDD  R31,Y+1+1
001a69 940e 30f0 	CALL SUBOPT_0x7B
001a6b 95e0      	COM  R30
001a6c 91af      	POP  R26
001a6d 940e 30f5 	CALL SUBOPT_0x7C
                 ; 0002 04C0   if (pgm_read_byte(&fusemask[FUSE_LOW])) {
001a6f 940e 30f0 	CALL SUBOPT_0x7B
001a71 30e0      	CPI  R30,0
001a72 f099      	BREQ _0x401B7
                 ; 0002 04C1     #ifdef PRINT_DEBUG
                 ; 0002 04C2     if(debug){
001a73 91e0 03af 	LDS  R30,_debug
001a75 30e0      	CPI  R30,0
001a76 f051      	BREQ _0x401B8
                 ; 0002 04C3     printf("\r\n  Set Low Fuses to: 0x%02x",f);
                +
001a77 e4ea     +LDI R30 , LOW ( 2 * _0x40000 + ( 1722 ) )
001a78 e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1722 ) )
                 	__POINTW1FN _0x40000,1722
001a79 940e 30fa 	CALL SUBOPT_0x7D
001a7b 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 04C4     while(tx_counter);}
                 _0x401B9:
001a7d 91e0 0643 	LDS  R30,_tx_counter
001a7f 30e0      	CPI  R30,0
001a80 f7e1      	BRNE _0x401B9
                 ; 0002 04C5     #endif
                 ; 0002 04C6     AVR910_ResetTXData();
                 _0x401B8:
001a81 940e 0c4d 	CALL _AVR910_ResetTXData
                 ; 0002 04C7     FIFO_Write('f');//write low fuses
001a83 e6e6      	LDI  R30,LOW(102)
001a84 940e 30fe 	CALL SUBOPT_0x7E
                 ; 0002 04C8     FIFO_Write(f);
                 ; 0002 04C9     AVR910_Command();
                 ; 0002 04CA     AVR910_ResetTXData();
                 ; 0002 04CB   }
                 ; 0002 04CC   f = pgm_read_byte(&fuses[FUSE_HIGH]) | ~pgm_read_byte(&fusemask[FUSE_HIGH]);
                 _0x401B7:
001a86 81eb      	LDD  R30,Y+3
001a87 81fc      	LDD  R31,Y+3+1
001a88 940e 3108 	CALL SUBOPT_0x7F
001a8a 93ef      	PUSH R30
001a8b 81e9      	LDD  R30,Y+1
001a8c 81fa      	LDD  R31,Y+1+1
001a8d 940e 3108 	CALL SUBOPT_0x7F
001a8f 95e0      	COM  R30
001a90 91af      	POP  R26
001a91 940e 30f5 	CALL SUBOPT_0x7C
                 ; 0002 04CD   if (pgm_read_byte(&fusemask[FUSE_HIGH])) {
001a93 940e 3108 	CALL SUBOPT_0x7F
001a95 30e0      	CPI  R30,0
001a96 f099      	BREQ _0x401BC
                 ; 0002 04CE     #ifdef PRINT_DEBUG
                 ; 0002 04CF     if(debug){
001a97 91e0 03af 	LDS  R30,_debug
001a99 30e0      	CPI  R30,0
001a9a f051      	BREQ _0x401BD
                 ; 0002 04D0     printf("\r\n  Set High Fuse to: 0x%02x",f);
                +
001a9b e6e7     +LDI R30 , LOW ( 2 * _0x40000 + ( 1751 ) )
001a9c e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1751 ) )
                 	__POINTW1FN _0x40000,1751
001a9d 940e 30fa 	CALL SUBOPT_0x7D
001a9f 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 04D1     while(tx_counter);}
                 _0x401BE:
001aa1 91e0 0643 	LDS  R30,_tx_counter
001aa3 30e0      	CPI  R30,0
001aa4 f7e1      	BRNE _0x401BE
                 ; 0002 04D2     #endif
                 ; 0002 04D3     AVR910_ResetTXData();
                 _0x401BD:
001aa5 940e 0c4d 	CALL _AVR910_ResetTXData
                 ; 0002 04D4     FIFO_Write('n');//write high fuses
001aa7 e6ee      	LDI  R30,LOW(110)
001aa8 940e 30fe 	CALL SUBOPT_0x7E
                 ; 0002 04D5     FIFO_Write(f);
                 ; 0002 04D6     AVR910_Command();
                 ; 0002 04D7     AVR910_ResetTXData();
                 ; 0002 04D8   }
                 ; 0002 04D9   f = pgm_read_byte(&fuses[FUSE_EXT]) | ~pgm_read_byte(&fusemask[FUSE_EXT]);
                 _0x401BC:
001aaa 81eb      	LDD  R30,Y+3
001aab 81fc      	LDD  R31,Y+3+1
001aac 940e 310d 	CALL SUBOPT_0x80
001aae 93ef      	PUSH R30
001aaf 81e9      	LDD  R30,Y+1
001ab0 81fa      	LDD  R31,Y+1+1
001ab1 940e 310d 	CALL SUBOPT_0x80
001ab3 95e0      	COM  R30
001ab4 91af      	POP  R26
001ab5 940e 30f5 	CALL SUBOPT_0x7C
                 ; 0002 04DA   if (pgm_read_byte(&fusemask[FUSE_EXT])) {
001ab7 940e 310d 	CALL SUBOPT_0x80
001ab9 30e0      	CPI  R30,0
001aba f099      	BREQ _0x401C1
                 ; 0002 04DB     #ifdef PRINT_DEBUG
                 ; 0002 04DC     if(debug){
001abb 91e0 03af 	LDS  R30,_debug
001abd 30e0      	CPI  R30,0
001abe f051      	BREQ _0x401C2
                 ; 0002 04DD     printf("\r\n  Set Ext Fuse to: 0x%02x",f);
                +
001abf e8e4     +LDI R30 , LOW ( 2 * _0x40000 + ( 1780 ) )
001ac0 e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1780 ) )
                 	__POINTW1FN _0x40000,1780
001ac1 940e 30fa 	CALL SUBOPT_0x7D
001ac3 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 04DE     while(tx_counter);}
                 _0x401C3:
001ac5 91e0 0643 	LDS  R30,_tx_counter
001ac7 30e0      	CPI  R30,0
001ac8 f7e1      	BRNE _0x401C3
                 ; 0002 04DF     #endif
                 ; 0002 04E0     AVR910_ResetTXData();
                 _0x401C2:
001ac9 940e 0c4d 	CALL _AVR910_ResetTXData
                 ; 0002 04E1     FIFO_Write('o');//write ext fuses
001acb e6ef      	LDI  R30,LOW(111)
001acc 940e 30fe 	CALL SUBOPT_0x7E
                 ; 0002 04E2     FIFO_Write(f);
                 ; 0002 04E3     AVR910_Command();
                 ; 0002 04E4     AVR910_ResetTXData();
                 ; 0002 04E5   }
                 ; 0002 04E6   f = pgm_read_byte(&fuses[FUSE_PROT]) | ~pgm_read_byte(&fusemask[FUSE_PROT]); //used when hex in flash
                 _0x401C1:
001ace 81eb      	LDD  R30,Y+3
001acf 81fc      	LDD  R31,Y+3+1
001ad0 940e 3112 	CALL SUBOPT_0x81
001ad2 93ef      	PUSH R30
001ad3 940e 2e8e 	CALL SUBOPT_0x20
001ad5 940e 10da 	CALL _pgm_read_byte
001ad7 95e0      	COM  R30
001ad8 91af      	POP  R26
001ad9 2bea      	OR   R30,R26
001ada 2f1e      	MOV  R17,R30
                 ; 0002 04E7   if (pgm_read_byte(&fusemask[FUSE_PROT])) {
001adb 940e 2e8e 	CALL SUBOPT_0x20
001add 940e 10da 	CALL _pgm_read_byte
001adf 30e0      	CPI  R30,0
001ae0 f099      	BREQ _0x401C6
                 ; 0002 04E8     #ifdef PRINT_DEBUG
                 ; 0002 04E9     if(debug){
001ae1 91e0 03af 	LDS  R30,_debug
001ae3 30e0      	CPI  R30,0
001ae4 f051      	BREQ _0x401C7
                 ; 0002 04EA     printf("\r\n  Set Lock Fuse to: 0x%02x",f);
                +
001ae5 eae0     +LDI R30 , LOW ( 2 * _0x40000 + ( 1808 ) )
001ae6 e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1808 ) )
                 	__POINTW1FN _0x40000,1808
001ae7 940e 30fa 	CALL SUBOPT_0x7D
001ae9 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 04EB     while(tx_counter);}
                 _0x401C8:
001aeb 91e0 0643 	LDS  R30,_tx_counter
001aed 30e0      	CPI  R30,0
001aee f7e1      	BRNE _0x401C8
                 ; 0002 04EC     #endif
                 ; 0002 04ED     AVR910_ResetTXData();
                 _0x401C7:
001aef 940e 0c4d 	CALL _AVR910_ResetTXData
                 ; 0002 04EE     FIFO_Write('l');//write lock fuses
001af1 e6ec      	LDI  R30,LOW(108)
001af2 940e 30fe 	CALL SUBOPT_0x7E
                 ; 0002 04EF     FIFO_Write(f);
                 ; 0002 04F0     AVR910_Command();
                 ; 0002 04F1     AVR910_ResetTXData();
                 ; 0002 04F2   }
                 ; 0002 04F3   return TRUE;			/* */
                 _0x401C6:
001af4 e0e1      	LDI  R30,LOW(1)
001af5 8118      	LDD  R17,Y+0
001af6 9625      	ADIW R28,5
001af7 9508      	RET
                 ; 0002 04F4 }
                 ; .FEND
                 ;/*
                 ; * verifyFuses
                 ; * Verifies a fuse set
                 ; */
                 ;UCHAR verifyFuses (UCHAR *fuses, UCHAR *fusemask)
                 ; 0002 04FA {
                 _verifyFuses:
                 ; .FSTART _verifyFuses
                 ; 0002 04FB   //SPI.setClockDivider(CLOCKSPEED_FUSES);
                 ; 0002 04FC   UCHAR f;
                 ; 0002 04FD   UCHAR readfuse;
                 ; 0002 04FE   #ifdef PRINT_DEBUG
                 ; 0002 04FF   if(debug){
001af8 931a      	ST   -Y,R17
001af9 930a      	ST   -Y,R16
                 ;	*fuses -> Y+4
                 ;	*fusemask -> Y+2
                 ;	f -> R17
                 ;	readfuse -> R16
001afa 91e0 03af 	LDS  R30,_debug
001afc 30e0      	CPI  R30,0
001afd f041      	BREQ _0x401CB
                 ; 0002 0500   printf("\r\nVerifying fuses...");
                +
001afe ebed     +LDI R30 , LOW ( 2 * _0x40000 + ( 1837 ) )
001aff e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1837 ) )
                 	__POINTW1FN _0x40000,1837
001b00 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0002 0501   while(tx_counter);}
                 _0x401CC:
001b02 91e0 0643 	LDS  R30,_tx_counter
001b04 30e0      	CPI  R30,0
001b05 f7e1      	BRNE _0x401CC
                 ; 0002 0502   #endif
                 ; 0002 0503   #ifdef PRINT_LCD
                 ; 0002 0504   lcd_putsf_row(1,"Verifying fuses.");
                 _0x401CB:
001b06 e0e1      	LDI  R30,LOW(1)
001b07 93ea      	ST   -Y,R30
                +
001b08 ede2     +LDI R30 , LOW ( 2 * _0x40000 + ( 1858 ) )
001b09 e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1858 ) )
                 	__POINTW1FN _0x40000,1858
001b0a 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0002 0505   #endif
                 ; 0002 0506   f = pgm_read_byte(&fuses[FUSE_LOW]) | ~pgm_read_byte(&fusemask[FUSE_LOW]);
001b0c 81ec      	LDD  R30,Y+4
001b0d 81fd      	LDD  R31,Y+4+1
001b0e 940e 30f0 	CALL SUBOPT_0x7B
001b10 93ef      	PUSH R30
001b11 940e 3116 	CALL SUBOPT_0x82
001b13 95e0      	COM  R30
001b14 91af      	POP  R26
001b15 2bea      	OR   R30,R26
001b16 2f1e      	MOV  R17,R30
                 ; 0002 0507   if (pgm_read_byte(&fusemask[FUSE_LOW])) {
001b17 940e 3116 	CALL SUBOPT_0x82
001b19 30e0      	CPI  R30,0
001b1a f111      	BREQ _0x401CF
                 ; 0002 0508     AVR910_Standalone("F");  // low fuse
                +
001b1b eee3     +LDI R30 , LOW ( 2 * _0x40000 + ( 1875 ) )
001b1c e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1875 ) )
                 	__POINTW1FN _0x40000,1875
001b1d 940e 2fca 	CALL SUBOPT_0x4C
                 ; 0002 0509     readfuse=g_txBuf[0];
001b1f 9100 0300 	LDS  R16,_g_txBuf
                 ; 0002 050A     readfuse |= ~pgm_read_byte(&fusemask[FUSE_LOW]);
001b21 940e 3116 	CALL SUBOPT_0x82
001b23 940e 3119 	CALL SUBOPT_0x83
                 ; 0002 050B     #ifdef PRINT_DEBUG
                 ; 0002 050C     if(debug){
001b25 f081      	BREQ _0x401D0
                 ; 0002 050D     printf("\r\n  Low Fuse Writen: 0x%02x",f); printf("\r\n  Low Fuse Readed: 0x%02x",readfuse);
                +
001b26 eee5     +LDI R30 , LOW ( 2 * _0x40000 + ( 1877 ) )
001b27 e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1877 ) )
                 	__POINTW1FN _0x40000,1877
001b28 940e 30fa 	CALL SUBOPT_0x7D
001b2a 940e 2f8e 	CALL SUBOPT_0x41
                +
001b2c e0e1     +LDI R30 , LOW ( 2 * _0x40000 + ( 1905 ) )
001b2d e0fa     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1905 ) )
                 	__POINTW1FN _0x40000,1905
001b2e 940e 311f 	CALL SUBOPT_0x84
001b30 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 050E     while(tx_counter);}
                 _0x401D1:
001b32 91e0 0643 	LDS  R30,_tx_counter
001b34 30e0      	CPI  R30,0
001b35 f7e1      	BRNE _0x401D1
                 ; 0002 050F     #endif
                 ; 0002 0510     if (readfuse != f)
                 _0x401D0:
001b36 1710      	CP   R17,R16
001b37 f029      	BREQ _0x401D4
                 ; 0002 0511       return FALSE;
001b38 e0e0      	LDI  R30,LOW(0)
001b39 8119      	LDD  R17,Y+1
001b3a 8108      	LDD  R16,Y+0
001b3b 940c 1f8d 	JMP  _0x20C0016
                 ; 0002 0512   }
                 _0x401D4:
                 ; 0002 0513   f = pgm_read_byte(&fuses[FUSE_HIGH]) | ~pgm_read_byte(&fusemask[FUSE_HIGH]);
                 _0x401CF:
001b3d 81ec      	LDD  R30,Y+4
001b3e 81fd      	LDD  R31,Y+4+1
001b3f 940e 3108 	CALL SUBOPT_0x7F
001b41 93ef      	PUSH R30
001b42 940e 3123 	CALL SUBOPT_0x85
001b44 95e0      	COM  R30
001b45 91af      	POP  R26
001b46 2bea      	OR   R30,R26
001b47 2f1e      	MOV  R17,R30
                 ; 0002 0514   if (pgm_read_byte(&fusemask[FUSE_HIGH])) {
001b48 940e 3123 	CALL SUBOPT_0x85
001b4a 30e0      	CPI  R30,0
001b4b f111      	BREQ _0x401D5
                 ; 0002 0515     AVR910_Standalone("N"); // high fuse
                +
001b4c e1ed     +LDI R30 , LOW ( 2 * _0x40000 + ( 1933 ) )
001b4d e0fa     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1933 ) )
                 	__POINTW1FN _0x40000,1933
001b4e 940e 2fca 	CALL SUBOPT_0x4C
                 ; 0002 0516     readfuse=g_txBuf[0];
001b50 9100 0300 	LDS  R16,_g_txBuf
                 ; 0002 0517     readfuse |= ~pgm_read_byte(&fusemask[FUSE_HIGH]);
001b52 940e 3123 	CALL SUBOPT_0x85
001b54 940e 3119 	CALL SUBOPT_0x83
                 ; 0002 0518     #ifdef PRINT_DEBUG
                 ; 0002 0519     if(debug){
001b56 f081      	BREQ _0x401D6
                 ; 0002 051A     printf("\r\n  High Fuse Writen: 0x%02x",f); printf("\r\n  High Fuse Readed: 0x%02x",readfuse);
                +
001b57 e1ef     +LDI R30 , LOW ( 2 * _0x40000 + ( 1935 ) )
001b58 e0fa     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1935 ) )
                 	__POINTW1FN _0x40000,1935
001b59 940e 30fa 	CALL SUBOPT_0x7D
001b5b 940e 2f8e 	CALL SUBOPT_0x41
                +
001b5d e3ec     +LDI R30 , LOW ( 2 * _0x40000 + ( 1964 ) )
001b5e e0fa     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1964 ) )
                 	__POINTW1FN _0x40000,1964
001b5f 940e 311f 	CALL SUBOPT_0x84
001b61 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 051B     while(tx_counter);}
                 _0x401D7:
001b63 91e0 0643 	LDS  R30,_tx_counter
001b65 30e0      	CPI  R30,0
001b66 f7e1      	BRNE _0x401D7
                 ; 0002 051C     #endif
                 ; 0002 051D     if (readfuse != f)
                 _0x401D6:
001b67 1710      	CP   R17,R16
001b68 f029      	BREQ _0x401DA
                 ; 0002 051E       return FALSE;
001b69 e0e0      	LDI  R30,LOW(0)
001b6a 8119      	LDD  R17,Y+1
001b6b 8108      	LDD  R16,Y+0
001b6c 940c 1f8d 	JMP  _0x20C0016
                 ; 0002 051F   }
                 _0x401DA:
                 ; 0002 0520   f = pgm_read_byte(&fuses[FUSE_EXT]) | ~pgm_read_byte(&fusemask[FUSE_EXT]);
                 _0x401D5:
001b6e 81ec      	LDD  R30,Y+4
001b6f 81fd      	LDD  R31,Y+4+1
001b70 940e 310d 	CALL SUBOPT_0x80
001b72 93ef      	PUSH R30
001b73 940e 3126 	CALL SUBOPT_0x86
001b75 95e0      	COM  R30
001b76 91af      	POP  R26
001b77 2bea      	OR   R30,R26
001b78 2f1e      	MOV  R17,R30
                 ; 0002 0521   if (pgm_read_byte(&fusemask[FUSE_EXT])) {
001b79 940e 3126 	CALL SUBOPT_0x86
001b7b 30e0      	CPI  R30,0
001b7c f111      	BREQ _0x401DB
                 ; 0002 0522     AVR910_Standalone("O"); // ext fuse
                +
001b7d e5e9     +LDI R30 , LOW ( 2 * _0x40000 + ( 1993 ) )
001b7e e0fa     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1993 ) )
                 	__POINTW1FN _0x40000,1993
001b7f 940e 2fca 	CALL SUBOPT_0x4C
                 ; 0002 0523     readfuse=g_txBuf[0];
001b81 9100 0300 	LDS  R16,_g_txBuf
                 ; 0002 0524     readfuse |= ~pgm_read_byte(&fusemask[FUSE_EXT]);
001b83 940e 3126 	CALL SUBOPT_0x86
001b85 940e 3119 	CALL SUBOPT_0x83
                 ; 0002 0525     #ifdef PRINT_DEBUG
                 ; 0002 0526     if(debug){
001b87 f081      	BREQ _0x401DC
                 ; 0002 0527     printf("\r\n  Ext Fuse Writen: 0x%02x",f); printf("\r\n  Ext Fuse Readed: 0x%02x",readfuse);
                +
001b88 e5eb     +LDI R30 , LOW ( 2 * _0x40000 + ( 1995 ) )
001b89 e0fa     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1995 ) )
                 	__POINTW1FN _0x40000,1995
001b8a 940e 30fa 	CALL SUBOPT_0x7D
001b8c 940e 2f8e 	CALL SUBOPT_0x41
                +
001b8e e7e7     +LDI R30 , LOW ( 2 * _0x40000 + ( 2023 ) )
001b8f e0fa     +LDI R31 , HIGH ( 2 * _0x40000 + ( 2023 ) )
                 	__POINTW1FN _0x40000,2023
001b90 940e 311f 	CALL SUBOPT_0x84
001b92 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 0528     while(tx_counter);}
                 _0x401DD:
001b94 91e0 0643 	LDS  R30,_tx_counter
001b96 30e0      	CPI  R30,0
001b97 f7e1      	BRNE _0x401DD
                 ; 0002 0529     #endif
                 ; 0002 052A     if (readfuse != f)
                 _0x401DC:
001b98 1710      	CP   R17,R16
001b99 f029      	BREQ _0x401E0
                 ; 0002 052B       return FALSE;
001b9a e0e0      	LDI  R30,LOW(0)
001b9b 8119      	LDD  R17,Y+1
001b9c 8108      	LDD  R16,Y+0
001b9d 940c 1f8d 	JMP  _0x20C0016
                 ; 0002 052C   }
                 _0x401E0:
                 ; 0002 052D   f = pgm_read_byte(&fuses[FUSE_PROT]) | ~pgm_read_byte(&fusemask[FUSE_PROT]);
                 _0x401DB:
001b9f 81ec      	LDD  R30,Y+4
001ba0 81fd      	LDD  R31,Y+4+1
001ba1 940e 3112 	CALL SUBOPT_0x81
001ba3 93ef      	PUSH R30
001ba4 940e 3129 	CALL SUBOPT_0x87
001ba6 95e0      	COM  R30
001ba7 91af      	POP  R26
001ba8 2bea      	OR   R30,R26
001ba9 2f1e      	MOV  R17,R30
                 ; 0002 052E   if (pgm_read_byte(&fusemask[FUSE_PROT])) {
001baa 940e 3129 	CALL SUBOPT_0x87
001bac 30e0      	CPI  R30,0
001bad f111      	BREQ _0x401E1
                 ; 0002 052F     AVR910_Standalone("Q");  // lock fuse
                +
001bae e9e3     +LDI R30 , LOW ( 2 * _0x40000 + ( 2051 ) )
001baf e0fa     +LDI R31 , HIGH ( 2 * _0x40000 + ( 2051 ) )
                 	__POINTW1FN _0x40000,2051
001bb0 940e 2fca 	CALL SUBOPT_0x4C
                 ; 0002 0530     readfuse=g_txBuf[0];
001bb2 9100 0300 	LDS  R16,_g_txBuf
                 ; 0002 0531     readfuse |= ~pgm_read_byte(&fusemask[FUSE_PROT]);
001bb4 940e 3129 	CALL SUBOPT_0x87
001bb6 940e 3119 	CALL SUBOPT_0x83
                 ; 0002 0532     #ifdef PRINT_DEBUG
                 ; 0002 0533     if(debug){
001bb8 f081      	BREQ _0x401E2
                 ; 0002 0534     printf("\r\n  Lock Fuse Writen: 0x%02x",f); printf("\r\n  Lock Fuse Readed: 0x%02x",readfuse);
                +
001bb9 e9e5     +LDI R30 , LOW ( 2 * _0x40000 + ( 2053 ) )
001bba e0fa     +LDI R31 , HIGH ( 2 * _0x40000 + ( 2053 ) )
                 	__POINTW1FN _0x40000,2053
001bbb 940e 30fa 	CALL SUBOPT_0x7D
001bbd 940e 2f8e 	CALL SUBOPT_0x41
                +
001bbf ebe2     +LDI R30 , LOW ( 2 * _0x40000 + ( 2082 ) )
001bc0 e0fa     +LDI R31 , HIGH ( 2 * _0x40000 + ( 2082 ) )
                 	__POINTW1FN _0x40000,2082
001bc1 940e 311f 	CALL SUBOPT_0x84
001bc3 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0002 0535     while(tx_counter);}
                 _0x401E3:
001bc5 91e0 0643 	LDS  R30,_tx_counter
001bc7 30e0      	CPI  R30,0
001bc8 f7e1      	BRNE _0x401E3
                 ; 0002 0536     #endif
                 ; 0002 0537     if (readfuse != f)
                 _0x401E2:
001bc9 1710      	CP   R17,R16
001bca f029      	BREQ _0x401E6
                 ; 0002 0538       return FALSE;
001bcb e0e0      	LDI  R30,LOW(0)
001bcc 8119      	LDD  R17,Y+1
001bcd 8108      	LDD  R16,Y+0
001bce 940c 1f8d 	JMP  _0x20C0016
                 ; 0002 0539   }
                 _0x401E6:
                 ; 0002 053A   return TRUE;			/* */
                 _0x401E1:
001bd0 e0e1      	LDI  R30,LOW(1)
001bd1 8119      	LDD  R17,Y+1
001bd2 8108      	LDD  R16,Y+0
001bd3 940c 1f8d 	JMP  _0x20C0016
                 ; 0002 053B }
                 ; .FEND
                 ;#include "common.h"
                 	#ifndef __SLEEP_DEFINED__
                 	#endif
                 ;
                 ;const unsigned char roll[] =
                 ;
                 ;          { 0xE9, 0x79, 0x25, 0x54, 0x88, 0xDF, 0xA5, 0xB9, 0xF6, 0xC2,
                 ;            0xAB, 0xFC, 0xB3, 0xB1, 0x37, 0xE1, 0x83, 0xD5, 0x97, 0x04,
                 ;            0x38, 0xFE, 0x99, 0x26, 0xE4, 0x8E, 0x4B, 0xF7, 0x04, 0xC5,
                 ;            0xA5, 0x1F, 0x88, 0x68, 0xEF, 0x1D, 0x39, 0xBC, 0x62, 0xD8,
                 ;            0x63, 0x0F, 0x6A, 0xA5, 0x12, 0xAA, 0xE5, 0x8C, 0x75, 0x36,
                 ;            0xBA, 0x81, 0x8F, 0x30, 0x3D, 0xEB, 0xE0, 0xFE, 0x70, 0xFA,
                 ;            0x94, 0xAE, 0xB5, 0x31 };
                 ;#ifdef PETITFATFS
                 ;/* MMC/SD/SD HC card support */
                 ;#include "mmc.h"
                 ;/* PETIT FATFS support */
                 ;#include "pff.h"
                 ;#endif
                 ;
                 ;/* sprintf */
                 ;#include <stdio.h>
                 ;/* string functions */
                 ;#include <string.h>
                 ;/* Timer1 overflow interrupt frequency [Hz] */
                 ;#define T1_OVF_FREQ 100
                 ;/* Timer1 clock prescaler value */
                 ;#define T1_PRESC 1024L
                 ;/* Timer1 initialization value after overflow */
                 ;#define T1_INIT (0x10000L-(_MCU_CLOCK_FREQUENCY_/(T1_PRESC*T1_OVF_FREQ)))
                 ;/* 100Hz timer interrupt generated by ATmega128 Timer1 overflow */
                 ;
                 ;volatile unsigned char CounterLed=0;
                 ;
                 ;interrupt [TIM1_OVF] void timer_comp_isr(void)
                 ; 0003 0022 {
                 
                 	.CSEG
                 _timer_comp_isr:
                 ; .FSTART _timer_comp_isr
001bd5 93aa      	ST   -Y,R26
001bd6 93ea      	ST   -Y,R30
001bd7 b7ef      	IN   R30,SREG
001bd8 93ea      	ST   -Y,R30
                 ; 0003 0023     /* re-initialize Timer1 */
                 ; 0003 0024     TCNT1H=T1_INIT>>8;
001bd9 940e 312c 	CALL SUBOPT_0x88
                 ; 0003 0025     TCNT1L=T1_INIT&0xFF;
                 ; 0003 0026     /* card access low level timing function */
                 ; 0003 0027     #ifndef PETITFATFS
                 ; 0003 0028     disk_timerproc();
                 ; 0003 0029     #endif
                 ; 0003 002A     /* the rest of the interrupt service routine */
                 ; 0003 002B     /* .... */
                 ; 0003 002C     if(StandaloneMode==IDLE){
001bdb 91e0 03ae 	LDS  R30,_StandaloneMode
001bdd 30e0      	CPI  R30,0
001bde f411      	BRNE _0x60003
                 ; 0003 002D         LED_PASS_OFF();
001bdf 9a29      	SBI  0x5,1
                 ; 0003 002E         LED_ERR_OFF();
001be0 c02c      	RJMP _0x600FD
                 ; 0003 002F     }
                 ; 0003 0030     else if(StandaloneMode==RUNNING)
                 _0x60003:
001be1 91a0 03ae 	LDS  R26,_StandaloneMode
001be3 30a3      	CPI  R26,LOW(0x3)
001be4 f141      	BREQ _0x600FD
                 ; 0003 0031         LED_ERR_OFF();
                 ; 0003 0032     else if(StandaloneMode==PASS){
001be5 91a0 03ae 	LDS  R26,_StandaloneMode
001be7 30a1      	CPI  R26,LOW(0x1)
001be8 f411      	BRNE _0x6000D
                 ; 0003 0033         LED_PASS_ON();
001be9 9829      	CBI  0x5,1
                 ; 0003 0034         LED_ERR_OFF();
001bea c022      	RJMP _0x600FD
                 ; 0003 0035     }
                 ; 0003 0036     else if(StandaloneMode==FAIL){
                 _0x6000D:
001beb 91a0 03ae 	LDS  R26,_StandaloneMode
001bed 30a2      	CPI  R26,LOW(0x2)
001bee f471      	BRNE _0x60013
                 ; 0003 0037         LED_PASS_OFF();
001bef 9a29      	SBI  0x5,1
                 ; 0003 0038         if(++CounterLed>=50){
001bf0 940e 2de9 	CALL SUBOPT_0x9
001bf2 33a2      	CPI  R26,LOW(0x32)
001bf3 f040      	BRLO _0x60016
                 ; 0003 0039             CounterLed=0;
001bf4 e0e0      	LDI  R30,LOW(0)
001bf5 93e0 0642 	STS  _CounterLed,R30
                 ; 0003 003A             LED_ERR_TGL();
001bf7 9b28      	SBIS 0x5,0
001bf8 c002      	RJMP _0x60017
001bf9 9828      	CBI  0x5,0
001bfa c001      	RJMP _0x60018
                 _0x60017:
001bfb 9a28      	SBI  0x5,0
                 _0x60018:
                 ; 0003 003B         }
                 ; 0003 003C     }
                 _0x60016:
                 ; 0003 003D     else if(StandaloneMode==SDFAIL){
001bfc c011      	RJMP _0x60019
                 _0x60013:
001bfd 91a0 03ae 	LDS  R26,_StandaloneMode
001bff 30a4      	CPI  R26,LOW(0x4)
001c00 f469      	BRNE _0x6001A
                 ; 0003 003E         LED_PASS_OFF();
001c01 9a29      	SBI  0x5,1
                 ; 0003 003F         if(++CounterLed>=100){
001c02 940e 2de9 	CALL SUBOPT_0x9
001c04 36a4      	CPI  R26,LOW(0x64)
001c05 f040      	BRLO _0x6001D
                 ; 0003 0040             CounterLed=0;
001c06 e0e0      	LDI  R30,LOW(0)
001c07 93e0 0642 	STS  _CounterLed,R30
                 ; 0003 0041             LED_ERR_TGL();
001c09 9b28      	SBIS 0x5,0
001c0a c002      	RJMP _0x6001E
001c0b 9828      	CBI  0x5,0
001c0c c001      	RJMP _0x6001F
                 _0x6001E:
                 _0x600FD:
001c0d 9a28      	SBI  0x5,0
                 _0x6001F:
                 ; 0003 0042         }
                 ; 0003 0043     }
                 _0x6001D:
                 ; 0003 0044 }
                 _0x6001A:
                 _0x60019:
001c0e 91e9      	LD   R30,Y+
001c0f bfef      	OUT  SREG,R30
001c10 91e9      	LD   R30,Y+
001c11 91a9      	LD   R26,Y+
001c12 9518      	RETI
                 ; .FEND
                 ;
                 ;/* error message list */
                 ;flash char * flash error_msg[]=
                 ;{
                 ;"", /* not used */
                 ;"FR_DISK_ERR",
                 ;"FR_INT_ERR",
                 ;"FR_NOT_READY",
                 ;"FR_NO_FILE",
                 ;"FR_NO_PATH",
                 ;"FR_INVALID_NAME",
                 ;"FR_DENIED",
                 ;"FR_EXIST",
                 ;"FR_INVALID_OBJECT",
                 ;"FR_WRITE_PROTECTED",
                 ;"FR_INVALID_DRIVE",
                 ;"FR_NOT_ENABLED",
                 ;"FR_NO_FILESYSTEM",
                 ;"FR_MKFS_ABORTED",
                 ;"FR_TIMEOUT"
                 ;};
                 ;
                 ;// Declare your global variables here
                 ;/* FAT function result */
                 ;FRESULT res;
                 ;/* number of bytes written/read to the file */
                 ;UINT nbytes,nbytesCounter;
                 ;//ULONG nSector;
                 ;/* will hold the information for logical drive 0: */
                 ;#ifndef PETITFATFS
                 ;FATFS fat;
                 ;/* will hold the file information */
                 ;FIL file;
                 ;/* will hold the file information */
                 ;FILINFO fno;
                 ;#else
                 ;FATFS fs;          /* Work area (file system object) for the volume */
                 ;#endif
                 ;
                 ;/* file path */
                 ;char path[]="0:/10/file1234.txt";
                 
                 	.DSEG
                 ;/* file read buffer */
                 ;unsigned char buffer[512];//;
                 ;
                 ;void init_sd_tim1(void)
                 ; 0003 0072 {
                 
                 	.CSEG
                 _init_sd_tim1:
                 ; .FSTART _init_sd_tim1
                 ; 0003 0073 /* initialize Timer1 overflow interrupts in Mode 0 (Normal) */
                 ; 0003 0074     TCCR1A=0x00;
001c13 e0e0      	LDI  R30,LOW(0)
001c14 93e0 0080 	STS  128,R30
                 ; 0003 0075     /* clkio/1024 */
                 ; 0003 0076     TCCR1B=(1<<CS12)|(1<<CS10);
001c16 e0e5      	LDI  R30,LOW(5)
001c17 93e0 0081 	STS  129,R30
                 ; 0003 0077     /* timer overflow interrupts will occur with 100Hz frequency */
                 ; 0003 0078     TCNT1H=T1_INIT>>8;
001c19 940e 312c 	CALL SUBOPT_0x88
                 ; 0003 0079     TCNT1L=T1_INIT&0xFF;
                 ; 0003 007A     /* enable Timer1 overflow interrupt */
                 ; 0003 007B     #ifdef _MEGA64_INCLUDED_
                 ; 0003 007C     TIMSK=1<<TOIE1;
                 ; 0003 007D     #else
                 ; 0003 007E     TIMSK1=1<<TOIE1;
001c1b e0e1      	LDI  R30,LOW(1)
001c1c 93e0 006f 	STS  111,R30
                 ; 0003 007F     #endif
                 ; 0003 0080 }
001c1e 9508      	RET
                 ; .FEND
                 ;/* display error message and stop */
                 ;void RESerror(FRESULT res)
                 ; 0003 0083 {
                 _RESerror:
                 ; .FSTART _RESerror
                 ; 0003 0084     if(res!=0)
                 ;	res -> Y+0
001c1f 81e8      	LD   R30,Y
001c20 30e0      	CPI  R30,0
001c21 f019      	BREQ _0x60021
                 ; 0003 0085         StandaloneMode=SDFAIL;
001c22 e0e4      	LDI  R30,LOW(4)
001c23 93e0 03ae 	STS  _StandaloneMode,R30
                 ; 0003 0086     #ifdef PRINT_DEBUG
                 ; 0003 0087     if(debug){
                 _0x60021:
001c25 91e0 03af 	LDS  R30,_debug
001c27 30e0      	CPI  R30,0
001c28 f0a1      	BREQ _0x60022
                 ; 0003 0088         while(tx_counter);
                 _0x60023:
001c29 91e0 0643 	LDS  R30,_tx_counter
001c2b 30e0      	CPI  R30,0
001c2c f7e1      	BRNE _0x60023
                 ; 0003 0089     #ifdef PETITFATFS
                 ; 0003 008A     //if ((res>=FR_DISK_ERR) && (res<=FR_NO_FILESYSTEM))
                 ; 0003 008B     #else
                 ; 0003 008C     //if ((res>=FR_DISK_ERR) &&(res<=FR_TIMEOUT))
                 ; 0003 008D     #endif
                 ; 0003 008E        printf("\r\nERROR %d: %p",res, error_msg[res]);
                +
001c2d ebe1     +LDI R30 , LOW ( 2 * _0x60000 + ( 207 ) )
001c2e e0fb     +LDI R31 , HIGH ( 2 * _0x60000 + ( 207 ) )
                 	__POINTW1FN _0x60000,207
001c2f 93fa      	ST   -Y,R31
001c30 93ea      	ST   -Y,R30
001c31 81ea      	LDD  R30,Y+2
001c32 940e 2f97 	CALL SUBOPT_0x43
001c34 81ee      	LDD  R30,Y+6
001c35 940e 3133 	CALL SUBOPT_0x89
001c37 940e 313d 	CALL SUBOPT_0x8A
                 ; 0003 008F        while(tx_counter);}
                 _0x60026:
001c39 91e0 0643 	LDS  R30,_tx_counter
001c3b 30e0      	CPI  R30,0
001c3c f7e1      	BRNE _0x60026
                 ; 0003 0090     #endif
                 ; 0003 0091     #ifdef PRINT_LCD
                 ; 0003 0092     lcd_putsf_row(1,error_msg[res]);
                 _0x60022:
001c3d e0e1      	LDI  R30,LOW(1)
001c3e 93ea      	ST   -Y,R30
001c3f 81e9      	LDD  R30,Y+1
001c40 940e 3133 	CALL SUBOPT_0x89
001c42 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0003 0093     #endif
                 ; 0003 0094 /* stop here */
                 ; 0003 0095 //while(1);
                 ; 0003 0096 }
001c44 940c 202f 	JMP  _0x20C0014
                 ; .FEND
                 ;
                 ;UCHAR sd_mount(void)
                 ; 0003 0099 {
                 _sd_mount:
                 ; .FSTART _sd_mount
                 ; 0003 009A     UCHAR retry=3;
                 ; 0003 009B     while(retry)
001c46 931a      	ST   -Y,R17
                 ;	retry -> R17
001c47 e013      	LDI  R17,3
                 _0x60029:
001c48 3010      	CPI  R17,0
001c49 f409      	BRNE PC+2
001c4a c085      	RJMP _0x6002B
                 ; 0003 009C     {
                 ; 0003 009D         retry--;
001c4b 5011      	SUBI R17,1
                 ; 0003 009E         /* initialize SPI interface and card driver */
                 ; 0003 009F         #ifdef PETITFATFS
                 ; 0003 00A0         if((res=disk_initialize())!=0){
001c4c 940e 207e 	CALL _disk_initialize
001c4e 93e0 081e 	STS  _res,R30
001c50 30e0      	CPI  R30,0
001c51 f409      	BRNE PC+2
001c52 c05b      	RJMP _0x6002C
                 ; 0003 00A1         #else
                 ; 0003 00A2         if((res=disk_initialize(0))!=0){//0=DRIVE NUMBER
                 ; 0003 00A3         #endif
                 ; 0003 00A4             #ifdef PRINT_DEBUG
                 ; 0003 00A5                 if(debug){
001c53 91e0 03af 	LDS  R30,_debug
001c55 30e0      	CPI  R30,0
001c56 f161      	BREQ _0x6002D
                 ; 0003 00A6                 while(tx_counter);
                 _0x6002E:
001c57 91e0 0643 	LDS  R30,_tx_counter
001c59 30e0      	CPI  R30,0
001c5a f7e1      	BRNE _0x6002E
                 ; 0003 00A7                 printf("\r\nSPI Init Failed. Return status %d.\r\n",res);
                +
001c5b ece0     +LDI R30 , LOW ( 2 * _0x60000 + ( 222 ) )
001c5c e0fb     +LDI R31 , HIGH ( 2 * _0x60000 + ( 222 ) )
                 	__POINTW1FN _0x60000,222
001c5d 93fa      	ST   -Y,R31
001c5e 93ea      	ST   -Y,R30
001c5f 91e0 081e 	LDS  R30,_res
001c61 940e 2f97 	CALL SUBOPT_0x43
001c63 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0003 00A8                 if (res & STA_NOINIT) printf("Disk init failed");
001c65 91e0 081e 	LDS  R30,_res
001c67 70e1      	ANDI R30,LOW(0x1)
001c68 f019      	BREQ _0x60031
                +
001c69 eee7     +LDI R30 , LOW ( 2 * _0x60000 + ( 261 ) )
001c6a e0fb     +LDI R31 , HIGH ( 2 * _0x60000 + ( 261 ) )
                 	__POINTW1FN _0x60000,261
001c6b c00d      	RJMP _0x600FE
                 ; 0003 00A9                 else
                 _0x60031:
                 ; 0003 00AA                 if (res & STA_NODISK) printf("Card not present");
001c6c 91e0 081e 	LDS  R30,_res
001c6e 70e2      	ANDI R30,LOW(0x2)
001c6f f019      	BREQ _0x60033
                +
001c70 efe8     +LDI R30 , LOW ( 2 * _0x60000 + ( 278 ) )
001c71 e0fb     +LDI R31 , HIGH ( 2 * _0x60000 + ( 278 ) )
                 	__POINTW1FN _0x60000,278
001c72 c006      	RJMP _0x600FE
                 ; 0003 00AB                 else
                 _0x60033:
                 ; 0003 00AC                 if (res & STA_PROTECT) printf("Card write\nprotected");
001c73 91e0 081e 	LDS  R30,_res
001c75 70e3      	ANDI R30,LOW(0x3)
001c76 f041      	BREQ _0x60035
                +
001c77 e0e9     +LDI R30 , LOW ( 2 * _0x60000 + ( 295 ) )
001c78 e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 295 ) )
                 	__POINTW1FN _0x60000,295
                 _0x600FE:
001c79 93fa      	ST   -Y,R31
001c7a 93ea      	ST   -Y,R30
001c7b e080      	LDI  R24,0
001c7c 940e 2cdc 	CALL _printf
001c7e 9622      	ADIW R28,2
                 ; 0003 00AD                 while(tx_counter);}
                 _0x60035:
                 _0x60036:
001c7f 91e0 0643 	LDS  R30,_tx_counter
001c81 30e0      	CPI  R30,0
001c82 f7e1      	BRNE _0x60036
                 ; 0003 00AE             #endif
                 ; 0003 00AF             #ifdef PRINT_LCD
                 ; 0003 00B0                 if (res & STA_NOINIT) lcd_putsf_row(1,"Disk init failed");
                 _0x6002D:
001c83 91e0 081e 	LDS  R30,_res
001c85 70e1      	ANDI R30,LOW(0x1)
001c86 f029      	BREQ _0x60039
001c87 e0e1      	LDI  R30,LOW(1)
001c88 93ea      	ST   -Y,R30
                +
001c89 eee7     +LDI R30 , LOW ( 2 * _0x60000 + ( 261 ) )
001c8a e0fb     +LDI R31 , HIGH ( 2 * _0x60000 + ( 261 ) )
                 	__POINTW1FN _0x60000,261
001c8b c011      	RJMP _0x600FF
                 ; 0003 00B1                 else
                 _0x60039:
                 ; 0003 00B2                 if (res & STA_NODISK) lcd_putsf_row(1,"Card not present");
001c8c 91e0 081e 	LDS  R30,_res
001c8e 70e2      	ANDI R30,LOW(0x2)
001c8f f029      	BREQ _0x6003B
001c90 e0e1      	LDI  R30,LOW(1)
001c91 93ea      	ST   -Y,R30
                +
001c92 efe8     +LDI R30 , LOW ( 2 * _0x60000 + ( 278 ) )
001c93 e0fb     +LDI R31 , HIGH ( 2 * _0x60000 + ( 278 ) )
                 	__POINTW1FN _0x60000,278
001c94 c008      	RJMP _0x600FF
                 ; 0003 00B3                 else
                 _0x6003B:
                 ; 0003 00B4                 if (res & STA_PROTECT) lcd_putsf_row(1,"Card write prot");
001c95 91e0 081e 	LDS  R30,_res
001c97 70e3      	ANDI R30,LOW(0x3)
001c98 f041      	BREQ _0x6003D
001c99 e0e1      	LDI  R30,LOW(1)
001c9a 93ea      	ST   -Y,R30
                +
001c9b e1ee     +LDI R30 , LOW ( 2 * _0x60000 + ( 316 ) )
001c9c e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 316 ) )
                 	__POINTW1FN _0x60000,316
                 _0x600FF:
001c9d 93fa      	ST   -Y,R31
001c9e 93ea      	ST   -Y,R30
001c9f 940e 0a42 	CALL _lcd_putsf_row
                 ; 0003 00B5             #endif
                 ; 0003 00B6             if(retry){
                 _0x6003D:
001ca1 3010      	CPI  R17,0
001ca2 f009      	BREQ _0x6003E
                 ; 0003 00B7                 continue;
001ca3 cfa4      	RJMP _0x60029
                 ; 0003 00B8             }
                 ; 0003 00B9             else{
                 _0x6003E:
                 ; 0003 00BA                 delay_ms(1000);
001ca4 eee8      	LDI  R30,LOW(1000)
001ca5 e0f3      	LDI  R31,HIGH(1000)
001ca6 940e 2e4c 	CALL SUBOPT_0x17
                 ; 0003 00BB                 StandaloneMode=SDFAIL;
001ca8 e0e4      	LDI  R30,LOW(4)
001ca9 93e0 03ae 	STS  _StandaloneMode,R30
                 ; 0003 00BC                 return FALSE;
001cab e0e0      	LDI  R30,LOW(0)
001cac 940c 2039 	JMP  _0x20C0013
                 ; 0003 00BD             }
                 ; 0003 00BE         }
                 ; 0003 00BF         /* mount logical drive 0: */
                 ; 0003 00C0         #ifdef PETITFATFS
                 ; 0003 00C1         if ((res=pf_mount(&fs))==FR_OK)
                 _0x6002C:
001cae e1e2      	LDI  R30,LOW(_fs)
001caf e0f4      	LDI  R31,HIGH(_fs)
001cb0 93fa      	ST   -Y,R31
001cb1 93ea      	ST   -Y,R30
001cb2 940e 255b 	CALL _pf_mount
001cb4 93e0 081e 	STS  _res,R30
001cb6 30e0      	CPI  R30,0
001cb7 f489      	BRNE _0x60040
                 ; 0003 00C2         #else
                 ; 0003 00C3         if((res=f_mount(0,&fat))==FR_OK)
                 ; 0003 00C4         #endif
                 ; 0003 00C5         {
                 ; 0003 00C6             #ifdef PRINT_DEBUG
                 ; 0003 00C7             if(debug){
001cb8 91e0 03af 	LDS  R30,_debug
001cba 30e0      	CPI  R30,0
001cbb f061      	BREQ _0x60041
                 ; 0003 00C8             while(tx_counter);
                 _0x60042:
001cbc 91e0 0643 	LDS  R30,_tx_counter
001cbe 30e0      	CPI  R30,0
001cbf f7e1      	BRNE _0x60042
                 ; 0003 00C9             printf("\r\nLogical drive 0: mounted OK\r\n");
                +
001cc0 e2ee     +LDI R30 , LOW ( 2 * _0x60000 + ( 332 ) )
001cc1 e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 332 ) )
                 	__POINTW1FN _0x60000,332
001cc2 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0003 00CA             while(tx_counter);}
                 _0x60045:
001cc4 91e0 0643 	LDS  R30,_tx_counter
001cc6 30e0      	CPI  R30,0
001cc7 f7e1      	BRNE _0x60045
                 ; 0003 00CB             #endif
                 ; 0003 00CC         }
                 _0x60041:
                 ; 0003 00CD         else{
001cc8 c004      	RJMP _0x60048
                 _0x60040:
                 ; 0003 00CE             if(retry)
001cc9 3010      	CPI  R17,0
001cca f009      	BREQ _0x60049
                 ; 0003 00CF                 continue;
001ccb cf7c      	RJMP _0x60029
                 ; 0003 00D0             else
                 _0x60049:
                 ; 0003 00D1                 /* an error occured, display it and stop */
                 ; 0003 00D2                 goto print_error;
001ccc c003      	RJMP _0x6004B
                 ; 0003 00D3         }
                 _0x60048:
                 ; 0003 00D4         return TRUE;
001ccd e0e1      	LDI  R30,LOW(1)
001cce 940c 2039 	JMP  _0x20C0013
                 ; 0003 00D5     }
                 _0x6002B:
                 ; 0003 00D6 print_error:
                 _0x6004B:
                 ; 0003 00D7     RESerror(res);
001cd0 940e 3140 	CALL SUBOPT_0x8B
                 ; 0003 00D8     return FALSE;
001cd2 e0e0      	LDI  R30,LOW(0)
001cd3 940c 2039 	JMP  _0x20C0013
                 ; 0003 00D9 }
                 ; .FEND
                 ;
                 ;char *GetRollCounter(flash char *Key)
                 ; 0003 00DC {
                 _GetRollCounter:
                 ; .FSTART _GetRollCounter
                 ; 0003 00DD     char *pvalue=NULL,*pkey;
                 ; 0003 00DE     UINT  i;//buffer index
                 ; 0003 00DF 
                 ; 0003 00E0     UCHAR retry=3;
                 ; 0003 00E1     UINT RollCounterToCheck;
                 ; 0003 00E2     debug=1;
001cd5 9723      	SBIW R28,3
001cd6 e0e3      	LDI  R30,LOW(3)
001cd7 83ea      	STD  Y+2,R30
001cd8 940e 3590 	CALL __SAVELOCR6
                 ;	*Key -> Y+9
                 ;	*pvalue -> R16,R17
                 ;	*pkey -> R18,R19
                 ;	i -> R20,R21
                 ;	retry -> Y+8
                 ;	RollCounterToCheck -> Y+6
                +
001cda e000     +LDI R16 , LOW ( 0 )
001cdb e010     +LDI R17 , HIGH ( 0 )
                 	__GETWRN 16,17,0
001cdc e0e1      	LDI  R30,LOW(1)
001cdd 93e0 03af 	STS  _debug,R30
                 ; 0003 00E3     buffer[nbytes]=NULL;
001cdf 940e 3145 	CALL SUBOPT_0x8C
001ce1 940e 314a 	CALL SUBOPT_0x8D
                 ; 0003 00E4     if((tmpimage.RollCounter+ROLL_WINDOW)>= ROLL_SIZE)
001ce3 940e 314f 	CALL SUBOPT_0x8E
001ce5 34e0      	CPI  R30,LOW(0x40)
001ce6 e0a0      	LDI  R26,HIGH(0x40)
001ce7 07fa      	CPC  R31,R26
001ce8 f01c      	BRLT _0x6004C
                 ; 0003 00E5         tmpimage.RollCounter=0;
001ce9 e0e0      	LDI  R30,LOW(0)
                +
001cea 93e0 040d+STS _tmpimage + ( 92 ) , R30
                 	__PUTB1MN _tmpimage,92
                 ; 0003 00E6     RollCounterToCheck=tmpimage.RollCounter;
                 _0x6004C:
                +
001cec 91e0 040d+LDS R30 , _tmpimage + ( 92 )
                 	__GETB1MN _tmpimage,92
001cee e0f0      	LDI  R31,0
001cef 83ee      	STD  Y+6,R30
001cf0 83ff      	STD  Y+6+1,R31
                 ; 0003 00E7     #ifdef PRINT_DEBUG
                 ; 0003 00E8     if(debug){
001cf1 91e0 03af 	LDS  R30,_debug
001cf3 30e0      	CPI  R30,0
001cf4 f091      	BREQ _0x6004D
                 ; 0003 00E9     while(tx_counter);
                 _0x6004E:
001cf5 91e0 0643 	LDS  R30,_tx_counter
001cf7 30e0      	CPI  R30,0
001cf8 f7e1      	BRNE _0x6004E
                 ; 0003 00EA     printf("\r\ntmpimage.RollCounter=%d, ",tmpimage.RollCounter);
                +
001cf9 e4ee     +LDI R30 , LOW ( 2 * _0x60000 + ( 364 ) )
001cfa e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 364 ) )
                 	__POINTW1FN _0x60000,364
001cfb 93fa      	ST   -Y,R31
001cfc 93ea      	ST   -Y,R30
                +
001cfd 91e0 040d+LDS R30 , _tmpimage + ( 92 )
                 	__GETB1MN _tmpimage,92
001cff 940e 2f83 	CALL SUBOPT_0x3F
001d01 940e 2f8e 	CALL SUBOPT_0x41
                 ; 0003 00EB     while(tx_counter);}
                 _0x60051:
001d03 91e0 0643 	LDS  R30,_tx_counter
001d05 30e0      	CPI  R30,0
001d06 f7e1      	BRNE _0x60051
                 ; 0003 00EC     #endif
                 ; 0003 00ED     if(fileOpen()==0)
                 _0x6004D:
001d07 d136      	RCALL _fileOpen
001d08 30e0      	CPI  R30,0
001d09 f409      	BRNE _0x60054
                 ; 0003 00EE         goto print_error;
001d0a c0f9      	RJMP _0x60055
                 ; 0003 00EF     SetConfigArea();
                 _0x60054:
001d0b d19d      	RCALL _SetConfigArea
                 ; 0003 00F0     #ifndef  PETITFATFS
                 ; 0003 00F1     res=f_read(&file,buffer,sizeof(buffer),&nbytes);
                 ; 0003 00F2     #else
                 ; 0003 00F3     res=pf_read(buffer,sizeof(buffer),&nbytes);
001d0c 940e 3154 	CALL SUBOPT_0x8F
001d0e 940e 3159 	CALL SUBOPT_0x90
                 ; 0003 00F4     #endif
                 ; 0003 00F5     if(res)
001d10 f009      	BREQ _0x60056
                 ; 0003 00F6         goto print_error;
001d11 c0f2      	RJMP _0x60055
                 ; 0003 00F7     while(RollCounterToCheck < (tmpimage.RollCounter+ROLL_WINDOW))
                 _0x60056:
                 _0x60057:
001d12 940e 314f 	CALL SUBOPT_0x8E
001d14 81ae      	LDD  R26,Y+6
001d15 81bf      	LDD  R27,Y+6+1
001d16 17ae      	CP   R26,R30
001d17 07bf      	CPC  R27,R31
001d18 f008      	BRLO PC+2
001d19 c080      	RJMP _0x60059
                 ; 0003 00F8     {
                 ; 0003 00F9         #ifdef PRINT_DEBUG
                 ; 0003 00FA         if(debug){
001d1a 91e0 03af 	LDS  R30,_debug
001d1c 30e0      	CPI  R30,0
001d1d f071      	BREQ _0x6005A
                 ; 0003 00FB         while(tx_counter);
                 _0x6005B:
001d1e 91e0 0643 	LDS  R30,_tx_counter
001d20 30e0      	CPI  R30,0
001d21 f7e1      	BRNE _0x6005B
                 ; 0003 00FC         printf("\r\nRollCounterToCheck=%d, ",RollCounterToCheck);
                +
001d22 e6ea     +LDI R30 , LOW ( 2 * _0x60000 + ( 392 ) )
001d23 e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 392 ) )
                 	__POINTW1FN _0x60000,392
001d24 940e 3167 	CALL SUBOPT_0x91
001d26 940e 2f9c 	CALL SUBOPT_0x44
                 ; 0003 00FD         while(tx_counter);}
                 _0x6005E:
001d28 91e0 0643 	LDS  R30,_tx_counter
001d2a 30e0      	CPI  R30,0
001d2b f7e1      	BRNE _0x6005E
                 ; 0003 00FE         #endif
                 ; 0003 00FF        memcpy(tmpbytes,buffer,strlenf("[settings]"));
                 _0x6005A:
001d2c e8ec      	LDI  R30,LOW(_tmpbytes)
001d2d e0f3      	LDI  R31,HIGH(_tmpbytes)
001d2e 940e 2fe6 	CALL SUBOPT_0x50
001d30 940e 316c 	CALL SUBOPT_0x92
001d32 940e 2d46 	CALL _strlenf
001d34 93fa      	ST   -Y,R31
001d35 93ea      	ST   -Y,R30
001d36 940e 2d03 	CALL _memcpy
                 ; 0003 0100        for(i=0;i<strlenf("[settings]");i++)
                +
001d38 e040     +LDI R20 , LOW ( 0 )
001d39 e050     +LDI R21 , HIGH ( 0 )
                 	__GETWRN 20,21,0
                 _0x60062:
001d3a 940e 3173 	CALL SUBOPT_0x93
001d3c 174e      	CP   R20,R30
001d3d 075f      	CPC  R21,R31
001d3e f008      	BRLO PC+2
001d3f c049      	RJMP _0x60063
                 ; 0003 0101        {
                 ; 0003 0102             #ifdef PRINT_DEBUG
                 ; 0003 0103             if(debug){
001d40 91e0 03af 	LDS  R30,_debug
001d42 30e0      	CPI  R30,0
001d43 f091      	BREQ _0x60064
                 ; 0003 0104             while(tx_counter);
                 _0x60065:
001d44 91e0 0643 	LDS  R30,_tx_counter
001d46 30e0      	CPI  R30,0
001d47 f7e1      	BRNE _0x60065
                 ; 0003 0105             printf("\r\n%d=%02x, %02x ",i,tmpbytes[i],buffer[i]);
                +
001d48 e8ef     +LDI R30 , LOW ( 2 * _0x60000 + ( 429 ) )
001d49 e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 429 ) )
                 	__POINTW1FN _0x60000,429
001d4a 940e 3179 	CALL SUBOPT_0x94
001d4c 940e 3186 	CALL SUBOPT_0x95
001d4e 940e 2f83 	CALL SUBOPT_0x3F
001d50 940e 2f89 	CALL SUBOPT_0x40
                 ; 0003 0106             while(tx_counter);}
                 _0x60068:
001d52 91e0 0643 	LDS  R30,_tx_counter
001d54 30e0      	CPI  R30,0
001d55 f7e1      	BRNE _0x60068
                 ; 0003 0107             #endif
                 ; 0003 0108             tmpbytes[i]=(tmpbytes[i]<<1)|(tmpbytes[i]>>7);  //ROL
                 _0x60064:
001d56 01fa      	MOVW R30,R20
001d57 57e4      	SUBI R30,LOW(-_tmpbytes)
001d58 4ffc      	SBCI R31,HIGH(-_tmpbytes)
001d59 01bf      	MOVW R22,R30
001d5a 940e 318c 	CALL SUBOPT_0x96
001d5c 0fee      	LSL  R30
001d5d 2e0e      	MOV  R0,R30
001d5e 940e 318c 	CALL SUBOPT_0x96
001d60 940e 3192 	CALL SUBOPT_0x97
                 ; 0003 0109             tmpbytes[i]^=roll[(RollCounterToCheck)%ROLL_SIZE];        //XOR
001d62 57e4      	SUBI R30,LOW(-_tmpbytes)
001d63 4ffc      	SBCI R31,HIGH(-_tmpbytes)
001d64 010f      	MOVW R0,R30
001d65 81a0      	LD   R26,Z
001d66 81ee      	LDD  R30,Y+6
001d67 81ff      	LDD  R31,Y+6+1
001d68 73ef      	ANDI R30,LOW(0x3F)
001d69 70f0      	ANDI R31,HIGH(0x3F)
001d6a 52e8      	SUBI R30,LOW(-_roll*2)
001d6b 4fff      	SBCI R31,HIGH(-_roll*2)
001d6c 91e4      	LPM  R30,Z
001d6d 27ea      	EOR  R30,R26
001d6e 01d0      	MOVW R26,R0
001d6f 93ec      	ST   X,R30
                 ; 0003 010A             #ifdef PRINT_DEBUG
                 ; 0003 010B             if(debug){
001d70 91e0 03af 	LDS  R30,_debug
001d72 30e0      	CPI  R30,0
001d73 f091      	BREQ _0x6006B
                 ; 0003 010C             while(tx_counter);
                 _0x6006C:
001d74 91e0 0643 	LDS  R30,_tx_counter
001d76 30e0      	CPI  R30,0
001d77 f7e1      	BRNE _0x6006C
                 ; 0003 010D             printf("\r\n%d=%02x, %c",i,tmpbytes[i],tmpbytes[i]);
                +
001d78 eae0     +LDI R30 , LOW ( 2 * _0x60000 + ( 446 ) )
001d79 e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 446 ) )
                 	__POINTW1FN _0x60000,446
001d7a 940e 3179 	CALL SUBOPT_0x94
001d7c 940e 318c 	CALL SUBOPT_0x96
001d7e 940e 2f83 	CALL SUBOPT_0x3F
001d80 940e 2f89 	CALL SUBOPT_0x40
                 ; 0003 010E             while(tx_counter);}
                 _0x6006F:
001d82 91e0 0643 	LDS  R30,_tx_counter
001d84 30e0      	CPI  R30,0
001d85 f7e1      	BRNE _0x6006F
                 ; 0003 010F             #endif
                 ; 0003 0110        }
                 _0x6006B:
                +
001d86 5f4f     +SUBI R20 , LOW ( - 1 )
001d87 4f5f     +SBCI R21 , HIGH ( - 1 )
                 	__ADDWRN 20,21,1
001d88 cfb1      	RJMP _0x60062
                 _0x60063:
                 ; 0003 0111        if(strncmpf(tmpbytes,"[settings]",strlenf("[settings]"))==0)
001d89 e8ec      	LDI  R30,LOW(_tmpbytes)
001d8a e0f3      	LDI  R31,HIGH(_tmpbytes)
001d8b 940e 316c 	CALL SUBOPT_0x92
001d8d 940e 3173 	CALL SUBOPT_0x93
001d8f 93ea      	ST   -Y,R30
001d90 940e 2d51 	CALL _strncmpf
001d92 30e0      	CPI  R30,0
001d93 f031      	BREQ _0x60059
                 ; 0003 0112             break;
                 ; 0003 0113        RollCounterToCheck++;
001d94 81ee      	LDD  R30,Y+6
001d95 81ff      	LDD  R31,Y+6+1
001d96 9631      	ADIW R30,1
001d97 83ee      	STD  Y+6,R30
001d98 83ff      	STD  Y+6+1,R31
                 ; 0003 0114     }
001d99 cf78      	RJMP _0x60057
                 _0x60059:
                 ; 0003 0115 
                 ; 0003 0116     if(RollCounterToCheck >= (tmpimage.RollCounter+ROLL_WINDOW))//return null in case of reach roll counter window
001d9a 940e 314f 	CALL SUBOPT_0x8E
001d9c 81ae      	LDD  R26,Y+6
001d9d 81bf      	LDD  R27,Y+6+1
001d9e 17ae      	CP   R26,R30
001d9f 07bf      	CPC  R27,R31
001da0 f008      	BRLO _0x60073
                 ; 0003 0117          goto print_error;
001da1 c062      	RJMP _0x60055
                 ; 0003 0118     tmpimage.RollCounter=RollCounterToCheck;
                 _0x60073:
001da2 81ee      	LDD  R30,Y+6
                +
001da3 93e0 040d+STS _tmpimage + ( 92 ) , R30
                 	__PUTB1MN _tmpimage,92
                 ; 0003 0119     for(i=0;i<(nbytes);i++)
                +
001da5 e040     +LDI R20 , LOW ( 0 )
001da6 e050     +LDI R21 , HIGH ( 0 )
                 	__GETWRN 20,21,0
                 _0x60075:
001da7 940e 3145 	CALL SUBOPT_0x8C
001da9 174e      	CP   R20,R30
001daa 075f      	CPC  R21,R31
001dab f488      	BRSH _0x60076
                 ; 0003 011A     {
                 ; 0003 011B         buffer[i]=(buffer[i]<<1)|(buffer[i]>>7);  //ROL
001dac 01fa      	MOVW R30,R20
001dad 5ce2      	SUBI R30,LOW(-_buffer)
001dae 4ffb      	SBCI R31,HIGH(-_buffer)
001daf 01bf      	MOVW R22,R30
001db0 940e 3186 	CALL SUBOPT_0x95
001db2 0fee      	LSL  R30
001db3 2e0e      	MOV  R0,R30
001db4 940e 3186 	CALL SUBOPT_0x95
001db6 940e 3192 	CALL SUBOPT_0x97
                 ; 0003 011C         buffer[i]^=roll[(tmpimage.RollCounter)%ROLL_SIZE];        //XOR
001db8 940e 319a 	CALL SUBOPT_0x98
                 ; 0003 011D     }
                +
001dba 5f4f     +SUBI R20 , LOW ( - 1 )
001dbb 4f5f     +SBCI R21 , HIGH ( - 1 )
                 	__ADDWRN 20,21,1
001dbc cfea      	RJMP _0x60075
                 _0x60076:
                 ; 0003 011E      #ifdef PRINT_DEBUG
                 ; 0003 011F      if(debug){
001dbd 91e0 03af 	LDS  R30,_debug
001dbf 30e0      	CPI  R30,0
001dc0 f099      	BREQ _0x60077
                 ; 0003 0120      while(tx_counter);
                 _0x60078:
001dc1 91e0 0643 	LDS  R30,_tx_counter
001dc3 30e0      	CPI  R30,0
001dc4 f7e1      	BRNE _0x60078
                 ; 0003 0121      buffer[nbytes-1]=0;
001dc5 940e 3145 	CALL SUBOPT_0x8C
001dc7 9731      	SBIW R30,1
001dc8 940e 314a 	CALL SUBOPT_0x8D
                 ; 0003 0122      printf("\r\n%s",buffer);
                +
001dca eaee     +LDI R30 , LOW ( 2 * _0x60000 + ( 460 ) )
001dcb e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 460 ) )
                 	__POINTW1FN _0x60000,460
001dcc 940e 2fe6 	CALL SUBOPT_0x50
001dce 940e 2f9c 	CALL SUBOPT_0x44
                 ; 0003 0123      while(tx_counter);}
                 _0x6007B:
001dd0 91e0 0643 	LDS  R30,_tx_counter
001dd2 30e0      	CPI  R30,0
001dd3 f7e1      	BRNE _0x6007B
                 ; 0003 0124      #endif
                 ; 0003 0125     if((pkey=strstrf(buffer,"rollcounter"))==NULL){//try find the key "rollcounter"
                 _0x60077:
001dd4 940e 3154 	CALL SUBOPT_0x8F
                +
001dd6 ebe3     +LDI R30 , LOW ( 2 * _0x60000 + ( 465 ) )
001dd7 e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 465 ) )
                 	__POINTW1FN _0x60000,465
001dd8 940e 31ac 	CALL SUBOPT_0x99
001dda 9730      	SBIW R30,0
001ddb f4a9      	BRNE _0x6007E
                 ; 0003 0126          #ifdef PRINT_DEBUG
                 ; 0003 0127          if(debug){
001ddc 91e0 03af 	LDS  R30,_debug
001dde 30e0      	CPI  R30,0
001ddf f081      	BREQ _0x6007F
                 ; 0003 0128          while(tx_counter);
                 _0x60080:
001de0 91e0 0643 	LDS  R30,_tx_counter
001de2 30e0      	CPI  R30,0
001de3 f7e1      	BRNE _0x60080
                 ; 0003 0129          printf("\r\n%p key not found.","rollcounter");
                +
001de4 ebef     +LDI R30 , LOW ( 2 * _0x60000 + ( 477 ) )
001de5 e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 477 ) )
                 	__POINTW1FN _0x60000,477
001de6 93fa      	ST   -Y,R31
001de7 93ea      	ST   -Y,R30
                +
001de8 ebe3     +LDI R30 , LOW ( 2 * _0x60000 + ( 465 ) )
001de9 e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 465 ) )
                 	__POINTW1FN _0x60000,465
001dea 940e 2f9c 	CALL SUBOPT_0x44
                 ; 0003 012A          while(tx_counter);}
                 _0x60083:
001dec 91e0 0643 	LDS  R30,_tx_counter
001dee 30e0      	CPI  R30,0
001def f7e1      	BRNE _0x60083
                 ; 0003 012B          #endif
                 ; 0003 012C          goto print_error;
                 _0x6007F:
001df0 c013      	RJMP _0x60055
                 ; 0003 012D     }
                 ; 0003 012E     pvalue=pkey+(strlenf(Key)+1);//set the pointer to found Value
                 _0x6007E:
001df1 85e9      	LDD  R30,Y+9
001df2 85fa      	LDD  R31,Y+9+1
001df3 940e 31b2 	CALL SUBOPT_0x9A
                 ; 0003 012F     strncpy(tmpbytes,pvalue,32);//copy string from value pointer to tmpbytes 32 bytes
                 ; 0003 0130     pvalue=tmpbytes;//set pointer to tmpbytes
                 ; 0003 0131     pvalue[strpos(pvalue,'\r')]=NULL;//set string termination
                 ; 0003 0132     #ifdef PRINT_DEBUG
                 ; 0003 0133     if(debug){
001df5 f061      	BREQ _0x60086
                 ; 0003 0134     while(tx_counter);
                 _0x60087:
001df6 91e0 0643 	LDS  R30,_tx_counter
001df8 30e0      	CPI  R30,0
001df9 f7e1      	BRNE _0x60087
                 ; 0003 0135     printf("Found Key rollcounter");
                +
001dfa ede3     +LDI R30 , LOW ( 2 * _0x60000 + ( 497 ) )
001dfb e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 497 ) )
                 	__POINTW1FN _0x60000,497
001dfc 940e 2e9c 	CALL SUBOPT_0x22
                 ; 0003 0136     while(tx_counter);}
                 _0x6008A:
001dfe 91e0 0643 	LDS  R30,_tx_counter
001e00 30e0      	CPI  R30,0
001e01 f7e1      	BRNE _0x6008A
                 ; 0003 0137     #endif
                 ; 0003 0138     return pvalue;//return the pointer to value
                 _0x60086:
001e02 01f8      	MOVW R30,R16
001e03 c004      	RJMP _0x20C001A
                 ; 0003 0139 print_error:
                 _0x60055:
                 ; 0003 013A     #ifndef  PETITFATFS
                 ; 0003 013B     f_close(&file);
                 ; 0003 013C     #endif
                 ; 0003 013D     RESerror(res);
001e04 940e 3140 	CALL SUBOPT_0x8B
                 ; 0003 013E     #ifdef PRINT_LCD
                 ; 0003 013F     //lcd_putsf_row(1,"No project file");
                 ; 0003 0140     #endif
                 ; 0003 0141     return NULL;
001e06 e0e0      	LDI  R30,LOW(0)
001e07 e0f0      	LDI  R31,HIGH(0)
                 _0x20C001A:
001e08 940e 3597 	CALL __LOADLOCR6
001e0a 962b      	ADIW R28,11
001e0b 9508      	RET
                 ; 0003 0142 }
                 ; .FEND
                 ;
                 ;/*Get string value from key string after '=' Key=Value\r\n */
                 ;char *GetValue(flash char *Key)
                 ; 0003 0146 {
                 _GetValue:
                 ; .FSTART _GetValue
                 ; 0003 0147     char *pvalue=NULL,*pkey;
                 ; 0003 0148     StandaloneMode=IDLE;
001e0c 940e 31d4 	CALL SUBOPT_0x9B
                 ;	*Key -> Y+4
                 ;	*pvalue -> R16,R17
                 ;	*pkey -> R18,R19
001e0e e0e0      	LDI  R30,LOW(0)
001e0f 93e0 03ae 	STS  _StandaloneMode,R30
                 ; 0003 0149     pkey=strstrf(&buffer[0],Key);
001e11 940e 3154 	CALL SUBOPT_0x8F
001e13 81ee      	LDD  R30,Y+6
001e14 81ff      	LDD  R31,Y+6+1
001e15 940e 31ac 	CALL SUBOPT_0x99
                 ; 0003 014A     if(pkey==NULL){
001e17 2e02      	MOV  R0,R18
001e18 2a03      	OR   R0,R19
001e19 f479      	BRNE _0x6008D
                 ; 0003 014B          #ifdef PRINT_DEBUG
                 ; 0003 014C          if(debug){
001e1a 91e0 03af 	LDS  R30,_debug
001e1c 30e0      	CPI  R30,0
001e1d f051      	BREQ _0x6008E
                 ; 0003 014D          while(tx_counter);
                 _0x6008F:
001e1e 91e0 0643 	LDS  R30,_tx_counter
001e20 30e0      	CPI  R30,0
001e21 f7e1      	BRNE _0x6008F
                 ; 0003 014E          printf("\r\n%p Key not found.",Key);
001e22 940e 31d9 	CALL SUBOPT_0x9C
                 ; 0003 014F          while(tx_counter);}
                 _0x60092:
001e24 91e0 0643 	LDS  R30,_tx_counter
001e26 30e0      	CPI  R30,0
001e27 f7e1      	BRNE _0x60092
                 ; 0003 0150          #endif
                 ; 0003 0151          goto print_error;
                 _0x6008E:
001e28 c012      	RJMP _0x60095
                 ; 0003 0152     }
                 ; 0003 0153     pvalue=pkey+(strlenf(Key)+1);
                 _0x6008D:
001e29 81ec      	LDD  R30,Y+4
001e2a 81fd      	LDD  R31,Y+4+1
001e2b 940e 31b2 	CALL SUBOPT_0x9A
                 ; 0003 0154     strncpy(tmpbytes,pvalue,32);//copy string from value pointer to tmpbytes 32 bytes
                 ; 0003 0155     pvalue=tmpbytes;//set pointer to tmpbytes
                 ; 0003 0156     pvalue[strpos(pvalue,'\r')]=NULL;
                 ; 0003 0157     #ifdef PRINT_DEBUG
                 ; 0003 0158     if(debug){
001e2d f061      	BREQ _0x60096
                 ; 0003 0159     while(tx_counter);
                 _0x60097:
001e2e 91e0 0643 	LDS  R30,_tx_counter
001e30 30e0      	CPI  R30,0
001e31 f7e1      	BRNE _0x60097
                 ; 0003 015A     printf("\r\nFound Key %p=%s.",Key,pvalue);
                +
001e32 efed     +LDI R30 , LOW ( 2 * _0x60000 + ( 539 ) )
001e33 e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 539 ) )
                 	__POINTW1FN _0x60000,539
001e34 940e 31e0 	CALL SUBOPT_0x9D
                 ; 0003 015B     while(tx_counter);}
                 _0x6009A:
001e36 91e0 0643 	LDS  R30,_tx_counter
001e38 30e0      	CPI  R30,0
001e39 f7e1      	BRNE _0x6009A
                 ; 0003 015C     #endif
                 ; 0003 015D     return pvalue;//return the pointer to value
                 _0x60096:
001e3a c14f      	RJMP _0x20C0015
                 ; 0003 015E print_error:
                 _0x60095:
                 ; 0003 015F     #ifndef  PETITFATFS
                 ; 0003 0160     f_close(&file);
                 ; 0003 0161     #endif
                 ; 0003 0162     RESerror(res);
001e3b 940e 3140 	CALL SUBOPT_0x8B
                 ; 0003 0163     return pvalue;
001e3d c14c      	RJMP _0x20C0015
                 ; 0003 0164 }
                 ; .FEND
                 ;
                 ;UCHAR fileOpen()
                 ; 0003 0167 {
                 _fileOpen:
                 ; .FSTART _fileOpen
                 ; 0003 0168     UCHAR retry=3;
                 ; 0003 0169     /* open the file in read mode */
                 ; 0003 016A     #ifndef  PETITFATFS
                 ; 0003 016B     strcpyf(path,"0:/1/project.txt");
                 ; 0003 016C     path[3]=dirnum+'0';
                 ; 0003 016D     #else
                 ; 0003 016E     //strcpyf(path,"/00/00.dat");
                 ; 0003 016F     strcpyf(path,"/");
001e3e 931a      	ST   -Y,R17
                 ;	retry -> R17
001e3f e013      	LDI  R17,3
001e40 940e 31ea 	CALL SUBOPT_0x9E
                +
001e42 e1e0     +LDI R30 , LOW ( 2 * _0x60000 + ( 558 ) )
001e43 e0fd     +LDI R31 , HIGH ( 2 * _0x60000 + ( 558 ) )
                 	__POINTW1FN _0x60000,558
001e44 940e 31ef 	CALL SUBOPT_0x9F
                 ; 0003 0170     itoa(dirnum,tmpbytes);
001e46 91e0 03b0 	LDS  R30,_dirnum
001e48 e0f0      	LDI  R31,0
001e49 93fa      	ST   -Y,R31
001e4a 93ea      	ST   -Y,R30
001e4b 940e 31f3 	CALL SUBOPT_0xA0
001e4d 940e 2adc 	CALL _itoa
                 ; 0003 0171     strcat(path,tmpbytes);// "/1"
001e4f 940e 31ea 	CALL SUBOPT_0x9E
001e51 940e 31f3 	CALL SUBOPT_0xA0
001e53 940e 2d13 	CALL _strcat
                 ; 0003 0172     strcatf(path,"/");// "/1/"
001e55 940e 31ea 	CALL SUBOPT_0x9E
                +
001e57 e1e0     +LDI R30 , LOW ( 2 * _0x60000 + ( 558 ) )
001e58 e0fd     +LDI R31 , HIGH ( 2 * _0x60000 + ( 558 ) )
                 	__POINTW1FN _0x60000,558
001e59 93fa      	ST   -Y,R31
001e5a 93ea      	ST   -Y,R30
001e5b 940e 2d22 	CALL _strcatf
                 ; 0003 0173     strcat(path,tmpbytes);// "/1/1"
001e5d 940e 31ea 	CALL SUBOPT_0x9E
001e5f 940e 31f3 	CALL SUBOPT_0xA0
001e61 940e 2d13 	CALL _strcat
                 ; 0003 0174     strcatf(path,".dat");// "/1/1.dat"
001e63 940e 31ea 	CALL SUBOPT_0x9E
                +
001e65 e1e2     +LDI R30 , LOW ( 2 * _0x60000 + ( 560 ) )
001e66 e0fd     +LDI R31 , HIGH ( 2 * _0x60000 + ( 560 ) )
                 	__POINTW1FN _0x60000,560
001e67 93fa      	ST   -Y,R31
001e68 93ea      	ST   -Y,R30
001e69 940e 2d22 	CALL _strcatf
                 ; 0003 0175     #endif
                 ; 0003 0176     while(retry)
                 _0x6009D:
001e6b 3010      	CPI  R17,0
001e6c f149      	BREQ _0x6009F
                 ; 0003 0177     {
                 ; 0003 0178         retry--;
001e6d 5011      	SUBI R17,1
                 ; 0003 0179         /* open the file in read mode */
                 ; 0003 017A         #ifndef  PETITFATFS
                 ; 0003 017B         if((res=f_open(&file,path,FA_READ|FA_OPEN_EXISTING))==FR_OK)
                 ; 0003 017C         #else
                 ; 0003 017D         if ((res=pf_open(path))==FR_OK)
001e6e 940e 31ea 	CALL SUBOPT_0x9E
001e70 940e 31f8 	CALL SUBOPT_0xA1
001e72 f491      	BRNE _0x600A0
                 ; 0003 017E         #endif
                 ; 0003 017F         {
                 ; 0003 0180             #ifdef PRINT_DEBUG
                 ; 0003 0181             if(debug){
001e73 91e0 03af 	LDS  R30,_debug
001e75 30e0      	CPI  R30,0
001e76 f051      	BREQ _0x600A1
                 ; 0003 0182             while(tx_counter);
                 _0x600A2:
001e77 91e0 0643 	LDS  R30,_tx_counter
001e79 30e0      	CPI  R30,0
001e7a f7e1      	BRNE _0x600A2
                 ; 0003 0183             printf("\r\nFile %s opened OK.\r\n",path);
001e7b 940e 31fe 	CALL SUBOPT_0xA2
                 ; 0003 0184             //printf("\r\n%s key to find - %p",CopyKey,Key);
                 ; 0003 0185             while(tx_counter);}
                 _0x600A5:
001e7d 91e0 0643 	LDS  R30,_tx_counter
001e7f 30e0      	CPI  R30,0
001e80 f7e1      	BRNE _0x600A5
                 ; 0003 0186             #endif
                 ; 0003 0187             #ifdef  PETITFATFS
                 ; 0003 0188             if((res=pf_lseek(0))!=FR_OK)
                 _0x600A1:
001e81 940e 3205 	CALL SUBOPT_0xA3
001e83 f4a1      	BRNE _0x600A9
                 ; 0003 0189                 goto print_error;//RESerror(res);
                 ; 0003 018A             #endif
                 ; 0003 018B             break;
001e84 c011      	RJMP _0x6009F
                 ; 0003 018C         }
                 ; 0003 018D         else{
                 _0x600A0:
                 ; 0003 018E            /* an error occured, display it and stop */
                 ; 0003 018F            #ifdef PRINT_DEBUG
                 ; 0003 0190            if(debug){
001e85 91e0 03af 	LDS  R30,_debug
001e87 30e0      	CPI  R30,0
001e88 f051      	BREQ _0x600AB
                 ; 0003 0191            while(tx_counter);
                 _0x600AC:
001e89 91e0 0643 	LDS  R30,_tx_counter
001e8b 30e0      	CPI  R30,0
001e8c f7e1      	BRNE _0x600AC
                 ; 0003 0192            printf("\r\nWrong path: %s\r\n",path);
001e8d 940e 3211 	CALL SUBOPT_0xA4
                 ; 0003 0193            while(tx_counter);}
                 _0x600AF:
001e8f 91e0 0643 	LDS  R30,_tx_counter
001e91 30e0      	CPI  R30,0
001e92 f7e1      	BRNE _0x600AF
                 ; 0003 0194            #endif
                 ; 0003 0195            if(retry)
                 _0x600AB:
001e93 3010      	CPI  R17,0
001e94 f6b1      	BRNE _0x6009D
                 ; 0003 0196                 continue;
                 ; 0003 0197            else
                 ; 0003 0198                 goto print_error;//RESerror(res);
001e95 c002      	RJMP _0x600A9
                 ; 0003 0199         }
                 ; 0003 019A     }
                 _0x6009F:
                 ; 0003 019B     return 1;
001e96 e0e1      	LDI  R30,LOW(1)
001e97 c1a1      	RJMP _0x20C0013
                 ; 0003 019C print_error:
                 _0x600A9:
                 ; 0003 019D     RESerror(res);
001e98 940e 3140 	CALL SUBOPT_0x8B
                 ; 0003 019E     return 0;
001e9a e0e0      	LDI  R30,LOW(0)
001e9b c19d      	RJMP _0x20C0013
                 ; 0003 019F }
                 ; .FEND
                 ;UCHAR SetFlashArea()
                 ; 0003 01A1 {
                 _SetFlashArea:
                 ; .FSTART _SetFlashArea
                 ; 0003 01A2    #ifdef  PETITFATFS
                 ; 0003 01A3    if((res=pf_lseek(1000))!=FR_OK){
                +
001e9c eee8     +LDI R30 , LOW ( 0x3E8 )
001e9d e0f3     +LDI R31 , HIGH ( 0x3E8 )
001e9e e060     +LDI R22 , BYTE3 ( 0x3E8 )
001e9f e070     +LDI R23 , BYTE4 ( 0x3E8 )
                 	__GETD1N 0x3E8
001ea0 940e 3530 	CALL __PUTPARD1
001ea2 940e 28c8 	CALL _pf_lseek
001ea4 93e0 081e 	STS  _res,R30
001ea6 30e0      	CPI  R30,0
001ea7 f421      	BRNE _0x20C0019
                 ; 0003 01A4         RESerror(res);
                 ; 0003 01A5         return FALSE;
                 ; 0003 01A6    }
                 ; 0003 01A7    #endif
                 ; 0003 01A8    return TRUE;
001ea8 c009      	RJMP _0x20C0018
                 ; 0003 01A9 }
                 ; .FEND
                 ;UCHAR SetConfigArea()
                 ; 0003 01AB {
                 _SetConfigArea:
                 ; .FSTART _SetConfigArea
                 ; 0003 01AC    #ifdef  PETITFATFS
                 ; 0003 01AD    if((res=pf_lseek(0))!=FR_OK){
001ea9 940e 3205 	CALL SUBOPT_0xA3
001eab f031      	BREQ _0x600B5
                 ; 0003 01AE         RESerror(res);
                 _0x20C0019:
001eac 91e0 081e 	LDS  R30,_res
001eae 93ea      	ST   -Y,R30
001eaf dd6f      	RCALL _RESerror
                 ; 0003 01AF         return FALSE;
001eb0 e0e0      	LDI  R30,LOW(0)
001eb1 9508      	RET
                 ; 0003 01B0    }
                 ; 0003 01B1    #endif
                 ; 0003 01B2    return TRUE;
                 _0x600B5:
                 _0x20C0018:
001eb2 e0e1      	LDI  R30,LOW(1)
001eb3 9508      	RET
                 ; 0003 01B3 }
                 ; .FEND
                 ;UCHAR fileRead(void)
                 ; 0003 01B5 {
                 _fileRead:
                 ; .FSTART _fileRead
                 ; 0003 01B6     /* read and display the file's content.
                 ; 0003 01B7        make sure to leave space for a NULL terminator
                 ; 0003 01B8        in the buffer, so maximum sizeof(buffer)-1 bytes can be read */
                 ; 0003 01B9     UINT  i;//buffer index
                 ; 0003 01BA     #ifndef  PETITFATFS
                 ; 0003 01BB     res=f_read(&file,buffer,sizeof(buffer),&nbytes);
                 ; 0003 01BC     #else
                 ; 0003 01BD     res=pf_read(buffer,sizeof(buffer),&nbytes);
001eb4 931a      	ST   -Y,R17
001eb5 930a      	ST   -Y,R16
                 ;	i -> R16,R17
001eb6 940e 3154 	CALL SUBOPT_0x8F
001eb8 940e 3159 	CALL SUBOPT_0x90
                 ; 0003 01BE     #endif
                 ; 0003 01BF     if ((res)==FR_OK){ //
001eba f521      	BRNE _0x600B6
                 ; 0003 01C0 
                 ; 0003 01C1        for(i=0;i<(nbytes);i++)
                +
001ebb e000     +LDI R16 , LOW ( 0 )
001ebc e010     +LDI R17 , HIGH ( 0 )
                 	__GETWRN 16,17,0
                 _0x600B8:
001ebd 940e 3145 	CALL SUBOPT_0x8C
001ebf 170e      	CP   R16,R30
001ec0 071f      	CPC  R17,R31
001ec1 f4e0      	BRSH _0x600B9
                 ; 0003 01C2        {
                 ; 0003 01C3             buffer[i]=(buffer[i]<<1)|(buffer[i]>>7);  //ROL
001ec2 01f8      	MOVW R30,R16
001ec3 5ce2      	SUBI R30,LOW(-_buffer)
001ec4 4ffb      	SBCI R31,HIGH(-_buffer)
001ec5 01bf      	MOVW R22,R30
001ec6 e3ae      	LDI  R26,LOW(_buffer)
001ec7 e0b4      	LDI  R27,HIGH(_buffer)
001ec8 0fa0      	ADD  R26,R16
001ec9 1fb1      	ADC  R27,R17
001eca 91ec      	LD   R30,X
001ecb 0fee      	LSL  R30
001ecc 2e0e      	MOV  R0,R30
001ecd e3ae      	LDI  R26,LOW(_buffer)
001ece e0b4      	LDI  R27,HIGH(_buffer)
001ecf 0fa0      	ADD  R26,R16
001ed0 1fb1      	ADC  R27,R17
001ed1 91ec      	LD   R30,X
001ed2 1fee      	ROL  R30
001ed3 e0e0      	LDI  R30,0
001ed4 1fee      	ROL  R30
001ed5 29e0      	OR   R30,R0
001ed6 01db      	MOVW R26,R22
001ed7 93ec      	ST   X,R30
                 ; 0003 01C4             buffer[i]^=roll[(tmpimage.RollCounter)%ROLL_SIZE];        //XOR
001ed8 01f8      	MOVW R30,R16
001ed9 940e 319a 	CALL SUBOPT_0x98
                 ; 0003 01C5        }
                +
001edb 5f0f     +SUBI R16 , LOW ( - 1 )
001edc 4f1f     +SBCI R17 , HIGH ( - 1 )
                 	__ADDWRN 16,17,1
001edd cfdf      	RJMP _0x600B8
                 _0x600B9:
                 ; 0003 01C6     }
                 ; 0003 01C7     else
001ede c001      	RJMP _0x600BA
                 _0x600B6:
                 ; 0003 01C8         goto print_error;
001edf c007      	RJMP _0x600BB
                 ; 0003 01C9     //buffer[nbytes]=NULL;
                 ; 0003 01CA     nbytesCounter=0;
                 _0x600BA:
001ee0 e0e0      	LDI  R30,LOW(0)
001ee1 93e0 0640 	STS  _nbytesCounter,R30
001ee3 93e0 0641 	STS  _nbytesCounter+1,R30
                 ; 0003 01CB     return 1;
001ee5 e0e1      	LDI  R30,LOW(1)
001ee6 c003      	RJMP _0x20C0017
                 ; 0003 01CC print_error:
                 _0x600BB:
                 ; 0003 01CD     RESerror(res);
001ee7 940e 3140 	CALL SUBOPT_0x8B
                 ; 0003 01CE     return 0;
001ee9 e0e0      	LDI  R30,LOW(0)
                 _0x20C0017:
001eea 9109      	LD   R16,Y+
001eeb 9119      	LD   R17,Y+
001eec 9508      	RET
                 ; 0003 01CF }
                 ; .FEND
                 ;void fileClose(void)
                 ; 0003 01D1 {
                 _fileClose:
                 ; .FSTART _fileClose
                 ; 0003 01D2     /* close the file */
                 ; 0003 01D3     #ifndef  PETITFATFS
                 ; 0003 01D4     if ((res=f_close(&file))==FR_OK)
                 ; 0003 01D5     {
                 ; 0003 01D6        #ifdef PRINT_DEBUG
                 ; 0003 01D7        if(debug){
                 ; 0003 01D8        printf("\r\nFile %s closed OK.",path);
                 ; 0003 01D9        while(tx_counter);}
                 ; 0003 01DA        #endif
                 ; 0003 01DB     }
                 ; 0003 01DC     else
                 ; 0003 01DD        /* an error occured, display it and stop */
                 ; 0003 01DE        RESerror(res);
                 ; 0003 01DF     #endif
                 ; 0003 01E0 }
001eed 9508      	RET
                 ; .FEND
                 ;UCHAR pgm_read_byte_sd(void)
                 ; 0003 01E2 {
                 _pgm_read_byte_sd:
                 ; .FSTART _pgm_read_byte_sd
                 ; 0003 01E3    UCHAR result;
                 ; 0003 01E4    if(nbytesCounter>=nbytes){
001eee 931a      	ST   -Y,R17
                 ;	result -> R17
001eef 940e 3145 	CALL SUBOPT_0x8C
001ef1 91a0 0640 	LDS  R26,_nbytesCounter
001ef3 91b0 0641 	LDS  R27,_nbytesCounter+1
001ef5 17ae      	CP   R26,R30
001ef6 07bf      	CPC  R27,R31
001ef7 f008      	BRLO _0x600BC
                 ; 0003 01E5     fileRead();
001ef8 dfbb      	RCALL _fileRead
                 ; 0003 01E6    }
                 ; 0003 01E7    result=buffer[nbytesCounter++];
                 _0x600BC:
001ef9 e4a0      	LDI  R26,LOW(_nbytesCounter)
001efa e0b6      	LDI  R27,HIGH(_nbytesCounter)
001efb 91ed      	LD   R30,X+
001efc 91fd      	LD   R31,X+
001efd 9631      	ADIW R30,1
001efe 93fe      	ST   -X,R31
001eff 93ee      	ST   -X,R30
001f00 9731      	SBIW R30,1
001f01 5ce2      	SUBI R30,LOW(-_buffer)
001f02 4ffb      	SBCI R31,HIGH(-_buffer)
001f03 8110      	LD   R17,Z
                 ; 0003 01E8    return result;
001f04 c133      	RJMP _0x20C0012
                 ; 0003 01E9 }
                 ; .FEND
                 ;
                 ;/*Get string value from key string after '=' Key=Value\r\n */
                 ;char *GetConfigValue(flash char *Key)
                 ; 0003 01ED {
                 _GetConfigValue:
                 ; .FSTART _GetConfigValue
                 ; 0003 01EE     char *pvalue=NULL,*pkey;
                 ; 0003 01EF     #ifndef  PETITFATFS
                 ; 0003 01F0     strcpyf(path,"0:/config.ini");
                 ; 0003 01F1     #else
                 ; 0003 01F2     strcpyf(path,"/config.ini");
001f05 940e 31d4 	CALL SUBOPT_0x9B
                 ;	*Key -> Y+4
                 ;	*pvalue -> R16,R17
                 ;	*pkey -> R18,R19
001f07 940e 31ea 	CALL SUBOPT_0x9E
                +
001f09 e4e1     +LDI R30 , LOW ( 2 * _0x60000 + ( 607 ) )
001f0a e0fd     +LDI R31 , HIGH ( 2 * _0x60000 + ( 607 ) )
                 	__POINTW1FN _0x60000,607
001f0b 940e 31ef 	CALL SUBOPT_0x9F
                 ; 0003 01F3     #endif
                 ; 0003 01F4     /* open the file in read mode */
                 ; 0003 01F5     #ifndef  PETITFATFS
                 ; 0003 01F6     if((res=f_open(&file,path,FA_READ|FA_OPEN_EXISTING))==FR_OK)
                 ; 0003 01F7     #else
                 ; 0003 01F8     if ((res=pf_open(path))==FR_OK)
001f0d 940e 31ea 	CALL SUBOPT_0x9E
001f0f 940e 31f8 	CALL SUBOPT_0xA1
001f11 f479      	BRNE _0x600BD
                 ; 0003 01F9     #endif
                 ; 0003 01FA     {
                 ; 0003 01FB        #ifdef PRINT_DEBUG
                 ; 0003 01FC        if(debug){
001f12 91e0 03af 	LDS  R30,_debug
001f14 30e0      	CPI  R30,0
001f15 f051      	BREQ _0x600BE
                 ; 0003 01FD        while(tx_counter);
                 _0x600BF:
001f16 91e0 0643 	LDS  R30,_tx_counter
001f18 30e0      	CPI  R30,0
001f19 f7e1      	BRNE _0x600BF
                 ; 0003 01FE        printf("\r\nFile %s opened OK.\r\n",path);
001f1a 940e 31fe 	CALL SUBOPT_0xA2
                 ; 0003 01FF        while(tx_counter);}
                 _0x600C2:
001f1c 91e0 0643 	LDS  R30,_tx_counter
001f1e 30e0      	CPI  R30,0
001f1f f7e1      	BRNE _0x600C2
                 ; 0003 0200        #endif
                 ; 0003 0201     }
                 _0x600BE:
                 ; 0003 0202     else{
001f20 c00f      	RJMP _0x600C5
                 _0x600BD:
                 ; 0003 0203        /* an error occured, display it and stop */
                 ; 0003 0204        #ifdef PRINT_DEBUG
                 ; 0003 0205        if(debug){
001f21 91e0 03af 	LDS  R30,_debug
001f23 30e0      	CPI  R30,0
001f24 f051      	BREQ _0x600C6
                 ; 0003 0206        while(tx_counter);
                 _0x600C7:
001f25 91e0 0643 	LDS  R30,_tx_counter
001f27 30e0      	CPI  R30,0
001f28 f7e1      	BRNE _0x600C7
                 ; 0003 0207        printf("\r\nWrong path: %s\r\n",path);
001f29 940e 3211 	CALL SUBOPT_0xA4
                 ; 0003 0208        while(tx_counter);}
                 _0x600CA:
001f2b 91e0 0643 	LDS  R30,_tx_counter
001f2d 30e0      	CPI  R30,0
001f2e f7e1      	BRNE _0x600CA
                 ; 0003 0209        #endif
                 ; 0003 020A        goto print_error;//RESerror(res);
                 _0x600C6:
001f2f c054      	RJMP _0x600CD
                 ; 0003 020B     }
                 _0x600C5:
                 ; 0003 020C     #ifdef  PETITFATFS
                 ; 0003 020D     if((res=pf_lseek(0))!=FR_OK)
001f30 940e 3205 	CALL SUBOPT_0xA3
001f32 f009      	BREQ _0x600CE
                 ; 0003 020E        goto print_error;//RESerror(res);
001f33 c050      	RJMP _0x600CD
                 ; 0003 020F     #endif
                 ; 0003 0210     /* read and display the file's content.
                 ; 0003 0211        make sure to leave space for a NULL terminator
                 ; 0003 0212        in the buffer, so maximum sizeof(buffer)-1 bytes can be read */
                 ; 0003 0213     #ifndef  PETITFATFS
                 ; 0003 0214     if((res=f_read(&file,buffer,sizeof(buffer)-1,&nbytes))==FR_OK)
                 ; 0003 0215     #else
                 ; 0003 0216     if((res=pf_read(buffer,sizeof(buffer)-1,&nbytes))==FR_OK)
                 _0x600CE:
001f34 940e 3154 	CALL SUBOPT_0x8F
001f36 940e 3218 	CALL SUBOPT_0xA5
001f38 f009      	BREQ PC+2
001f39 c048      	RJMP _0x600CF
                 ; 0003 0217     #endif
                 ; 0003 0218     {
                 ; 0003 0219        buffer[nbytes]=NULL;
001f3a 940e 3145 	CALL SUBOPT_0x8C
001f3c 940e 314a 	CALL SUBOPT_0x8D
                 ; 0003 021A        if((pkey=strstrf(buffer,Key))==NULL){
001f3e 940e 3154 	CALL SUBOPT_0x8F
001f40 81ee      	LDD  R30,Y+6
001f41 81ff      	LDD  R31,Y+6+1
001f42 940e 31ac 	CALL SUBOPT_0x99
001f44 9730      	SBIW R30,0
001f45 f479      	BRNE _0x600D0
                 ; 0003 021B              #ifdef PRINT_DEBUG
                 ; 0003 021C              if(debug){
001f46 91e0 03af 	LDS  R30,_debug
001f48 30e0      	CPI  R30,0
001f49 f051      	BREQ _0x600D1
                 ; 0003 021D              while(tx_counter);
                 _0x600D2:
001f4a 91e0 0643 	LDS  R30,_tx_counter
001f4c 30e0      	CPI  R30,0
001f4d f7e1      	BRNE _0x600D2
                 ; 0003 021E              printf("\r\n%p Key not found.",Key);
001f4e 940e 31d9 	CALL SUBOPT_0x9C
                 ; 0003 021F              while(tx_counter);}
                 _0x600D5:
001f50 91e0 0643 	LDS  R30,_tx_counter
001f52 30e0      	CPI  R30,0
001f53 f7e1      	BRNE _0x600D5
                 ; 0003 0220              #endif
                 ; 0003 0221              goto print_error;
                 _0x600D1:
001f54 c02f      	RJMP _0x600CD
                 ; 0003 0222        }
                 ; 0003 0223        pvalue=pkey+(strlenf(Key)+1);
                 _0x600D0:
001f55 940e 3226 	CALL SUBOPT_0xA6
001f57 940e 322b 	CALL SUBOPT_0xA7
                 ; 0003 0224        strncpy(tmpbytes,pvalue,32);//copy string from value pointer to tmpbytes 32 bytes
001f59 940e 31f3 	CALL SUBOPT_0xA0
001f5b 931a      	ST   -Y,R17
001f5c 930a      	ST   -Y,R16
001f5d e2e0      	LDI  R30,LOW(32)
001f5e 93ea      	ST   -Y,R30
001f5f 940e 2d69 	CALL _strncpy
                 ; 0003 0225        pvalue=tmpbytes;//set pointer to tmpbytes
                +
001f61 e80c     +LDI R16 , LOW ( _tmpbytes )
001f62 e013     +LDI R17 , HIGH ( _tmpbytes )
                 	__POINTWRM 16,17,_tmpbytes
                 ; 0003 0226        pvalue[strpos(pvalue,'\r')]=NULL;
001f63 931a      	ST   -Y,R17
001f64 930a      	ST   -Y,R16
001f65 e0ed      	LDI  R30,LOW(13)
001f66 93ea      	ST   -Y,R30
001f67 940e 2d7d 	CALL _strpos
001f69 0fe0      	ADD  R30,R16
001f6a 1ff1      	ADC  R31,R17
001f6b e0a0      	LDI  R26,LOW(0)
001f6c 83a0      	STD  Z+0,R26
                 ; 0003 0227        #ifdef PRINT_DEBUG
                 ; 0003 0228        while(tx_counter);
                 _0x600D8:
001f6d 91e0 0643 	LDS  R30,_tx_counter
001f6f 30e0      	CPI  R30,0
001f70 f7e1      	BRNE _0x600D8
                 ; 0003 0229        if(debug){
001f71 91e0 03af 	LDS  R30,_debug
001f73 30e0      	CPI  R30,0
001f74 f061      	BREQ _0x600DB
                 ; 0003 022A        while(tx_counter);
                 _0x600DC:
001f75 91e0 0643 	LDS  R30,_tx_counter
001f77 30e0      	CPI  R30,0
001f78 f7e1      	BRNE _0x600DC
                 ; 0003 022B        printf(" Found Key %p=%s.\r\n",Key,pvalue);
                +
001f79 e4ed     +LDI R30 , LOW ( 2 * _0x60000 + ( 619 ) )
001f7a e0fd     +LDI R31 , HIGH ( 2 * _0x60000 + ( 619 ) )
                 	__POINTW1FN _0x60000,619
001f7b 940e 31e0 	CALL SUBOPT_0x9D
                 ; 0003 022C        while(tx_counter);}
                 _0x600DF:
001f7d 91e0 0643 	LDS  R30,_tx_counter
001f7f 30e0      	CPI  R30,0
001f80 f7e1      	BRNE _0x600DF
                 ; 0003 022D        #endif
                 ; 0003 022E     }
                 _0x600DB:
                 ; 0003 022F     else
001f81 c001      	RJMP _0x600E2
                 _0x600CF:
                 ; 0003 0230         goto print_error;
001f82 c001      	RJMP _0x600CD
                 ; 0003 0231     /* close the file */
                 ; 0003 0232     #ifndef  PETITFATFS
                 ; 0003 0233     if ((res=f_close(&file))==FR_OK)
                 ; 0003 0234     {
                 ; 0003 0235        #ifdef PRINT_DEBUG
                 ; 0003 0236        if(debug){
                 ; 0003 0237        while(tx_counter);
                 ; 0003 0238        printf("\r\nFile %s closed OK.\r\n",path);
                 ; 0003 0239        while(tx_counter);}
                 ; 0003 023A        #endif
                 ; 0003 023B     }
                 ; 0003 023C     else
                 ; 0003 023D        /* an error occured, display it and stop */
                 ; 0003 023E        goto print_error;//RESerror(res);
                 ; 0003 023F     #endif
                 ; 0003 0240     //goto print_error;//return the pointer to value
                 ; 0003 0241     return pvalue;
                 _0x600E2:
001f83 c006      	RJMP _0x20C0015
                 ; 0003 0242 print_error:
                 _0x600CD:
                 ; 0003 0243     #ifndef  PETITFATFS
                 ; 0003 0244     f_close(&file);
                 ; 0003 0245     RESerror(res);
                 ; 0003 0246     #endif
                 ; 0003 0247     #ifdef PRINT_LCD;
                 ; 0003 0248     lcd_putsf_row(1,"No config.ini");
001f84 e0e1      	LDI  R30,LOW(1)
001f85 93ea      	ST   -Y,R30
                +
001f86 e6e1     +LDI R30 , LOW ( 2 * _0x60000 + ( 639 ) )
001f87 e0fd     +LDI R31 , HIGH ( 2 * _0x60000 + ( 639 ) )
                 	__POINTW1FN _0x60000,639
001f88 940e 2e0b 	CALL SUBOPT_0xC
                 ; 0003 0249     #endif
                 ; 0003 024A     return pvalue;
                 _0x20C0015:
001f8a 01f8      	MOVW R30,R16
001f8b 940e 3599 	CALL __LOADLOCR4
                 _0x20C0016:
001f8d 9626      	ADIW R28,6
001f8e 9508      	RET
                 ; 0003 024B }
                 ; .FEND
                 ;
                 ;/*Set string value from key string after '=' Key=Value\r\n */
                 ;UCHAR SetValueReady(flash char *Key,const char ready_val)
                 ; 0003 024F {
                 _SetValueReady:
                 ; .FSTART _SetValueReady
                 ; 0003 0250     char *pvalue=NULL,*pkey;
                 ; 0003 0251     #ifndef  PETITFATFS
                 ; 0003 0252     strcpyf(path,"0:/1/project.txt");
                 ; 0003 0253     path[3]=dirnum+'0';
                 ; 0003 0254     #else
                 ; 0003 0255     strcpyf(path,"/1/project.txt");
001f8f 940e 31d4 	CALL SUBOPT_0x9B
                 ;	*Key -> Y+5
                 ;	ready_val -> Y+4
                 ;	*pvalue -> R16,R17
                 ;	*pkey -> R18,R19
001f91 940e 31ea 	CALL SUBOPT_0x9E
                +
001f93 e6ef     +LDI R30 , LOW ( 2 * _0x60000 + ( 653 ) )
001f94 e0fd     +LDI R31 , HIGH ( 2 * _0x60000 + ( 653 ) )
                 	__POINTW1FN _0x60000,653
001f95 940e 31ef 	CALL SUBOPT_0x9F
                 ; 0003 0256     path[1]=dirnum+'0';
001f97 91e0 03b0 	LDS  R30,_dirnum
001f99 5de0      	SUBI R30,-LOW(48)
                +
001f9a 93e0 0820+STS _path + ( 1 ) , R30
                 	__PUTB1MN _path,1
                 ; 0003 0257     #endif
                 ; 0003 0258     /* open the file in read mode */
                 ; 0003 0259     #ifndef  PETITFATFS
                 ; 0003 025A     if((res=f_open(&file,path,FA_READ|FA_OPEN_EXISTING))==FR_OK)
                 ; 0003 025B     #else
                 ; 0003 025C     if ((res=pf_open(path))==FR_OK)
001f9c 940e 31ea 	CALL SUBOPT_0x9E
001f9e 940e 31f8 	CALL SUBOPT_0xA1
001fa0 f459      	BRNE _0x600E3
                 ; 0003 025D     #endif
                 ; 0003 025E     {
                 ; 0003 025F        #ifdef PRINT_DEBUG
                 ; 0003 0260        if(debug){
001fa1 91e0 03af 	LDS  R30,_debug
001fa3 30e0      	CPI  R30,0
001fa4 f031      	BREQ _0x600E4
                 ; 0003 0261        printf("\r\nFile %s opened OK.\r\n",path);
001fa5 940e 31fe 	CALL SUBOPT_0xA2
                 ; 0003 0262        while(tx_counter);}
                 _0x600E5:
001fa7 91e0 0643 	LDS  R30,_tx_counter
001fa9 30e0      	CPI  R30,0
001faa f7e1      	BRNE _0x600E5
                 ; 0003 0263        #endif
                 ; 0003 0264     }
                 _0x600E4:
                 ; 0003 0265     else{
001fab c011      	RJMP _0x600E8
                 _0x600E3:
                 ; 0003 0266        /* an error occured, display it and stop */
                 ; 0003 0267        #ifdef PRINT_DEBUG
                 ; 0003 0268        if(debug){
001fac 91e0 03af 	LDS  R30,_debug
001fae 30e0      	CPI  R30,0
001faf f061      	BREQ _0x600E9
                 ; 0003 0269        printf("\r\nwrong path: %s\r\n",path);
                +
001fb0 e7ee     +LDI R30 , LOW ( 2 * _0x60000 + ( 668 ) )
001fb1 e0fd     +LDI R31 , HIGH ( 2 * _0x60000 + ( 668 ) )
                 	__POINTW1FN _0x60000,668
001fb2 93fa      	ST   -Y,R31
001fb3 93ea      	ST   -Y,R30
001fb4 e1ef      	LDI  R30,LOW(_path)
001fb5 e0f8      	LDI  R31,HIGH(_path)
001fb6 940e 2f9c 	CALL SUBOPT_0x44
                 ; 0003 026A        while(tx_counter);}
                 _0x600EA:
001fb8 91e0 0643 	LDS  R30,_tx_counter
001fba 30e0      	CPI  R30,0
001fbb f7e1      	BRNE _0x600EA
                 ; 0003 026B        #endif
                 ; 0003 026C        goto print_error;//RESerror(res);
                 _0x600E9:
001fbc c05e      	RJMP _0x600ED
                 ; 0003 026D     }
                 _0x600E8:
                 ; 0003 026E     #ifdef  PETITFATFS
                 ; 0003 026F     if((res=pf_lseek(0))!=FR_OK)
001fbd 940e 3205 	CALL SUBOPT_0xA3
001fbf f009      	BREQ _0x600EE
                 ; 0003 0270        goto print_error;//RESerror(res);
001fc0 c05a      	RJMP _0x600ED
                 ; 0003 0271     #endif
                 ; 0003 0272     /* read and display the file's content.
                 ; 0003 0273        make sure to leave space for a NULL terminator
                 ; 0003 0274        in the buffer, so maximum sizeof(buffer)-1 bytes can be read */
                 ; 0003 0275     #ifndef  PETITFATFS
                 ; 0003 0276     if((res=f_read(&file,buffer,sizeof(buffer)-1,&nbytes))==FR_OK)
                 ; 0003 0277     #else
                 ; 0003 0278     if((res=pf_read(buffer,sizeof(buffer)-1,&nbytes))==FR_OK)
                 _0x600EE:
001fc1 940e 3154 	CALL SUBOPT_0x8F
001fc3 940e 3218 	CALL SUBOPT_0xA5
001fc5 f009      	BREQ PC+2
001fc6 c04f      	RJMP _0x600EF
                 ; 0003 0279     #endif
                 ; 0003 027A     {
                 ; 0003 027B        buffer[nbytes]=NULL;
001fc7 940e 3145 	CALL SUBOPT_0x8C
001fc9 940e 314a 	CALL SUBOPT_0x8D
                 ; 0003 027C        if((pkey=strstrf(buffer,Key))==NULL){
001fcb 940e 3154 	CALL SUBOPT_0x8F
001fcd 81ef      	LDD  R30,Y+7
001fce 85f8      	LDD  R31,Y+7+1
001fcf 940e 31ac 	CALL SUBOPT_0x99
001fd1 9730      	SBIW R30,0
001fd2 f489      	BRNE _0x600F0
                 ; 0003 027D              #ifdef PRINT_DEBUG
                 ; 0003 027E              if(debug){
001fd3 91e0 03af 	LDS  R30,_debug
001fd5 30e0      	CPI  R30,0
001fd6 f061      	BREQ _0x600F1
                 ; 0003 027F              printf("\r\n%p key not found.",Key);
                +
001fd7 ebef     +LDI R30 , LOW ( 2 * _0x60000 + ( 477 ) )
001fd8 e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 477 ) )
                 	__POINTW1FN _0x60000,477
001fd9 93fa      	ST   -Y,R31
001fda 93ea      	ST   -Y,R30
001fdb 81ef      	LDD  R30,Y+7
001fdc 85f8      	LDD  R31,Y+7+1
001fdd 940e 2f9c 	CALL SUBOPT_0x44
                 ; 0003 0280              while(tx_counter);}
                 _0x600F2:
001fdf 91e0 0643 	LDS  R30,_tx_counter
001fe1 30e0      	CPI  R30,0
001fe2 f7e1      	BRNE _0x600F2
                 ; 0003 0281              #endif
                 ; 0003 0282              goto print_error;
                 _0x600F1:
001fe3 c037      	RJMP _0x600ED
                 ; 0003 0283        }
                 ; 0003 0284        pvalue=pkey+(strlenf(Key)+1);
                 _0x600F0:
001fe4 81ed      	LDD  R30,Y+5
001fe5 81fe      	LDD  R31,Y+5+1
001fe6 93fa      	ST   -Y,R31
001fe7 93ea      	ST   -Y,R30
001fe8 940e 322b 	CALL SUBOPT_0xA7
                 ; 0003 0285        *(pvalue+1)=ready_val;//=0xh
001fea 81ec      	LDD  R30,Y+4
                +
001feb 01d8     +MOVW R26 , R16
001fec 9611     +ADIW R26 , 1
001fed 93ec     +ST X , R30
                 	__PUTB1RNS 16,1
                 ; 0003 0286        #ifdef  PETITFATFS
                 ; 0003 0287        if((res=pf_lseek(0))!=FR_OK)
001fee 940e 3205 	CALL SUBOPT_0xA3
001ff0 f551      	BRNE _0x600ED
                 ; 0003 0288             goto print_error;//RESerror(res);
                 ; 0003 0289        if((res=pf_write(buffer,(nbytes-1),&nbytes))!=FR_OK)
001ff1 940e 3154 	CALL SUBOPT_0x8F
001ff3 940e 3145 	CALL SUBOPT_0x8C
001ff5 9731      	SBIW R30,1
001ff6 940e 3232 	CALL SUBOPT_0xA8
001ff8 f511      	BRNE _0x600ED
                 ; 0003 028A             goto print_error;
                 ; 0003 028B        if((res=pf_write(0,0,&nbytes))!=FR_OK)
001ff9 940e 323e 	CALL SUBOPT_0xA9
001ffb e0e0      	LDI  R30,LOW(0)
001ffc e0f0      	LDI  R31,HIGH(0)
001ffd 940e 3232 	CALL SUBOPT_0xA8
001fff f4d9      	BRNE _0x600ED
                 ; 0003 028C             goto print_error;
                 ; 0003 028D        #endif
                 ; 0003 028E        //pvalue[strpos(pvalue,'\r')]=NULL;
                 ; 0003 028F        #ifdef PRINT_DEBUG
                 ; 0003 0290        if(debug){
002000 91e0 03af 	LDS  R30,_debug
002002 30e0      	CPI  R30,0
002003 f089      	BREQ _0x600F8
                 ; 0003 0291        printf(" Found Key %p=%s.\r\n",Key,pvalue);
                +
002004 e4ed     +LDI R30 , LOW ( 2 * _0x60000 + ( 619 ) )
002005 e0fd     +LDI R31 , HIGH ( 2 * _0x60000 + ( 619 ) )
                 	__POINTW1FN _0x60000,619
002006 93fa      	ST   -Y,R31
002007 93ea      	ST   -Y,R30
002008 81ef      	LDD  R30,Y+7
002009 85f8      	LDD  R31,Y+7+1
00200a 2766      	CLR  R22
00200b 2777      	CLR  R23
00200c 940e 3530 	CALL __PUTPARD1
00200e 01f8      	MOVW R30,R16
00200f 940e 313d 	CALL SUBOPT_0x8A
                 ; 0003 0292        while(tx_counter);}
                 _0x600F9:
002011 91e0 0643 	LDS  R30,_tx_counter
002013 30e0      	CPI  R30,0
002014 f7e1      	BRNE _0x600F9
                 ; 0003 0293        #endif
                 ; 0003 0294     }
                 _0x600F8:
                 ; 0003 0295     else
002015 c001      	RJMP _0x600FC
                 _0x600EF:
                 ; 0003 0296         goto print_error;
002016 c004      	RJMP _0x600ED
                 ; 0003 0297     /* close the file */
                 ; 0003 0298     #ifndef  PETITFATFS
                 ; 0003 0299     if ((res=f_close(&file))==FR_OK)
                 ; 0003 029A     {
                 ; 0003 029B        #ifdef PRINT_DEBUG
                 ; 0003 029C        if(debug){
                 ; 0003 029D        printf("\r\nFile %s closed OK.\r\n",path);
                 ; 0003 029E        while(tx_counter);}
                 ; 0003 029F        #endif
                 ; 0003 02A0     }
                 ; 0003 02A1     else
                 ; 0003 02A2        /* an error occured, display it and stop */
                 ; 0003 02A3        goto print_error;//RESerror(res);
                 ; 0003 02A4     #endif
                 ; 0003 02A5     //goto print_error;//return the pointer to value
                 ; 0003 02A6     return TRUE;
                 _0x600FC:
002017 e0e1      	LDI  R30,LOW(1)
002018 940e 3599 	CALL __LOADLOCR4
00201a c061      	RJMP _0x20C0011
                 ; 0003 02A7 print_error:
                 _0x600ED:
                 ; 0003 02A8     #ifndef  PETITFATFS
                 ; 0003 02A9     f_close(&file);
                 ; 0003 02AA     RESerror(res);
                 ; 0003 02AB     #endif
                 ; 0003 02AC     return FALSE;
00201b e0e0      	LDI  R30,LOW(0)
00201c 940e 3599 	CALL __LOADLOCR4
00201e c05d      	RJMP _0x20C0011
                 ; 0003 02AD }
                 ; .FEND
                 ;//-----------------------------------------------------------------------
                 ;// PFF - Low level disk control module for ATmega32
                 ;//-----------------------------------------------------------------------
                 ;#define _WRITE_FUNC	1			//allow write operations
                 ;
                 ;#include "common.h"
                 	#ifndef __SLEEP_DEFINED__
                 	#endif
                 ;#include "diskio.h"
                 ;#include "mmc.h"
                 ;// Definitions for MMC/SDC connection
                 ;
                 ;//#define SD_INS  6
                 ;//#define SD_WP   7
                 ;
                 ;// Definitions for MMC/SDC command
                 ;#define CMD0	(0x40+0)	// GO_IDLE_STATE
                 ;#define CMD1	(0x40+1)	// SEND_OP_COND (MMC)
                 ;#define	ACMD41	(0xC0+41)	// SEND_OP_COND (SDC)
                 ;#define CMD8	(0x40+8)	// SEND_IF_COND
                 ;#define CMD16	(0x40+16)	// SET_BLOCKLEN
                 ;#define CMD17	(0x40+17)	// READ_SINGLE_BLOCK
                 ;#define CMD24	(0x40+24)	// WRITE_BLOCK
                 ;#define CMD55	(0x40+55)	// APP_CMD
                 ;#define CMD58	(0x40+58)	// READ_OCR
                 ;
                 ;//-----------------------------------------------------------------------
                 ;// SPI functions
                 ;//-----------------------------------------------------------------------
                 ;#define hardware_spi //  ,  spi 
                 ;
                 ;#define SPI_PORTX PORTB
                 ;#define SPI_DDRX DDRB
                 ;
                 ;#define SPI_MISO SD_DO
                 ;#define SPI_MOSI SD_DI
                 ;#define SPI_SCK SD_CLK
                 ;#define SPI_SS SD_CS
                 ;
                 ;void INIT_SPI(void) {
                 ; 0004 0026 void INIT_SPI(void) {
                 
                 	.CSEG
                 _INIT_SPI:
                 ; .FSTART _INIT_SPI
                 ; 0004 0027 #ifdef hardware_spi
                 ; 0004 0028 	/*  -
                 ; 0004 0029 	  ,  MISO */
                 ; 0004 002A 	SPI_DDRX |= (1 << SPI_MOSI) | (1 << SPI_SCK) | (1 << SPI_SS) | (0 << SPI_MISO);
00201f b1e4      	IN   R30,0x4
002020 62ec      	ORI  R30,LOW(0x2C)
002021 b9e4      	OUT  0x4,R30
                 ; 0004 002B 	SPI_PORTX |= (1 << SPI_MOSI) | (1 << SPI_SCK) | (1 << SPI_SS) | (1 << SPI_MISO);
002022 b1e5      	IN   R30,0x5
002023 63ec      	ORI  R30,LOW(0x3C)
002024 b9e5      	OUT  0x5,R30
                 ; 0004 002C 
                 ; 0004 002D 	/* spi,  ,,  0*/
                 ; 0004 002E 	SPCR = (1 << SPE) | (0 << DORD) | (1 << MSTR) | (0 << CPOL) | (0 << CPHA) | (0 << SPR1) | (0 << SPR0);
002025 e5e0      	LDI  R30,LOW(80)
002026 bdec      	OUT  0x2C,R30
                 ; 0004 002F 	SPSR = (1 << SPI2X);
002027 e0e1      	LDI  R30,LOW(1)
002028 bded      	OUT  0x2D,R30
                 ; 0004 0030 #else
                 ; 0004 0031 	PORTB |= (1<<SD_CS) | (1<<SD_DO) | (1<<SD_DI)/* | (1<<SD_WP) | (1<<SD_INS)*/;
                 ; 0004 0032 	DDRB |=(1<<SD_CS) | (1<<SD_DI) | (1<<SD_CLK);
                 ; 0004 0033 #endif
                 ; 0004 0034 }
002029 9508      	RET
                 ; .FEND
                 ;
                 ;void xmit_spi(BYTE data) {		// Send a byte
                 ; 0004 0036 void xmit_spi(BYTE data) {
                 _xmit_spi:
                 ; .FSTART _xmit_spi
                 ; 0004 0037 #ifdef hardware_spi
                 ; 0004 0038 	SPDR = data;
                 ;	data -> Y+0
00202a 81e8      	LD   R30,Y
00202b bdee      	OUT  0x2E,R30
                 ; 0004 0039 	while (!(SPSR & (1 << SPIF)));
                 _0x80003:
00202c b5ed      	IN   R30,0x2D
00202d 78e0      	ANDI R30,LOW(0x80)
00202e f3e9      	BREQ _0x80003
                 ; 0004 003A #else
                 ; 0004 003B 	BYTE i;
                 ; 0004 003C 
                 ; 0004 003D 	for (i = 0; i < 8; i++) {
                 ; 0004 003E 		if ((data & 0x80) == 0x00)
                 ; 0004 003F 			PORTB &= ~(1<<SD_DI);
                 ; 0004 0040 		else
                 ; 0004 0041 			PORTB |= (1<<SD_DI);
                 ; 0004 0042 		data = data << 1;
                 ; 0004 0043 		PORTB |= (1<<SD_CLK);
                 ; 0004 0044 		#asm("nop")
                 ; 0004 0045 		PORTB &= ~(1<<SD_CLK);
                 ; 0004 0046 	}
                 ; 0004 0047 #endif
                 ; 0004 0048 }
                 _0x20C0014:
00202f 9621      	ADIW R28,1
002030 9508      	RET
                 ; .FEND
                 ;
                 ;BYTE rcv_spi(void) {				// Send 0xFF and receive a byte
                 ; 0004 004A BYTE rcv_spi(void) {
                 _rcv_spi:
                 ; .FSTART _rcv_spi
                 ; 0004 004B #ifdef hardware_spi
                 ; 0004 004C 	unsigned char data;
                 ; 0004 004D 	SPDR = 0xFF;
002031 931a      	ST   -Y,R17
                 ;	data -> R17
002032 efef      	LDI  R30,LOW(255)
002033 bdee      	OUT  0x2E,R30
                 ; 0004 004E 	while (!(SPSR & (1 << SPIF)));
                 _0x80006:
002034 b5ed      	IN   R30,0x2D
002035 78e0      	ANDI R30,LOW(0x80)
002036 f3e9      	BREQ _0x80006
                 ; 0004 004F 	data = SPDR;
002037 b51e      	IN   R17,46
                 ; 0004 0050 	return data;
                 _0x20C0012:
002038 2fe1      	MOV  R30,R17
                 _0x20C0013:
002039 9119      	LD   R17,Y+
00203a 9508      	RET
                 ; 0004 0051 #else
                 ; 0004 0052 	BYTE i, res = 0;
                 ; 0004 0053 
                 ; 0004 0054 	PORTB |= (1<<SD_DI);
                 ; 0004 0055 
                 ; 0004 0056 	for (i = 0; i < 8; i++) {
                 ; 0004 0057 		PORTB |= (1<<SD_CLK);
                 ; 0004 0058 		res = res << 1;
                 ; 0004 0059 		if ((PINB & (1<<SD_DO))!=0x00)
                 ; 0004 005A 		res = res | 0x01;
                 ; 0004 005B 		PORTB &= ~(1<<SD_CLK);
                 ; 0004 005C 		#asm("nop")
                 ; 0004 005D 	}
                 ; 0004 005E 	return res;
                 ; 0004 005F #endif
                 ; 0004 0060 } /* Send 0xFF and receive a byte */
                 ; .FEND
                 ;//-----------------------------------------------------------------------
                 ;
                 ;
                 ;
                 ;//-----------------------------------------------------------------------
                 ;//   Module Private Function
                 ;//-----------------------------------------------------------------------
                 ;static BYTE CardType;
                 ;
                 ;//-----------------------------------------------------------------------
                 ;// Deselect the card and release SPI bus
                 ;//-----------------------------------------------------------------------
                 ;static
                 ;void release_spi (void)
                 ; 0004 006F {
                 _release_spi_G004:
                 ; .FSTART _release_spi_G004
                 ; 0004 0070 	rcv_spi();
00203b dff5      	RCALL _rcv_spi
                 ; 0004 0071 }
00203c 9508      	RET
                 ; .FEND
                 ;
                 ;//-----------------------------------------------------------------------
                 ;// Send a command packet to MMC
                 ;//-----------------------------------------------------------------------
                 ;static
                 ;BYTE send_cmd (
                 ; 0004 0078 	BYTE cmd,		// Command byte
                 ; 0004 0079 	DWORD arg		// Argument
                 ; 0004 007A )
                 ; 0004 007B {
                 _send_cmd_G004:
                 ; .FSTART _send_cmd_G004
                 ; 0004 007C 	BYTE n, res;
                 ; 0004 007D 
                 ; 0004 007E 
                 ; 0004 007F 	if (cmd & 0x80) {	// ACMD<n> is the command sequense of CMD55-CMD<n>
00203d 931a      	ST   -Y,R17
00203e 930a      	ST   -Y,R16
                 ;	cmd -> Y+6
                 ;	arg -> Y+2
                 ;	n -> R17
                 ;	res -> R16
00203f 81ee      	LDD  R30,Y+6
002040 78e0      	ANDI R30,LOW(0x80)
002041 f049      	BREQ _0x80009
                 ; 0004 0080 		cmd &= 0x7F;
002042 81ee      	LDD  R30,Y+6
002043 77ef      	ANDI R30,0x7F
002044 83ee      	STD  Y+6,R30
                 ; 0004 0081 		res = send_cmd(CMD55, 0);
002045 e7e7      	LDI  R30,LOW(119)
002046 940e 3243 	CALL SUBOPT_0xAA
002048 2f0e      	MOV  R16,R30
                 ; 0004 0082 		if (res > 1) return res;
002049 3002      	CPI  R16,2
00204a f570      	BRSH _0x20C0010
                 ; 0004 0083 	}
                 ; 0004 0084 
                 ; 0004 0085 	// Select the card
                 ; 0004 0086 	DESELECT();
                 _0x80009:
00204b 9a2a      	SBI  0x5,2
                 ; 0004 0087 	rcv_spi();
00204c dfe4      	RCALL _rcv_spi
                 ; 0004 0088 	SELECT();
00204d 982a      	CBI  0x5,2
                 ; 0004 0089 	rcv_spi();
00204e dfe2      	RCALL _rcv_spi
                 ; 0004 008A 
                 ; 0004 008B 	// Send a command packet
                 ; 0004 008C 	xmit_spi(cmd);						// Start + Command index
00204f 81ee      	LDD  R30,Y+6
002050 940e 324c 	CALL SUBOPT_0xAB
                 ; 0004 008D 	xmit_spi((BYTE)(arg >> 24));		// Argument[31..24]
002052 e1e8      	LDI  R30,LOW(24)
002053 940e 3469 	CALL __LSRD12
002055 93ea      	ST   -Y,R30
002056 dfd3      	RCALL _xmit_spi
                 ; 0004 008E 	xmit_spi((BYTE)(arg >> 16));		// Argument[23..16]
002057 940e 3254 	CALL SUBOPT_0xAC
002059 940e 3493 	CALL __LSRD16
00205b 940e 324c 	CALL SUBOPT_0xAB
                 ; 0004 008F 	xmit_spi((BYTE)(arg >> 8));			// Argument[15..8]
00205d e0e8      	LDI  R30,LOW(8)
00205e 940e 3469 	CALL __LSRD12
002060 93ea      	ST   -Y,R30
002061 dfc8      	RCALL _xmit_spi
                 ; 0004 0090 	xmit_spi((BYTE)arg);				// Argument[7..0]
002062 81ea      	LDD  R30,Y+2
002063 93ea      	ST   -Y,R30
002064 dfc5      	RCALL _xmit_spi
                 ; 0004 0091 	n = 0x01;							// Dummy CRC + Stop
002065 e011      	LDI  R17,LOW(1)
                 ; 0004 0092 	if (cmd == CMD0) n = 0x95;			// Valid CRC for CMD0(0)
002066 81ae      	LDD  R26,Y+6
002067 34a0      	CPI  R26,LOW(0x40)
002068 f409      	BRNE _0x8000B
002069 e915      	LDI  R17,LOW(149)
                 ; 0004 0093 	if (cmd == CMD8) n = 0x87;			// Valid CRC for CMD8(0x1AA)
                 _0x8000B:
00206a 81ae      	LDD  R26,Y+6
00206b 34a8      	CPI  R26,LOW(0x48)
00206c f409      	BRNE _0x8000C
00206d e817      	LDI  R17,LOW(135)
                 ; 0004 0094 	xmit_spi(n);
                 _0x8000C:
00206e 931a      	ST   -Y,R17
00206f dfba      	RCALL _xmit_spi
                 ; 0004 0095 
                 ; 0004 0096 	// Receive a command response
                 ; 0004 0097 	n = 10;								// Wait for a valid response in timeout of 10 attempts
002070 e01a      	LDI  R17,LOW(10)
                 ; 0004 0098 	do {
                 _0x8000E:
                 ; 0004 0099 		res = rcv_spi();
002071 dfbf      	RCALL _rcv_spi
002072 2f0e      	MOV  R16,R30
                 ; 0004 009A 	} while ((res & 0x80) && --n);
002073 ff07      	SBRS R16,7
002074 c002      	RJMP _0x80010
002075 5011      	SUBI R17,LOW(1)
002076 f409      	BRNE _0x80011
                 _0x80010:
002077 c001      	RJMP _0x8000F
                 _0x80011:
002078 cff8      	RJMP _0x8000E
                 _0x8000F:
                 ; 0004 009B 
                 ; 0004 009C 	return res;			// Return with the response value
                 _0x20C0010:
002079 2fe0      	MOV  R30,R16
00207a 8119      	LDD  R17,Y+1
00207b 8108      	LDD  R16,Y+0
                 _0x20C0011:
00207c 9627      	ADIW R28,7
00207d 9508      	RET
                 ; 0004 009D }
                 ; .FEND
                 ;
                 ;//--------------------------------------------------------------------------
                 ;//
                 ;//   Public Functions
                 ;//
                 ;//--------------------------------------------------------------------------
                 ;
                 ;//--------------------------------------------------------------------------
                 ;// Initialize Disk Drive
                 ;//--------------------------------------------------------------------------
                 ;DSTATUS disk_initialize (void)
                 ; 0004 00A9 {
                 _disk_initialize:
                 ; .FSTART _disk_initialize
                 ; 0004 00AA 	BYTE n, cmd, ty, ocr[4];
                 ; 0004 00AB 	WORD tmr;
                 ; 0004 00AC 
                 ; 0004 00AD 
                 ; 0004 00AE 	INIT_SPI();
00207e 9724      	SBIW R28,4
00207f 940e 3590 	CALL __SAVELOCR6
                 ;	n -> R17
                 ;	cmd -> R16
                 ;	ty -> R19
                 ;	ocr -> Y+6
                 ;	tmr -> R20,R21
002081 df9d      	RCALL _INIT_SPI
                 ; 0004 00AF 
                 ; 0004 00B0 //	if ((PINB&_BV(SD_INS))!=0x00) return STA_NOINIT;
                 ; 0004 00B1 
                 ; 0004 00B2 #if _WRITE_FUNC
                 ; 0004 00B3 	if (MMC_SEL) disk_writep(0, 0);		// Finalize write process if it is in progress
002082 992a      	SBIC 0x5,2
002083 c005      	RJMP _0x80012
002084 940e 323e 	CALL SUBOPT_0xA9
002086 940e 3259 	CALL SUBOPT_0xAD
002088 d0f5      	RCALL _disk_writep
                 ; 0004 00B4 #endif
                 ; 0004 00B5 	for (n = 100; n; n--) rcv_spi();	// Dummy clocks
                 _0x80012:
002089 e614      	LDI  R17,LOW(100)
                 _0x80014:
00208a 3010      	CPI  R17,0
00208b f019      	BREQ _0x80015
00208c dfa4      	RCALL _rcv_spi
00208d 5011      	SUBI R17,1
00208e cffb      	RJMP _0x80014
                 _0x80015:
                 ; 0004 00B7 ty = 0;
00208f e030      	LDI  R19,LOW(0)
                 ; 0004 00B8 	if (send_cmd(CMD0, 0) == 1) {			// Enter Idle state
002090 e4e0      	LDI  R30,LOW(64)
002091 940e 3243 	CALL SUBOPT_0xAA
002093 30e1      	CPI  R30,LOW(0x1)
002094 f009      	BREQ PC+2
002095 c075      	RJMP _0x80016
                 ; 0004 00B9 		if (send_cmd(CMD8, 0x1AA) == 1) {	// SDv2
002096 e4e8      	LDI  R30,LOW(72)
002097 93ea      	ST   -Y,R30
                +
002098 eaea     +LDI R30 , LOW ( 0x1AA )
002099 e0f1     +LDI R31 , HIGH ( 0x1AA )
00209a e060     +LDI R22 , BYTE3 ( 0x1AA )
00209b e070     +LDI R23 , BYTE4 ( 0x1AA )
                 	__GETD1N 0x1AA
00209c 940e 3260 	CALL SUBOPT_0xAE
00209e 30e1      	CPI  R30,LOW(0x1)
00209f f009      	BREQ PC+2
0020a0 c045      	RJMP _0x80017
                 ; 0004 00BA 			for (n = 0; n < 4; n++) ocr[n] = rcv_spi();		// Get trailing return value of R7 resp
0020a1 e010      	LDI  R17,LOW(0)
                 _0x80019:
0020a2 3014      	CPI  R17,4
0020a3 f450      	BRSH _0x8001A
0020a4 940e 3264 	CALL SUBOPT_0xAF
0020a6 93ff      	PUSH R31
0020a7 93ef      	PUSH R30
0020a8 df88      	RCALL _rcv_spi
0020a9 91af      	POP  R26
0020aa 91bf      	POP  R27
0020ab 93ec      	ST   X,R30
0020ac 5f1f      	SUBI R17,-1
0020ad cff4      	RJMP _0x80019
                 _0x8001A:
                 ; 0004 00BB if (ocr[2] == 0x01 && ocr[3] == 0xAA) {
0020ae 85a8      	LDD  R26,Y+8
0020af 30a1      	CPI  R26,LOW(0x1)
0020b0 f419      	BRNE _0x8001C
0020b1 85a9      	LDD  R26,Y+9
0020b2 3aaa      	CPI  R26,LOW(0xAA)
0020b3 f009      	BREQ _0x8001D
                 _0x8001C:
0020b4 c030      	RJMP _0x8001B
                 _0x8001D:
                 ; 0004 00BC 				for (tmr = 12000; tmr && send_cmd(ACMD41, 1UL << 30); tmr--) ;	// Wait for leaving idle state (ACMD41 with HCS bit)
                +
0020b5 ee40     +LDI R20 , LOW ( 12000 )
0020b6 e25e     +LDI R21 , HIGH ( 12000 )
                 	__GETWRN 20,21,12000
                 _0x8001F:
0020b7 2e04      	MOV  R0,R20
0020b8 2a05      	OR   R0,R21
0020b9 f051      	BREQ _0x80021
0020ba eee9      	LDI  R30,LOW(233)
0020bb 93ea      	ST   -Y,R30
                +
0020bc e0e0     +LDI R30 , LOW ( 0x40000000 )
0020bd e0f0     +LDI R31 , HIGH ( 0x40000000 )
0020be e060     +LDI R22 , BYTE3 ( 0x40000000 )
0020bf e470     +LDI R23 , BYTE4 ( 0x40000000 )
                 	__GETD1N 0x40000000
0020c0 940e 3260 	CALL SUBOPT_0xAE
0020c2 30e0      	CPI  R30,0
0020c3 f409      	BRNE _0x80022
                 _0x80021:
0020c4 c003      	RJMP _0x80020
                 _0x80022:
                +
0020c5 5041     +SUBI R20 , LOW ( 1 )
0020c6 4050     +SBCI R21 , HIGH ( 1 )
                 	__SUBWRN 20,21,1
0020c7 cfef      	RJMP _0x8001F
                 _0x80020:
                 ; 0004 00BD 				if (tmr && send_cmd(CMD58, 0) == 0) {		// Check CCS bit in the OCR
0020c8 2e04      	MOV  R0,R20
0020c9 2a05      	OR   R0,R21
0020ca f029      	BREQ _0x80024
0020cb e7ea      	LDI  R30,LOW(122)
0020cc 940e 3243 	CALL SUBOPT_0xAA
0020ce 30e0      	CPI  R30,0
0020cf f009      	BREQ _0x80025
                 _0x80024:
0020d0 c014      	RJMP _0x80023
                 _0x80025:
                 ; 0004 00BE 					for (n = 0; n < 4; n++) ocr[n] = rcv_spi();
0020d1 e010      	LDI  R17,LOW(0)
                 _0x80027:
0020d2 3014      	CPI  R17,4
0020d3 f450      	BRSH _0x80028
0020d4 940e 3264 	CALL SUBOPT_0xAF
0020d6 93ff      	PUSH R31
0020d7 93ef      	PUSH R30
0020d8 df58      	RCALL _rcv_spi
0020d9 91af      	POP  R26
0020da 91bf      	POP  R27
0020db 93ec      	ST   X,R30
0020dc 5f1f      	SUBI R17,-1
0020dd cff4      	RJMP _0x80027
                 _0x80028:
                 ; 0004 00BF ty = (ocr[0] & 0x40) ? 0x04	 | 0x08	 : 0x04	;
0020de 81ee      	LDD  R30,Y+6
0020df 74e0      	ANDI R30,LOW(0x40)
0020e0 f011      	BREQ _0x80029
0020e1 e0ec      	LDI  R30,LOW(12)
0020e2 c001      	RJMP _0x8002A
                 _0x80029:
0020e3 e0e4      	LDI  R30,LOW(4)
                 _0x8002A:
0020e4 2f3e      	MOV  R19,R30
                 ; 0004 00C0 				}
                 ; 0004 00C1 			}
                 _0x80023:
                 ; 0004 00C2 		} else {							// SDv1 or MMCv3
                 _0x8001B:
0020e5 c025      	RJMP _0x8002C
                 _0x80017:
                 ; 0004 00C3 			if (send_cmd(ACMD41, 0) <= 1) 	{
0020e6 eee9      	LDI  R30,LOW(233)
0020e7 940e 3243 	CALL SUBOPT_0xAA
0020e9 30e2      	CPI  R30,LOW(0x2)
0020ea f418      	BRSH _0x8002D
                 ; 0004 00C4 				ty = CT_SD1; cmd = ACMD41;	// SDv1
0020eb e032      	LDI  R19,LOW(2)
0020ec ee09      	LDI  R16,LOW(233)
                 ; 0004 00C5 			} else {
0020ed c002      	RJMP _0x8002E
                 _0x8002D:
                 ; 0004 00C6 				ty = CT_MMC; cmd = CMD1;	// MMCv3
0020ee e031      	LDI  R19,LOW(1)
0020ef e401      	LDI  R16,LOW(65)
                 ; 0004 00C7 			}
                 _0x8002E:
                 ; 0004 00C8 			for (tmr = 25000; tmr && send_cmd(cmd, 0); tmr--) ;	// Wait for leaving idle state
                +
0020f0 ea48     +LDI R20 , LOW ( 25000 )
0020f1 e651     +LDI R21 , HIGH ( 25000 )
                 	__GETWRN 20,21,25000
                 _0x80030:
0020f2 2e04      	MOV  R0,R20
0020f3 2a05      	OR   R0,R21
0020f4 f031      	BREQ _0x80032
0020f5 930a      	ST   -Y,R16
0020f6 940e 3259 	CALL SUBOPT_0xAD
0020f8 df44      	RCALL _send_cmd_G004
0020f9 30e0      	CPI  R30,0
0020fa f409      	BRNE _0x80033
                 _0x80032:
0020fb c003      	RJMP _0x80031
                 _0x80033:
                +
0020fc 5041     +SUBI R20 , LOW ( 1 )
0020fd 4050     +SBCI R21 , HIGH ( 1 )
                 	__SUBWRN 20,21,1
0020fe cff3      	RJMP _0x80030
                 _0x80031:
                 ; 0004 00C9 			if (!tmr || send_cmd(CMD16, 512) != 0)			// Set R/W block length to 512
0020ff 2e04      	MOV  R0,R20
002100 2a05      	OR   R0,R21
002101 f041      	BREQ _0x80035
002102 e5e0      	LDI  R30,LOW(80)
002103 93ea      	ST   -Y,R30
002104 940e 326b 	CALL SUBOPT_0xB0
002106 940e 3260 	CALL SUBOPT_0xAE
002108 30e0      	CPI  R30,0
002109 f009      	BREQ _0x80034
                 _0x80035:
                 ; 0004 00CA 				ty = 0;
00210a e030      	LDI  R19,LOW(0)
                 ; 0004 00CB 		}
                 _0x80034:
                 _0x8002C:
                 ; 0004 00CC 	}
                 ; 0004 00CD 	CardType = ty;
                 _0x80016:
00210b 9330 0832 	STS  _CardType_G004,R19
                 ; 0004 00CE 	release_spi();
00210d df2d      	RCALL _release_spi_G004
                 ; 0004 00CF 
                 ; 0004 00D0 #ifdef hardware_spi
                 ; 0004 00D1 	//  SPI!!!--------------------------------------------
                 ; 0004 00D2 	SPCR &= ~((1 << SPR1) | (1 << SPR0)); //  
00210e b5ec      	IN   R30,0x2C
00210f 7fec      	ANDI R30,LOW(0xFC)
002110 bdec      	OUT  0x2C,R30
                 ; 0004 00D3 	SPSR |= (1 << SPI2X); //  
002111 b5ed      	IN   R30,0x2D
002112 60e1      	ORI  R30,1
002113 bded      	OUT  0x2D,R30
                 ; 0004 00D4 	//------------------------------------------------------------------
                 ; 0004 00D5 #endif
                 ; 0004 00D6 
                 ; 0004 00D7 	return ty ? 0 : STA_NOINIT;
002114 3030      	CPI  R19,0
002115 f011      	BREQ _0x80037
002116 e0e0      	LDI  R30,LOW(0)
002117 c001      	RJMP _0x80038
                 _0x80037:
002118 e0e1      	LDI  R30,LOW(1)
                 _0x80038:
002119 940e 3597 	CALL __LOADLOCR6
00211b c2d2      	RJMP _0x20C000D
                 ; 0004 00D8 }
                 ; .FEND
                 ;//-----------------------------------------------------------------------
                 ;// Read partial sector
                 ;//-----------------------------------------------------------------------
                 ;
                 ;DRESULT disk_readp (
                 ; 0004 00DE 	BYTE *buff,		// Pointer to the read buffer (NULL:Read bytes are forwarded to the stream)
                 ; 0004 00DF 	DWORD lba,		// Sector number (LBA)
                 ; 0004 00E0 	WORD ofs,		// Byte offset to read from (0..511)
                 ; 0004 00E1 	WORD cnt		// Number of bytes to read (ofs + cnt mus be <= 512)
                 ; 0004 00E2 )
                 ; 0004 00E3 {
                 _disk_readp:
                 ; .FSTART _disk_readp
                 ; 0004 00E4 	DRESULT res;
                 ; 0004 00E5 	BYTE rc;
                 ; 0004 00E6 	WORD bc;
                 ; 0004 00E7 
                 ; 0004 00E8 //	if ((PINB&_BV(SD_INS))!=0x00) return RES_ERROR;
                 ; 0004 00E9 
                 ; 0004 00EA 	if (!(CardType & CT_BLOCK)) lba *= 512;		// Convert to byte address if needed
00211c 940e 3592 	CALL __SAVELOCR4
                 ;	*buff -> Y+12
                 ;	lba -> Y+8
                 ;	ofs -> Y+6
                 ;	cnt -> Y+4
                 ;	res -> R17
                 ;	rc -> R16
                 ;	bc -> R18,R19
00211e 91e0 0832 	LDS  R30,_CardType_G004
002120 70e8      	ANDI R30,LOW(0x8)
002121 f431      	BRNE _0x8003A
002122 940e 3270 	CALL SUBOPT_0xB1
002124 940e 3275 	CALL SUBOPT_0xB2
002126 940e 327c 	CALL SUBOPT_0xB3
                 ; 0004 00EB 
                 ; 0004 00EC 	res = RES_ERROR;
                 _0x8003A:
002128 e011      	LDI  R17,LOW(1)
                 ; 0004 00ED 	if (send_cmd(CMD17, lba) == 0) {		// READ_SINGLE_BLOCK
002129 e5e1      	LDI  R30,LOW(81)
00212a 93ea      	ST   -Y,R30
00212b 940e 3281 	CALL SUBOPT_0xB4
00212d 940e 3260 	CALL SUBOPT_0xAE
00212f 30e0      	CPI  R30,0
002130 f009      	BREQ PC+2
002131 c047      	RJMP _0x8003B
                 ; 0004 00EE 
                 ; 0004 00EF 		bc = 30000;
                +
002132 e320     +LDI R18 , LOW ( 30000 )
002133 e735     +LDI R19 , HIGH ( 30000 )
                 	__GETWRN 18,19,30000
                 ; 0004 00F0 		do {							// Wait for data packet in timeout of 100ms
                 _0x8003D:
                 ; 0004 00F1 			rc = rcv_spi();
002134 defc      	RCALL _rcv_spi
002135 2f0e      	MOV  R16,R30
                 ; 0004 00F2 		} while (rc == 0xFF && --bc);
002136 3f0f      	CPI  R16,255
002137 f419      	BRNE _0x8003F
                +
002138 5021     +SUBI R18 , LOW ( 1 )
002139 4030     +SBCI R19 , HIGH ( 1 )
                 	__SUBWRN 18,19,1
00213a f409      	BRNE _0x80040
                 _0x8003F:
00213b c001      	RJMP _0x8003E
                 _0x80040:
00213c cff7      	RJMP _0x8003D
                 _0x8003E:
                 ; 0004 00F3 
                 ; 0004 00F4 		if (rc == 0xFE) {				// A data packet arrived
00213d 3f0e      	CPI  R16,254
00213e f5d1      	BRNE _0x80041
                 ; 0004 00F5 			bc = 514 - ofs - cnt;
00213f 81ae      	LDD  R26,Y+6
002140 81bf      	LDD  R27,Y+6+1
002141 e0e2      	LDI  R30,LOW(514)
002142 e0f2      	LDI  R31,HIGH(514)
002143 1bea      	SUB  R30,R26
002144 0bfb      	SBC  R31,R27
002145 01df      	MOVW R26,R30
002146 81ec      	LDD  R30,Y+4
002147 81fd      	LDD  R31,Y+4+1
002148 1bae      	SUB  R26,R30
002149 0bbf      	SBC  R27,R31
00214a 019d      	MOVW R18,R26
                 ; 0004 00F6 
                 ; 0004 00F7 			// Skip leading bytes
                 ; 0004 00F8 			if (ofs) {
00214b 81ee      	LDD  R30,Y+6
00214c 81ff      	LDD  R31,Y+6+1
00214d 9730      	SBIW R30,0
00214e f039      	BREQ _0x80042
                 ; 0004 00F9 				do rcv_spi(); while (--ofs);
                 _0x80044:
00214f dee1      	RCALL _rcv_spi
002150 81ee      	LDD  R30,Y+6
002151 81ff      	LDD  R31,Y+6+1
002152 9731      	SBIW R30,1
002153 83ee      	STD  Y+6,R30
002154 83ff      	STD  Y+6+1,R31
002155 f7c9      	BRNE _0x80044
                 ; 0004 00FA 			}
                 ; 0004 00FB 
                 ; 0004 00FC 			// Receive a part of the sector
                 ; 0004 00FD 			if (buff) {	// Store data to the memory
                 _0x80042:
002156 85ec      	LDD  R30,Y+12
002157 85fd      	LDD  R31,Y+12+1
002158 9730      	SBIW R30,0
002159 f099      	BREQ _0x80046
                 ; 0004 00FE 				do
                 _0x80048:
                 ; 0004 00FF 					*buff++ = rcv_spi();
00215a 85ec      	LDD  R30,Y+12
00215b 85fd      	LDD  R31,Y+12+1
00215c 9631      	ADIW R30,1
00215d 87ec      	STD  Y+12,R30
00215e 87fd      	STD  Y+12+1,R31
00215f 9731      	SBIW R30,1
002160 93ff      	PUSH R31
002161 93ef      	PUSH R30
002162 dece      	RCALL _rcv_spi
002163 91af      	POP  R26
002164 91bf      	POP  R27
002165 93ec      	ST   X,R30
                 ; 0004 0100 				while (--cnt);
002166 81ec      	LDD  R30,Y+4
002167 81fd      	LDD  R31,Y+4+1
002168 9731      	SBIW R30,1
002169 83ec      	STD  Y+4,R30
00216a 83fd      	STD  Y+4+1,R31
00216b f771      	BRNE _0x80048
                 ; 0004 0101 			} else {	// Forward data to the outgoing stream (depends on the project)
00216c c006      	RJMP _0x8004A
                 _0x80046:
                 ; 0004 0102 				do
                 _0x8004C:
                 ; 0004 0103                 ;//uart_transmit(rcv_spi());		// (Console output)
                 ; 0004 0104 				while (--cnt);
00216d 81ec      	LDD  R30,Y+4
00216e 81fd      	LDD  R31,Y+4+1
00216f 9731      	SBIW R30,1
002170 83ec      	STD  Y+4,R30
002171 83fd      	STD  Y+4+1,R31
002172 f7d1      	BRNE _0x8004C
                 ; 0004 0105 			}
                 _0x8004A:
                 ; 0004 0106 
                 ; 0004 0107 			// Skip trailing bytes and CRC
                 ; 0004 0108 			do rcv_spi(); while (--bc);
                 _0x8004F:
002173 debd      	RCALL _rcv_spi
002174 01f9      	MOVW R30,R18
002175 9731      	SBIW R30,1
002176 019f      	MOVW R18,R30
002177 f7d9      	BRNE _0x8004F
                 ; 0004 0109 
                 ; 0004 010A 			res = RES_OK;
002178 e010      	LDI  R17,LOW(0)
                 ; 0004 010B 		}
                 ; 0004 010C 	}
                 _0x80041:
                 ; 0004 010D 
                 ; 0004 010E 	release_spi();
                 _0x8003B:
002179 dec1      	RCALL _release_spi_G004
                 ; 0004 010F 
                 ; 0004 0110 	return res;
00217a 2fe1      	MOV  R30,R17
00217b 940e 3599 	CALL __LOADLOCR4
00217d c333      	RJMP _0x20C000B
                 ; 0004 0111 }
                 ; .FEND
                 ;
                 ;//-----------------------------------------------------------------------
                 ;// Write partial sector
                 ;//-----------------------------------------------------------------------
                 ;#if _WRITE_FUNC
                 ;
                 ;DRESULT disk_writep (
                 ; 0004 0119 	const BYTE *buff,	// Pointer to the bytes to be written (NULL:Initiate/Finalize sector write)
                 ; 0004 011A 	DWORD sa			// Number of bytes to send, Sector number (LBA) or zero
                 ; 0004 011B )
                 ; 0004 011C {
                 _disk_writep:
                 ; .FSTART _disk_writep
                 ; 0004 011D 	DRESULT res;
                 ; 0004 011E 	WORD bc;
                 ; 0004 011F 	static WORD wc;
                 ; 0004 0120 
                 ; 0004 0121 //	if ((PINB&_BV(SD_INS))!=0x00) return RES_ERROR;
                 ; 0004 0122 //	if ((PINB&_BV(SD_WP))!=0x00) return RES_ERROR;
                 ; 0004 0123 
                 ; 0004 0124 	res = RES_ERROR;
00217e 940e 3592 	CALL __SAVELOCR4
                 ;	*buff -> Y+8
                 ;	sa -> Y+4
                 ;	res -> R17
                 ;	bc -> R18,R19
002180 e011      	LDI  R17,LOW(1)
                 ; 0004 0125 
                 ; 0004 0126 	if (buff) {		// Send data bytes
002181 85e8      	LDD  R30,Y+8
002182 85f9      	LDD  R31,Y+8+1
002183 9730      	SBIW R30,0
002184 f0f9      	BREQ _0x80051
                 ; 0004 0127 		bc = (WORD)sa;
                +
002185 812c     +LDD R18 , Y + 4
002186 813d     +LDD R19 , Y + 4 + 1
                 	__GETWRS 18,19,4
                 ; 0004 0128 		while (bc && wc) {		// Send data bytes to the card
                 _0x80052:
002187 2e02      	MOV  R0,R18
002188 2a03      	OR   R0,R19
002189 f031      	BREQ _0x80055
00218a 91e0 0833 	LDS  R30,_wc_S0040007000
00218c 91f0 0834 	LDS  R31,_wc_S0040007000+1
00218e 9730      	SBIW R30,0
00218f f409      	BRNE _0x80056
                 _0x80055:
002190 c011      	RJMP _0x80054
                 _0x80056:
                 ; 0004 0129 			xmit_spi(*buff++);
002191 85a8      	LDD  R26,Y+8
002192 85b9      	LDD  R27,Y+8+1
002193 91ed      	LD   R30,X+
002194 87a8      	STD  Y+8,R26
002195 87b9      	STD  Y+8+1,R27
002196 93ea      	ST   -Y,R30
002197 de92      	RCALL _xmit_spi
                 ; 0004 012A 			wc--; bc--;
002198 e3a3      	LDI  R26,LOW(_wc_S0040007000)
002199 e0b8      	LDI  R27,HIGH(_wc_S0040007000)
00219a 91ed      	LD   R30,X+
00219b 91fd      	LD   R31,X+
00219c 9731      	SBIW R30,1
00219d 93fe      	ST   -X,R31
00219e 93ee      	ST   -X,R30
                +
00219f 5021     +SUBI R18 , LOW ( 1 )
0021a0 4030     +SBCI R19 , HIGH ( 1 )
                 	__SUBWRN 18,19,1
                 ; 0004 012B 		}
0021a1 cfe5      	RJMP _0x80052
                 _0x80054:
                 ; 0004 012C 		res = RES_OK;
0021a2 e010      	LDI  R17,LOW(0)
                 ; 0004 012D 	} else {
0021a3 c04b      	RJMP _0x80057
                 _0x80051:
                 ; 0004 012E 		if (sa) {	// Initiate sector write process
0021a4 940e 30dc 	CALL SUBOPT_0x78
0021a6 940e 357c 	CALL __CPD10
0021a8 f111      	BREQ _0x80058
                 ; 0004 012F 			if (!(CardType & CT_BLOCK)) sa *= 512;	// Convert to byte address if needed
0021a9 91e0 0832 	LDS  R30,_CardType_G004
0021ab 70e8      	ANDI R30,LOW(0x8)
0021ac f431      	BRNE _0x80059
0021ad 940e 30dc 	CALL SUBOPT_0x78
0021af 940e 3275 	CALL SUBOPT_0xB2
0021b1 940e 30c9 	CALL SUBOPT_0x74
                 ; 0004 0130 			if (send_cmd(CMD24, sa) == 0) {			// WRITE_SINGLE_BLOCK
                 _0x80059:
0021b3 e5e8      	LDI  R30,LOW(88)
0021b4 93ea      	ST   -Y,R30
                +
0021b5 81ed     +LDD R30 , Y + 5
0021b6 81fe     +LDD R31 , Y + 5 + 1
0021b7 816f     +LDD R22 , Y + 5 + 2
0021b8 8578     +LDD R23 , Y + 5 + 3
                 	__GETD1S 5
0021b9 940e 3260 	CALL SUBOPT_0xAE
0021bb 30e0      	CPI  R30,0
0021bc f469      	BRNE _0x8005A
                 ; 0004 0131 				xmit_spi(0xFF); xmit_spi(0xFE);		// Data block header
0021bd efef      	LDI  R30,LOW(255)
0021be 93ea      	ST   -Y,R30
0021bf de6a      	RCALL _xmit_spi
0021c0 efee      	LDI  R30,LOW(254)
0021c1 93ea      	ST   -Y,R30
0021c2 de67      	RCALL _xmit_spi
                 ; 0004 0132 				wc = 512;							// Set byte counter
0021c3 e0e0      	LDI  R30,LOW(512)
0021c4 e0f2      	LDI  R31,HIGH(512)
0021c5 93e0 0833 	STS  _wc_S0040007000,R30
0021c7 93f0 0834 	STS  _wc_S0040007000+1,R31
                 ; 0004 0133 				res = RES_OK;
0021c9 e010      	LDI  R17,LOW(0)
                 ; 0004 0134 			}
                 ; 0004 0135 		} else {	// Finalize sector write process
                 _0x8005A:
0021ca c024      	RJMP _0x8005B
                 _0x80058:
                 ; 0004 0136 			bc = wc + 2;
0021cb 91e0 0833 	LDS  R30,_wc_S0040007000
0021cd 91f0 0834 	LDS  R31,_wc_S0040007000+1
0021cf 9632      	ADIW R30,2
0021d0 019f      	MOVW R18,R30
                 ; 0004 0137 			while (bc--) xmit_spi(0);	// Fill left bytes and CRC with zeros
                 _0x8005C:
0021d1 01f9      	MOVW R30,R18
                +
0021d2 5021     +SUBI R18 , LOW ( 1 )
0021d3 4030     +SBCI R19 , HIGH ( 1 )
                 	__SUBWRN 18,19,1
0021d4 9730      	SBIW R30,0
0021d5 f021      	BREQ _0x8005E
0021d6 e0e0      	LDI  R30,LOW(0)
0021d7 93ea      	ST   -Y,R30
0021d8 de51      	RCALL _xmit_spi
0021d9 cff7      	RJMP _0x8005C
                 _0x8005E:
                 ; 0004 0138 if ((rcv_spi() & 0x1F) == 0x05) {
0021da de56      	RCALL _rcv_spi
0021db 71ef      	ANDI R30,LOW(0x1F)
0021dc 30e5      	CPI  R30,LOW(0x5)
0021dd f481      	BRNE _0x8005F
                 ; 0004 0139 				for (bc = 65000; rcv_spi() != 0xFF && bc; bc--) ;	// Wait ready
                +
0021de ee28     +LDI R18 , LOW ( - 536 )
0021df ef3d     +LDI R19 , HIGH ( - 536 )
                 	__GETWRN 18,19,-536
                 _0x80061:
0021e0 de50      	RCALL _rcv_spi
0021e1 3fef      	CPI  R30,LOW(0xFF)
0021e2 f019      	BREQ _0x80063
0021e3 2e02      	MOV  R0,R18
0021e4 2a03      	OR   R0,R19
0021e5 f409      	BRNE _0x80064
                 _0x80063:
0021e6 c003      	RJMP _0x80062
                 _0x80064:
                +
0021e7 5021     +SUBI R18 , LOW ( 1 )
0021e8 4030     +SBCI R19 , HIGH ( 1 )
                 	__SUBWRN 18,19,1
0021e9 cff6      	RJMP _0x80061
                 _0x80062:
                 ; 0004 013A 				if (bc) res = RES_OK;
0021ea 2e02      	MOV  R0,R18
0021eb 2a03      	OR   R0,R19
0021ec f009      	BREQ _0x80065
0021ed e010      	LDI  R17,LOW(0)
                 ; 0004 013B 			}
                 _0x80065:
                 ; 0004 013C 			release_spi();
                 _0x8005F:
0021ee de4c      	RCALL _release_spi_G004
                 ; 0004 013D 		}
                 _0x8005B:
                 ; 0004 013E 	}
                 _0x80057:
                 ; 0004 013F 
                 ; 0004 0140 	return res;
0021ef 2fe1      	MOV  R30,R17
0021f0 c1fb      	RJMP _0x20C000C
                 ; 0004 0141 }
                 ; .FEND
                 ;#endif
                 ;/*----------------------------------------------------------------------------/
                 ;/  Petit FatFs - FAT file system module  R0.02                 (C)ChaN, 2009
                 ;/-----------------------------------------------------------------------------/
                 ;/ Petit FatFs module is an open source software to implement FAT file system to
                 ;/ small embedded systems. This is a free software and is opened for education,
                 ;/ research and commercial developments under license policy of following trems.
                 ;/
                 ;/  Copyright (C) 2009, ChaN, all right reserved.
                 ;/
                 ;/ * The Petit FatFs module is a free software and there is NO WARRANTY.
                 ;/ * No restriction on use. You can use, modify and redistribute it for
                 ;/   personal, non-profit or commercial use UNDER YOUR RESPONSIBILITY.
                 ;/ * Redistributions of source code must retain the above copyright notice.
                 ;/
                 ;/-----------------------------------------------------------------------------/
                 ;/ Jun 15,'09  R0.01a  First release. (Branched from FatFs R0.07b.)
                 ;/
                 ;/ Dec 14,'09  R0.02   Added multiple code page support.
                 ;/                     Added write funciton.
                 ;/                     Changed stream read mode interface.
                 ;/----------------------------------------------------------------------------*/
                 ;
                 ;#include "pff.h"		/* Petit FatFs configurations and declarations */
                 ;#include "diskio.h"		/* Declarations of low level disk I/O functions */
                 ;
                 ;
                 ;/*--------------------------------------------------------------------------
                 ;
                 ;   Private Functions
                 ;
                 ;---------------------------------------------------------------------------*/
                 ;
                 ;static
                 ;FATFS *FatFs;	/* Pointer to the file system object (logical drive) */
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* String functions                                                      */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;/* Fill memory */
                 ;static
                 ;void mem_set (void* dst, int val, int cnt) {
                 ; 0005 002C void mem_set (void* dst, int val, int cnt) {
                 
                 	.CSEG
                 _mem_set_G005:
                 ; .FSTART _mem_set_G005
                 ; 0005 002D 	char *d = (char*)dst;
                 ; 0005 002E 	while (cnt--) *d++ = (char)val;
0021f1 931a      	ST   -Y,R17
0021f2 930a      	ST   -Y,R16
                 ;	*dst -> Y+6
                 ;	val -> Y+4
                 ;	cnt -> Y+2
                 ;	*d -> R16,R17
                +
0021f3 810e     +LDD R16 , Y + 6
0021f4 811f     +LDD R17 , Y + 6 + 1
                 	__GETWRS 16,17,6
                 _0xA0003:
0021f5 81ea      	LDD  R30,Y+2
0021f6 81fb      	LDD  R31,Y+2+1
0021f7 9731      	SBIW R30,1
0021f8 83ea      	STD  Y+2,R30
0021f9 83fb      	STD  Y+2+1,R31
0021fa 9631      	ADIW R30,1
0021fb f049      	BREQ _0xA0005
0021fc 931f      	PUSH R17
0021fd 930f      	PUSH R16
                +
0021fe 5f0f     +SUBI R16 , LOW ( - 1 )
0021ff 4f1f     +SBCI R17 , HIGH ( - 1 )
                 	__ADDWRN 16,17,1
002200 81ec      	LDD  R30,Y+4
002201 91af      	POP  R26
002202 91bf      	POP  R27
002203 93ec      	ST   X,R30
002204 cff0      	RJMP _0xA0003
                 _0xA0005:
                 ; 0005 002F }
002205 8119      	LDD  R17,Y+1
002206 8108      	LDD  R16,Y+0
002207 c317      	RJMP _0x20C000A
                 ; .FEND
                 ;
                 ;/* Compare memory to memory */
                 ;static
                 ;int mem_cmp (const void* dst, const void* src, int cnt) {
                 ; 0005 0033 int mem_cmp (const void* dst, const void* src, int cnt) {
                 _mem_cmp_G005:
                 ; .FSTART _mem_cmp_G005
                 ; 0005 0034 	const char *d = (const char *)dst, *s = (const char *)src;
                 ; 0005 0035 	int r = 0;
                 ; 0005 0036 	while (cnt-- && (r = *d++ - *s++) == 0) ;
002208 940e 3590 	CALL __SAVELOCR6
                 ;	*dst -> Y+10
                 ;	*src -> Y+8
                 ;	cnt -> Y+6
                 ;	*d -> R16,R17
                 ;	*s -> R18,R19
                 ;	r -> R20,R21
                +
00220a 850a     +LDD R16 , Y + 10
00220b 851b     +LDD R17 , Y + 10 + 1
                 	__GETWRS 16,17,10
                +
00220c 8528     +LDD R18 , Y + 8
00220d 8539     +LDD R19 , Y + 8 + 1
                 	__GETWRS 18,19,8
                +
00220e e040     +LDI R20 , LOW ( 0 )
00220f e050     +LDI R21 , HIGH ( 0 )
                 	__GETWRN 20,21,0
                 _0xA0006:
002210 81ee      	LDD  R30,Y+6
002211 81ff      	LDD  R31,Y+6+1
002212 9731      	SBIW R30,1
002213 83ee      	STD  Y+6,R30
002214 83ff      	STD  Y+6+1,R31
002215 9631      	ADIW R30,1
002216 f0b1      	BREQ _0xA0009
002217 01d8      	MOVW R26,R16
                +
002218 5f0f     +SUBI R16 , LOW ( - 1 )
002219 4f1f     +SBCI R17 , HIGH ( - 1 )
                 	__ADDWRN 16,17,1
00221a 91ec      	LD   R30,X
00221b e0f0      	LDI  R31,0
00221c fde7      	SBRC R30,7
00221d efff      	SER  R31
00221e 010f      	MOVW R0,R30
00221f 01d9      	MOVW R26,R18
                +
002220 5f2f     +SUBI R18 , LOW ( - 1 )
002221 4f3f     +SBCI R19 , HIGH ( - 1 )
                 	__ADDWRN 18,19,1
002222 91ec      	LD   R30,X
002223 e0f0      	LDI  R31,0
002224 fde7      	SBRC R30,7
002225 efff      	SER  R31
002226 01df      	MOVW R26,R30
002227 01f0      	MOVW R30,R0
002228 1bea      	SUB  R30,R26
002229 0bfb      	SBC  R31,R27
00222a 01af      	MOVW R20,R30
00222b 9730      	SBIW R30,0
00222c f009      	BREQ _0xA000A
                 _0xA0009:
00222d c001      	RJMP _0xA0008
                 _0xA000A:
00222e cfe1      	RJMP _0xA0006
                 _0xA0008:
                 ; 0005 0037 	return r;
00222f 01fa      	MOVW R30,R20
002230 940e 3597 	CALL __LOADLOCR6
002232 962c      	ADIW R28,12
002233 9508      	RET
                 ; 0005 0038 }
                 ; .FEND
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* FAT access - Read value of a FAT entry                                */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;static
                 ;CLUST get_fat (	/* 1:IO error, Else:Cluster status */
                 ; 0005 0042 	CLUST clst	/* Cluster# to get the link information */
                 ; 0005 0043 )
                 ; 0005 0044 {
                 _get_fat_G005:
                 ; .FSTART _get_fat_G005
                 ; 0005 0045 	WORD wc, bc, ofs;
                 ; 0005 0046 	BYTE buf[4];
                 ; 0005 0047 	FATFS *fs = FatFs;
                 ; 0005 0048 
                 ; 0005 0049 
                 ; 0005 004A 	if (clst < 2 || clst >= fs->max_clust)	/* Range check */
002234 9726      	SBIW R28,6
002235 940e 3590 	CALL __SAVELOCR6
                 ;	clst -> Y+12
                 ;	wc -> R16,R17
                 ;	bc -> R18,R19
                 ;	ofs -> R20,R21
                 ;	buf -> Y+8
                 ;	*fs -> Y+6
002237 940e 3286 	CALL SUBOPT_0xB5
002239 83ee      	STD  Y+6,R30
00223a 83ff      	STD  Y+6+1,R31
00223b 940e 328b 	CALL SUBOPT_0xB6
00223d 940e 3290 	CALL SUBOPT_0xB7
00223f f050      	BRLO _0xA000C
002240 81ae      	LDD  R26,Y+6
002241 81bf      	LDD  R27,Y+6+1
002242 9618      	ADIW R26,8
002243 940e 3517 	CALL __GETD1P
002245 940e 328b 	CALL SUBOPT_0xB6
002247 940e 358b 	CALL __CPD21
002249 f008      	BRLO _0xA000B
                 _0xA000C:
                 ; 0005 004B 		return 1;
00224a c0aa      	RJMP _0x20C000F
                 ; 0005 004C 
                 ; 0005 004D 	switch (fs->fs_type) {
                 _0xA000B:
00224b 81ae      	LDD  R26,Y+6
00224c 81bf      	LDD  R27,Y+6+1
00224d 91ec      	LD   R30,X
00224e e0f0      	LDI  R31,0
                 ; 0005 004E 	case FS_FAT12 :
00224f 30e1      	CPI  R30,LOW(0x1)
002250 e0a0      	LDI  R26,HIGH(0x1)
002251 07fa      	CPC  R31,R26
002252 f009      	BREQ PC+2
002253 c050      	RJMP _0xA0011
                 ; 0005 004F 		bc = (WORD)clst; bc += bc / 2;
                +
002254 852c     +LDD R18 , Y + 12
002255 853d     +LDD R19 , Y + 12 + 1
                 	__GETWRS 18,19,12
002256 01f9      	MOVW R30,R18
002257 95f6      	LSR  R31
002258 95e7      	ROR  R30
                +
002259 0f2e     +ADD R18 , R30
00225a 1f3f     +ADC R19 , R31
                 	__ADDWRR 18,19,30,31
                 ; 0005 0050 		ofs = bc % 512; bc /= 512;
00225b 01f9      	MOVW R30,R18
00225c 70f1      	ANDI R31,HIGH(0x1FF)
00225d 01af      	MOVW R20,R30
00225e 01d9      	MOVW R26,R18
00225f e0e0      	LDI  R30,LOW(512)
002260 e0f2      	LDI  R31,HIGH(512)
002261 940e 34cd 	CALL __DIVW21U
002263 019f      	MOVW R18,R30
                 ; 0005 0051 		if (ofs != 511) {
002264 efef      	LDI  R30,LOW(511)
002265 e0f1      	LDI  R31,HIGH(511)
002266 17e4      	CP   R30,R20
002267 07f5      	CPC  R31,R21
002268 f069      	BREQ _0xA0012
                 ; 0005 0052 			if (disk_readp(buf, fs->fatbase + bc, ofs, 2)) break;
002269 940e 3298 	CALL SUBOPT_0xB8
00226b 940e 329b 	CALL SUBOPT_0xB9
00226d 940e 3530 	CALL __PUTPARD1
00226f 935a      	ST   -Y,R21
002270 934a      	ST   -Y,R20
002271 940e 32a1 	CALL SUBOPT_0xBA
002273 f009      	BREQ _0xA0013
002274 c080      	RJMP _0xA0010
                 ; 0005 0053 		} else {
                 _0xA0013:
002275 c020      	RJMP _0xA0014
                 _0xA0012:
                 ; 0005 0054 			if (disk_readp(buf, fs->fatbase + bc, 511, 1)) break;
002276 940e 3298 	CALL SUBOPT_0xB8
002278 940e 329b 	CALL SUBOPT_0xB9
00227a 940e 3530 	CALL __PUTPARD1
00227c efef      	LDI  R30,LOW(511)
00227d e0f1      	LDI  R31,HIGH(511)
00227e 93fa      	ST   -Y,R31
00227f 93ea      	ST   -Y,R30
002280 940e 32a9 	CALL SUBOPT_0xBB
002282 f009      	BREQ _0xA0015
002283 c071      	RJMP _0xA0010
                 ; 0005 0055 			if (disk_readp(buf+1, fs->fatbase + bc + 1, 0, 1)) break;
                 _0xA0015:
002284 01fe      	MOVW R30,R28
002285 9639      	ADIW R30,9
002286 940e 3167 	CALL SUBOPT_0x91
002288 940e 329b 	CALL SUBOPT_0xB9
                +
00228a 5fef     +SUBI R30 , LOW ( - 1 )
00228b 4fff     +SBCI R31 , HIGH ( - 1 )
00228c 4f6f     +SBCI R22 , BYTE3 ( - 1 )
00228d 4f7f     +SBCI R23 , BYTE4 ( - 1 )
                 	__ADDD1N 1
00228e 940e 3530 	CALL __PUTPARD1
002290 940e 323e 	CALL SUBOPT_0xA9
002292 940e 32a9 	CALL SUBOPT_0xBB
002294 f009      	BREQ _0xA0016
002295 c05f      	RJMP _0xA0010
                 ; 0005 0056 		}
                 _0xA0016:
                 _0xA0014:
                 ; 0005 0057 		wc = LD_WORD(buf);
                +
002296 8508     +LDD R16 , Y + 8
002297 8519     +LDD R17 , Y + 8 + 1
                 	__GETWRS 16,17,8
                 ; 0005 0058 		return (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
002298 85ec      	LDD  R30,Y+12
002299 70e1      	ANDI R30,LOW(0x1)
00229a f021      	BREQ _0xA0017
00229b 01f8      	MOVW R30,R16
00229c 940e 3485 	CALL __LSRW4
00229e c002      	RJMP _0xA00E5
                 _0xA0017:
00229f 01f8      	MOVW R30,R16
0022a0 70ff      	ANDI R31,HIGH(0xFFF)
                 _0xA00E5:
0022a1 2766      	CLR  R22
0022a2 2777      	CLR  R23
0022a3 c055      	RJMP _0x20C000E
                 ; 0005 0059 
                 ; 0005 005A 	case FS_FAT16 :
                 _0xA0011:
0022a4 30e2      	CPI  R30,LOW(0x2)
0022a5 e0a0      	LDI  R26,HIGH(0x2)
0022a6 07fa      	CPC  R31,R26
0022a7 f509      	BRNE _0xA001A
                 ; 0005 005B 		if (disk_readp(buf, fs->fatbase + clst / 256, (WORD)(((WORD)clst % 256) * 2), 2)) break;
0022a8 940e 3298 	CALL SUBOPT_0xB8
0022aa 940e 32b1 	CALL SUBOPT_0xBC
0022ac 939f      	PUSH R25
0022ad 938f      	PUSH R24
0022ae 93bf      	PUSH R27
0022af 93af      	PUSH R26
0022b0 940e 32b6 	CALL SUBOPT_0xBD
                +
0022b2 e0e0     +LDI R30 , LOW ( 0x100 )
0022b3 e0f1     +LDI R31 , HIGH ( 0x100 )
0022b4 e060     +LDI R22 , BYTE3 ( 0x100 )
0022b5 e070     +LDI R23 , BYTE4 ( 0x100 )
                 	__GETD1N 0x100
0022b6 940e 34e0 	CALL __DIVD21U
0022b8 91af      	POP  R26
0022b9 91bf      	POP  R27
0022ba 918f      	POP  R24
0022bb 919f      	POP  R25
0022bc 940e 32bb 	CALL SUBOPT_0xBE
0022be 70f0      	ANDI R31,HIGH(0xFF)
0022bf 0fee      	LSL  R30
0022c0 1fff      	ROL  R31
0022c1 940e 32c2 	CALL SUBOPT_0xBF
0022c3 f589      	BRNE _0xA0010
                 ; 0005 005C 		return LD_WORD(buf);
0022c4 85e8      	LDD  R30,Y+8
0022c5 85f9      	LDD  R31,Y+8+1
0022c6 2766      	CLR  R22
0022c7 2777      	CLR  R23
0022c8 c030      	RJMP _0x20C000E
                 ; 0005 005D #if _FS_FAT32
                 ; 0005 005E 	case FS_FAT32 :
                 _0xA001A:
0022c9 30e3      	CPI  R30,LOW(0x3)
0022ca e0a0      	LDI  R26,HIGH(0x3)
0022cb 07fa      	CPC  R31,R26
0022cc f541      	BRNE _0xA0010
                 ; 0005 005F 		if (disk_readp(buf, fs->fatbase + clst / 128, (WORD)(((WORD)clst % 128) * 4), 4)) break;
0022cd 940e 3298 	CALL SUBOPT_0xB8
0022cf 940e 32b1 	CALL SUBOPT_0xBC
0022d1 939f      	PUSH R25
0022d2 938f      	PUSH R24
0022d3 93bf      	PUSH R27
0022d4 93af      	PUSH R26
0022d5 940e 32b6 	CALL SUBOPT_0xBD
                +
0022d7 e8e0     +LDI R30 , LOW ( 0x80 )
0022d8 e0f0     +LDI R31 , HIGH ( 0x80 )
0022d9 e060     +LDI R22 , BYTE3 ( 0x80 )
0022da e070     +LDI R23 , BYTE4 ( 0x80 )
                 	__GETD1N 0x80
0022db 940e 34e0 	CALL __DIVD21U
0022dd 91af      	POP  R26
0022de 91bf      	POP  R27
0022df 918f      	POP  R24
0022e0 919f      	POP  R25
0022e1 940e 32bb 	CALL SUBOPT_0xBE
0022e3 77ef      	ANDI R30,LOW(0x7F)
0022e4 70f0      	ANDI R31,HIGH(0x7F)
0022e5 940e 3479 	CALL __LSLW2
0022e7 93fa      	ST   -Y,R31
0022e8 93ea      	ST   -Y,R30
0022e9 e0e4      	LDI  R30,LOW(4)
0022ea e0f0      	LDI  R31,HIGH(4)
0022eb 940e 32c5 	CALL SUBOPT_0xC0
0022ed f439      	BRNE _0xA0010
                 ; 0005 0060 		return LD_DWORD(buf) & 0x0FFFFFFF;
0022ee 940e 3270 	CALL SUBOPT_0xB1
                +
0022f0 7fef     +ANDI R30 , LOW ( 0xFFFFFFF )
0022f1 7fff     +ANDI R31 , HIGH ( 0xFFFFFFF )
0022f2 7f6f     +ANDI R22 , BYTE3 ( 0xFFFFFFF )
0022f3 707f     +ANDI R23 , BYTE4 ( 0xFFFFFFF )
                 	__ANDD1N 0xFFFFFFF
0022f4 c004      	RJMP _0x20C000E
                 ; 0005 0061 #endif
                 ; 0005 0062 	}
                 _0xA0010:
                 ; 0005 0063 
                 ; 0005 0064 	return 1;	/* An error occured at the disk I/O layer */
                 _0x20C000F:
                +
0022f5 e0e1     +LDI R30 , LOW ( 0x1 )
0022f6 e0f0     +LDI R31 , HIGH ( 0x1 )
0022f7 e060     +LDI R22 , BYTE3 ( 0x1 )
0022f8 e070     +LDI R23 , BYTE4 ( 0x1 )
                 	__GETD1N 0x1
                 _0x20C000E:
0022f9 940e 3597 	CALL __LOADLOCR6
0022fb 9660      	ADIW R28,16
0022fc 9508      	RET
                 ; 0005 0065 }
                 ; .FEND
                 ;
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Get sector# from cluster#                                             */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;static
                 ;DWORD clust2sect (	/* !=0: Sector number, 0: Failed - invalid cluster# */
                 ; 0005 0070 	CLUST clst		/* Cluster# to be converted */
                 ; 0005 0071 )
                 ; 0005 0072 {
                 _clust2sect_G005:
                 ; .FSTART _clust2sect_G005
                 ; 0005 0073 	FATFS *fs = FatFs;
                 ; 0005 0074 
                 ; 0005 0075 
                 ; 0005 0076 	clst -= 2;
0022fd 940e 32cb 	CALL SUBOPT_0xC1
                 ;	clst -> Y+2
                 ;	*fs -> R16,R17
0022ff 940e 3254 	CALL SUBOPT_0xAC
                +
002301 50e2     +SUBI R30 , LOW ( 2 )
002302 40f0     +SBCI R31 , HIGH ( 2 )
002303 4060     +SBCI R22 , BYTE3 ( 2 )
002304 4070     +SBCI R23 , BYTE4 ( 2 )
                 	__SUBD1N 2
002305 940e 32d2 	CALL SUBOPT_0xC2
                 ; 0005 0077 	if (clst >= (fs->max_clust - 2)) return 0;		/* Invalid cluster# */
002307 01f8      	MOVW R30,R16
                +
002308 85a0     +LDD R26 , Z + 8
002309 85b1     +LDD R27 , Z + 8 + 1
00230a 8582     +LDD R24 , Z + 8 + 2
00230b 8593     +LDD R25 , Z + 8 + 3
                 	__GETD2Z 8
                +
00230c e0e2     +LDI R30 , LOW ( 0x2 )
00230d e0f0     +LDI R31 , HIGH ( 0x2 )
00230e e060     +LDI R22 , BYTE3 ( 0x2 )
00230f e070     +LDI R23 , BYTE4 ( 0x2 )
                 	__GETD1N 0x2
002310 940e 353a 	CALL __SWAPD12
002312 940e 342c 	CALL __SUBD12
002314 940e 32d7 	CALL SUBOPT_0xC3
002316 940e 358b 	CALL __CPD21
002318 f028      	BRLO _0xA001E
002319 940e 32dc 	CALL SUBOPT_0xC4
00231b 8119      	LDD  R17,Y+1
00231c 8108      	LDD  R16,Y+0
00231d c23b      	RJMP _0x20C0009
                 ; 0005 0078 	return (DWORD)clst * fs->csize + fs->database;
                 _0xA001E:
00231e 01f8      	MOVW R30,R16
00231f 81e1      	LDD  R30,Z+1
002320 e0f0      	LDI  R31,0
002321 940e 32d7 	CALL SUBOPT_0xC3
002323 940e 34a3 	CALL __CWD1
002325 940e 34ad 	CALL __MULD12U
002327 937f      	PUSH R23
002328 936f      	PUSH R22
002329 93ff      	PUSH R31
00232a 93ef      	PUSH R30
00232b 01d8      	MOVW R26,R16
00232c 9654      	ADIW R26,20
00232d 940e 3517 	CALL __GETD1P
00232f 91af      	POP  R26
002330 91bf      	POP  R27
002331 918f      	POP  R24
002332 919f      	POP  R25
002333 940e 3422 	CALL __ADDD12
002335 8119      	LDD  R17,Y+1
002336 8108      	LDD  R16,Y+0
002337 c221      	RJMP _0x20C0009
                 ; 0005 0079 }
                 ; .FEND
                 ;
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Directory handling - Rewind directory index                           */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;static
                 ;FRESULT dir_rewind (
                 ; 0005 0084 	DIR *dj			/* Pointer to directory object */
                 ; 0005 0085 )
                 ; 0005 0086 {
                 _dir_rewind_G005:
                 ; .FSTART _dir_rewind_G005
                 ; 0005 0087 	CLUST clst;
                 ; 0005 0088 	FATFS *fs = FatFs;
                 ; 0005 0089 
                 ; 0005 008A 
                 ; 0005 008B 	dj->index = 0;
002338 9724      	SBIW R28,4
002339 940e 32cb 	CALL SUBOPT_0xC1
                 ;	*dj -> Y+6
                 ;	clst -> Y+2
                 ;	*fs -> R16,R17
00233b 81ae      	LDD  R26,Y+6
00233c 81bf      	LDD  R27,Y+6+1
00233d 940e 32e1 	CALL SUBOPT_0xC5
                 ; 0005 008C 	clst = dj->sclust;
00233f 81ae      	LDD  R26,Y+6
002340 81bf      	LDD  R27,Y+6+1
002341 9614      	ADIW R26,4
002342 940e 32e6 	CALL SUBOPT_0xC6
                 ; 0005 008D 	if (clst == 1 || clst >= fs->max_clust)	/* Check start cluster range */
002344 940e 32e9 	CALL SUBOPT_0xC7
002346 f049      	BREQ _0xA0020
002347 01d8      	MOVW R26,R16
002348 9618      	ADIW R26,8
002349 940e 3517 	CALL __GETD1P
00234b 940e 32d7 	CALL SUBOPT_0xC3
00234d 940e 358b 	CALL __CPD21
00234f f020      	BRLO _0xA001F
                 _0xA0020:
                 ; 0005 008E 		return FR_DISK_ERR;
002350 e0e1      	LDI  R30,LOW(1)
002351 8119      	LDD  R17,Y+1
002352 8108      	LDD  R16,Y+0
002353 c1cb      	RJMP _0x20C000A
                 ; 0005 008F #if _FS_FAT32
                 ; 0005 0090 	if (!clst && fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
                 _0xA001F:
002354 940e 32f2 	CALL SUBOPT_0xC8
002356 f421      	BRNE _0xA0023
002357 01d8      	MOVW R26,R16
002358 91ac      	LD   R26,X
002359 30a3      	CPI  R26,LOW(0x3)
00235a f009      	BREQ _0xA0024
                 _0xA0023:
00235b c004      	RJMP _0xA0022
                 _0xA0024:
                 ; 0005 0091 		clst = fs->dirbase;
00235c 01d8      	MOVW R26,R16
00235d 9650      	ADIW R26,16
00235e 940e 32e6 	CALL SUBOPT_0xC6
                 ; 0005 0092 #endif
                 ; 0005 0093 	dj->clust = clst;						/* Current cluster */
                 _0xA0022:
002360 940e 3254 	CALL SUBOPT_0xAC
                +
002362 81ae     +LDD R26 , Y + 6
002363 81bf     +LDD R27 , Y + 6 + 1
002364 9618     +ADIW R26 , 8
002365 940e 3522+CALL __PUTDP1
                 	__PUTD1SNS 6,8
                 ; 0005 0094 	dj->sect = clst ? clust2sect(clst) : fs->dirbase;	/* Current sector */
002367 940e 32f2 	CALL SUBOPT_0xC8
002369 f021      	BREQ _0xA0025
00236a 940e 32f6 	CALL SUBOPT_0xC9
00236c df90      	RCALL _clust2sect_G005
00236d c004      	RJMP _0xA0026
                 _0xA0025:
00236e 01d8      	MOVW R26,R16
00236f 9650      	ADIW R26,16
002370 940e 3517 	CALL __GETD1P
                 _0xA0026:
                +
002372 81ae     +LDD R26 , Y + 6
002373 81bf     +LDD R27 , Y + 6 + 1
002374 961c     +ADIW R26 , 12
002375 940e 3522+CALL __PUTDP1
                 	__PUTD1SNS 6,12
                 ; 0005 0095 
                 ; 0005 0096 	return FR_OK;	/* Seek succeeded */
002377 e0e0      	LDI  R30,LOW(0)
002378 8119      	LDD  R17,Y+1
002379 8108      	LDD  R16,Y+0
00237a c1a4      	RJMP _0x20C000A
                 ; 0005 0097 }
                 ; .FEND
                 ;
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Directory handling - Move directory index next                        */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;static
                 ;FRESULT dir_next (	/* FR_OK:Succeeded, FR_NO_FILE:End of table */
                 ; 0005 00A2 	DIR *dj			/* Pointer to directory object */
                 ; 0005 00A3 )
                 ; 0005 00A4 {
                 _dir_next_G005:
                 ; .FSTART _dir_next_G005
                 ; 0005 00A5 	CLUST clst;
                 ; 0005 00A6 	WORD i;
                 ; 0005 00A7 	FATFS *fs = FatFs;
                 ; 0005 00A8 
                 ; 0005 00A9 
                 ; 0005 00AA 	i = dj->index + 1;
00237b 9724      	SBIW R28,4
00237c 940e 32fa 	CALL SUBOPT_0xCA
                 ;	*dj -> Y+8
                 ;	clst -> Y+4
                 ;	i -> R16,R17
                 ;	*fs -> R18,R19
00237e 85a8      	LDD  R26,Y+8
00237f 85b9      	LDD  R27,Y+8+1
002380 940e 3513 	CALL __GETW1P
002382 9631      	ADIW R30,1
002383 018f      	MOVW R16,R30
                 ; 0005 00AB 	if (!i || !dj->sect)	/* Report EOT when index has reached 65535 */
002384 2e00      	MOV  R0,R16
002385 2a01      	OR   R0,R17
002386 f031      	BREQ _0xA0029
002387 961c      	ADIW R26,12
002388 940e 3517 	CALL __GETD1P
00238a 940e 357c 	CALL __CPD10
00238c f411      	BRNE _0xA0028
                 _0xA0029:
                 ; 0005 00AC 		return FR_NO_FILE;
00238d e0e3      	LDI  R30,LOW(3)
00238e c05d      	RJMP _0x20C000C
                 ; 0005 00AD 
                 ; 0005 00AE 	if (!(i & (16-1))) {	/* Sector changed? */
                 _0xA0028:
00238f 01f8      	MOVW R30,R16
002390 70ef      	ANDI R30,LOW(0xF)
002391 f009      	BREQ PC+2
002392 c054      	RJMP _0xA002B
                 ; 0005 00AF 		dj->sect++;			/* Next sector */
002393 85a8      	LDD  R26,Y+8
002394 85b9      	LDD  R27,Y+8+1
002395 961c      	ADIW R26,12
002396 940e 351d 	CALL __GETD1P_INC
002398 940e 3060 	CALL SUBOPT_0x63
00239a 940e 3527 	CALL __PUTDP1_DEC
                 ; 0005 00B0 
                 ; 0005 00B1 		if (dj->clust == 0) {	/* Static table */
00239c 85a8      	LDD  R26,Y+8
00239d 85b9      	LDD  R27,Y+8+1
00239e 9618      	ADIW R26,8
00239f 940e 3517 	CALL __GETD1P
0023a1 940e 357c 	CALL __CPD10
0023a3 f451      	BRNE _0xA002C
                 ; 0005 00B2 			if (i >= fs->n_rootdir)	/* Report EOT when end of table */
0023a4 01d9      	MOVW R26,R18
0023a5 9614      	ADIW R26,4
0023a6 940e 3513 	CALL __GETW1P
0023a8 170e      	CP   R16,R30
0023a9 071f      	CPC  R17,R31
0023aa f010      	BRLO _0xA002D
                 ; 0005 00B3 				return FR_NO_FILE;
0023ab e0e3      	LDI  R30,LOW(3)
0023ac c03f      	RJMP _0x20C000C
                 ; 0005 00B4 		}
                 _0xA002D:
                 ; 0005 00B5 		else {					/* Dynamic table */
0023ad c039      	RJMP _0xA002E
                 _0xA002C:
                 ; 0005 00B6 			if (((i / 16) & (fs->csize-1)) == 0) {	/* Cluster changed? */
0023ae 01f8      	MOVW R30,R16
0023af 940e 3485 	CALL __LSRW4
0023b1 01df      	MOVW R26,R30
0023b2 01f9      	MOVW R30,R18
0023b3 81e1      	LDD  R30,Z+1
0023b4 e0f0      	LDI  R31,0
0023b5 9731      	SBIW R30,1
0023b6 23ea      	AND  R30,R26
0023b7 23fb      	AND  R31,R27
0023b8 9730      	SBIW R30,0
0023b9 f569      	BRNE _0xA002F
                 ; 0005 00B7 				clst = get_fat(dj->clust);		/* Get next cluster */
0023ba 85e8      	LDD  R30,Y+8
0023bb 85f9      	LDD  R31,Y+8+1
                +
0023bc 85a0     +LDD R26 , Z + 8
0023bd 85b1     +LDD R27 , Z + 8 + 1
0023be 8582     +LDD R24 , Z + 8 + 2
0023bf 8593     +LDD R25 , Z + 8 + 3
                 	__GETD2Z 8
0023c0 940e 3301 	CALL SUBOPT_0xCB
0023c2 940e 30c9 	CALL SUBOPT_0x74
                 ; 0005 00B8 				if (clst <= 1) return FR_DISK_ERR;
0023c4 940e 30ce 	CALL SUBOPT_0x75
0023c6 940e 3290 	CALL SUBOPT_0xB7
0023c8 f410      	BRSH _0xA0030
0023c9 e0e1      	LDI  R30,LOW(1)
0023ca c021      	RJMP _0x20C000C
                 ; 0005 00B9 				if (clst >= fs->max_clust)		/* When it reached end of dynamic table */
                 _0xA0030:
0023cb 01d9      	MOVW R26,R18
0023cc 9618      	ADIW R26,8
0023cd 940e 3517 	CALL __GETD1P
0023cf 940e 30ce 	CALL SUBOPT_0x75
0023d1 940e 358b 	CALL __CPD21
0023d3 f010      	BRLO _0xA0031
                 ; 0005 00BA 					return FR_NO_FILE;			/* Report EOT */
0023d4 e0e3      	LDI  R30,LOW(3)
0023d5 c016      	RJMP _0x20C000C
                 ; 0005 00BB 				dj->clust = clst;				/* Initialize data for new cluster */
                 _0xA0031:
0023d6 940e 30dc 	CALL SUBOPT_0x78
                +
0023d8 85a8     +LDD R26 , Y + 8
0023d9 85b9     +LDD R27 , Y + 8 + 1
0023da 9618     +ADIW R26 , 8
0023db 940e 3522+CALL __PUTDP1
                 	__PUTD1SNS 8,8
                 ; 0005 00BC 				dj->sect = clust2sect(clst);
0023dd 940e 30dc 	CALL SUBOPT_0x78
0023df 940e 3530 	CALL __PUTPARD1
0023e1 df1b      	RCALL _clust2sect_G005
                +
0023e2 85a8     +LDD R26 , Y + 8
0023e3 85b9     +LDD R27 , Y + 8 + 1
0023e4 961c     +ADIW R26 , 12
0023e5 940e 3522+CALL __PUTDP1
                 	__PUTD1SNS 8,12
                 ; 0005 00BD 			}
                 ; 0005 00BE 		}
                 _0xA002F:
                 _0xA002E:
                 ; 0005 00BF 	}
                 ; 0005 00C0 
                 ; 0005 00C1 	dj->index = i;
                 _0xA002B:
0023e7 85a8      	LDD  R26,Y+8
0023e8 85b9      	LDD  R27,Y+8+1
0023e9 930d      	ST   X+,R16
0023ea 931c      	ST   X,R17
                 ; 0005 00C2 
                 ; 0005 00C3 	return FR_OK;
0023eb e0e0      	LDI  R30,LOW(0)
                 _0x20C000C:
0023ec 940e 3599 	CALL __LOADLOCR4
                 _0x20C000D:
0023ee 962a      	ADIW R28,10
0023ef 9508      	RET
                 ; 0005 00C4 }
                 ; .FEND
                 ;
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Directory handling - Find an object in the directory                  */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;static
                 ;FRESULT dir_find (
                 ; 0005 00CF 	DIR *dj			/* Pointer to the directory object linked to the file name */
                 ; 0005 00D0 )
                 ; 0005 00D1 {
                 _dir_find_G005:
                 ; .FSTART _dir_find_G005
                 ; 0005 00D2 	FRESULT res;
                 ; 0005 00D3 	BYTE c, *dir;
                 ; 0005 00D4 
                 ; 0005 00D5 
                 ; 0005 00D6 	res = dir_rewind(dj);			/* Rewind directory object */
0023f0 940e 3592 	CALL __SAVELOCR4
                 ;	*dj -> Y+4
                 ;	res -> R17
                 ;	c -> R16
                 ;	*dir -> R18,R19
0023f2 940e 3226 	CALL SUBOPT_0xA6
0023f4 df43      	RCALL _dir_rewind_G005
0023f5 2f1e      	MOV  R17,R30
                 ; 0005 00D7 	if (res != FR_OK) return res;
0023f6 3010      	CPI  R17,0
0023f7 f019      	BREQ _0xA0032
0023f8 940e 3599 	CALL __LOADLOCR4
0023fa c15e      	RJMP _0x20C0009
                 ; 0005 00D8 
                 ; 0005 00D9 	dir = FatFs->buf;
                 _0xA0032:
0023fb 940e 3305 	CALL SUBOPT_0xCC
                 ; 0005 00DA 	do {
                 _0xA0034:
                 ; 0005 00DB 		res = disk_readp(dir, dj->sect, (WORD)((dj->index % 16) * 32), 32)	/* Read an entry */
                 ; 0005 00DC 			? FR_DISK_ERR : FR_OK;
0023fd 933a      	ST   -Y,R19
0023fe 932a      	ST   -Y,R18
0023ff 81ee      	LDD  R30,Y+6
002400 81ff      	LDD  R31,Y+6+1
002401 940e 32b1 	CALL SUBOPT_0xBC
002403 940e 3535 	CALL __PUTPARD2
002405 85aa      	LDD  R26,Y+10
002406 85bb      	LDD  R27,Y+10+1
002407 940e 3513 	CALL __GETW1P
002409 70ef      	ANDI R30,LOW(0xF)
00240a 70f0      	ANDI R31,HIGH(0xF)
00240b 0fee      	LSL  R30
00240c 940e 3475 	CALL __LSLW4
00240e 93fa      	ST   -Y,R31
00240f 93ea      	ST   -Y,R30
002410 e2e0      	LDI  R30,LOW(32)
002411 e0f0      	LDI  R31,HIGH(32)
002412 940e 32c5 	CALL SUBOPT_0xC0
002414 f011      	BREQ _0xA0036
002415 e0e1      	LDI  R30,LOW(1)
002416 c001      	RJMP _0xA0037
                 _0xA0036:
002417 e0e0      	LDI  R30,LOW(0)
                 _0xA0037:
002418 2f1e      	MOV  R17,R30
                 ; 0005 00DD 		if (res != FR_OK) break;
002419 3010      	CPI  R17,0
00241a f511      	BRNE _0xA0035
                 ; 0005 00DE 		c = dir[DIR_Name];	/* First character */
00241b 01d9      	MOVW R26,R18
00241c 910c      	LD   R16,X
                 ; 0005 00DF 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
00241d 3000      	CPI  R16,0
00241e f411      	BRNE _0xA003A
00241f e013      	LDI  R17,LOW(3)
002420 c01c      	RJMP _0xA0035
                 ; 0005 00E0 		if (!(dir[DIR_Attr] & AM_VOL) && !mem_cmp(dir, dj->fn, 11)) /* Is it a valid entry? */
                 _0xA003A:
002421 01f9      	MOVW R30,R18
002422 85e3      	LDD  R30,Z+11
002423 70e8      	ANDI R30,LOW(0x8)
002424 f479      	BRNE _0xA003C
002425 933a      	ST   -Y,R19
002426 932a      	ST   -Y,R18
002427 81ee      	LDD  R30,Y+6
002428 81ff      	LDD  R31,Y+6+1
002429 81a2      	LDD  R26,Z+2
00242a 81b3      	LDD  R27,Z+3
00242b 93ba      	ST   -Y,R27
00242c 93aa      	ST   -Y,R26
00242d e0eb      	LDI  R30,LOW(11)
00242e e0f0      	LDI  R31,HIGH(11)
00242f 93fa      	ST   -Y,R31
002430 93ea      	ST   -Y,R30
002431 ddd6      	RCALL _mem_cmp_G005
002432 9730      	SBIW R30,0
002433 f009      	BREQ _0xA003D
                 _0xA003C:
002434 c001      	RJMP _0xA003B
                 _0xA003D:
                 ; 0005 00E1 			break;
002435 c007      	RJMP _0xA0035
                 ; 0005 00E2 		res = dir_next(dj);							/* Next entry */
                 _0xA003B:
002436 940e 3226 	CALL SUBOPT_0xA6
002438 df42      	RCALL _dir_next_G005
002439 2f1e      	MOV  R17,R30
                 ; 0005 00E3 	} while (res == FR_OK);
00243a 3010      	CPI  R17,0
00243b f409      	BRNE _0xA0035
00243c cfc0      	RJMP _0xA0034
                 _0xA0035:
                 ; 0005 00E4 
                 ; 0005 00E5 	return res;
00243d 2fe1      	MOV  R30,R17
00243e 940e 3599 	CALL __LOADLOCR4
002440 c118      	RJMP _0x20C0009
                 ; 0005 00E6 }
                 ; .FEND
                 ;
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Read an object from the directory                                     */
                 ;/*-----------------------------------------------------------------------*/
                 ;#if _USE_DIR
                 ;static
                 ;FRESULT dir_read (
                 ; 0005 00F1 	DIR *dj			/* Pointer to the directory object to store read object name */
                 ; 0005 00F2 )
                 ; 0005 00F3 {
                 ; 0005 00F4 	FRESULT res;
                 ; 0005 00F5 	BYTE a, c, *dir;
                 ; 0005 00F6 
                 ; 0005 00F7 
                 ; 0005 00F8 	res = FR_NO_FILE;
                 ;	*dj -> Y+6
                 ;	res -> R17
                 ;	a -> R16
                 ;	c -> R19
                 ;	*dir -> R20,R21
                 ; 0005 00F9 	dir = FatFs->buf;
                 ; 0005 00FA 	while (dj->sect) {
                 ; 0005 00FB 		res = disk_readp(dir, dj->sect, (WORD)((dj->index % 16) * 32), 32)	/* Read an entry */
                 ; 0005 00FC 			? FR_DISK_ERR : FR_OK;
                 ; 0005 00FD 		if (res != FR_OK) break;
                 ; 0005 00FE 		c = dir[DIR_Name];
                 ; 0005 00FF 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
                 ; 0005 0100 		a = dir[DIR_Attr] & AM_MASK;
                 ; 0005 0101 		if (c != 0xE5 && c != '.' && !(a & AM_VOL))	/* Is it a valid entry? */
                 ; 0005 0102 			break;
                 ; 0005 0103 		res = dir_next(dj);				/* Next entry */
                 ; 0005 0104 		if (res != FR_OK) break;
                 ; 0005 0105 	}
                 ; 0005 0106 
                 ; 0005 0107 	if (res != FR_OK) dj->sect = 0;
                 ; 0005 0108 
                 ; 0005 0109 	return res;
                 ; 0005 010A }
                 ;#endif
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Pick a segment and create the object name in directory form           */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;#ifdef _EXCVT
                 ;	static const BYTE cvt[] = _EXCVT;
                 ;#endif
                 ;
                 ;static
                 ;FRESULT create_name (
                 ; 0005 0119 	DIR *dj,			/* Pointer to the directory object */
                 ; 0005 011A 	const char **path	/* Pointer to pointer to the segment in the path string */
                 ; 0005 011B )
                 ; 0005 011C {
                 _create_name_G005:
                 ; .FSTART _create_name_G005
                 ; 0005 011D 	BYTE c, d, ni, si, i, *sfn;
                 ; 0005 011E 	const char *p;
                 ; 0005 011F 
                 ; 0005 0120 	/* Create file name in directory form */
                 ; 0005 0121 	sfn = dj->fn;
002441 9724      	SBIW R28,4
002442 940e 3590 	CALL __SAVELOCR6
                 ;	*dj -> Y+12
                 ;	*path -> Y+10
                 ;	c -> R17
                 ;	d -> R16
                 ;	ni -> R19
                 ;	si -> R18
                 ;	i -> R21
                 ;	*sfn -> Y+8
                 ;	*p -> Y+6
002444 85ac      	LDD  R26,Y+12
002445 85bd      	LDD  R27,Y+12+1
002446 9612      	ADIW R26,2
002447 940e 3513 	CALL __GETW1P
002449 87e8      	STD  Y+8,R30
00244a 87f9      	STD  Y+8+1,R31
                 ; 0005 0122 	mem_set(sfn, ' ', 11);
00244b 93fa      	ST   -Y,R31
00244c 93ea      	ST   -Y,R30
00244d e2e0      	LDI  R30,LOW(32)
00244e e0f0      	LDI  R31,HIGH(32)
00244f 93fa      	ST   -Y,R31
002450 93ea      	ST   -Y,R30
002451 e0eb      	LDI  R30,LOW(11)
002452 e0f0      	LDI  R31,HIGH(11)
002453 93fa      	ST   -Y,R31
002454 93ea      	ST   -Y,R30
002455 dd9b      	RCALL _mem_set_G005
                 ; 0005 0123 	si = i = 0; ni = 8;
002456 e0e0      	LDI  R30,LOW(0)
002457 2f5e      	MOV  R21,R30
002458 2f2e      	MOV  R18,R30
002459 e038      	LDI  R19,LOW(8)
                 ; 0005 0124 	p = *path;
00245a 85aa      	LDD  R26,Y+10
00245b 85bb      	LDD  R27,Y+10+1
00245c 940e 330d 	CALL SUBOPT_0xCD
                 ; 0005 0125 	for (;;) {
                 _0xA004C:
                 ; 0005 0126 		c = p[si++];
00245e 940e 3312 	CALL SUBOPT_0xCE
002460 911c      	LD   R17,X
                 ; 0005 0127 		if (c <= ' ' || c == '/') break;	/* Break on end of segment */
002461 3211      	CPI  R17,33
002462 f010      	BRLO _0xA004F
002463 321f      	CPI  R17,47
002464 f409      	BRNE _0xA004E
                 _0xA004F:
002465 c035      	RJMP _0xA004D
                 ; 0005 0128 		if (c == '.' || i >= ni) {
                 _0xA004E:
002466 321e      	CPI  R17,46
002467 f011      	BREQ _0xA0052
002468 1753      	CP   R21,R19
002469 f040      	BRLO _0xA0051
                 _0xA0052:
                 ; 0005 0129 			if (ni != 8 || c != '.') break;
00246a 3038      	CPI  R19,8
00246b f411      	BRNE _0xA0055
00246c 321e      	CPI  R17,46
00246d f009      	BREQ _0xA0054
                 _0xA0055:
00246e c02c      	RJMP _0xA004D
                 ; 0005 012A 			i = 8; ni = 11;
                 _0xA0054:
00246f e058      	LDI  R21,LOW(8)
002470 e03b      	LDI  R19,LOW(11)
                 ; 0005 012B 			continue;
002471 c028      	RJMP _0xA004B
                 ; 0005 012C 		}
                 ; 0005 012D #ifdef _EXCVT
                 ; 0005 012E 		if (c >= 0x80)					/* To upper extended char (SBCS) */
                 _0xA0051:
002472 3810      	CPI  R17,128
002473 f038      	BRLO _0xA0057
                 ; 0005 012F 			c = cvt[c - 0x80];
002474 2fe1      	MOV  R30,R17
002475 e0f0      	LDI  R31,0
002476 58e0      	SUBI R30,LOW(128)
002477 40f0      	SBCI R31,HIGH(128)
002478 5ce8      	SUBI R30,LOW(-_cvt_G005*2)
002479 4ffe      	SBCI R31,HIGH(-_cvt_G005*2)
00247a 9114      	LPM  R17,Z
                 ; 0005 0130 #endif
                 ; 0005 0131 		if (IsDBCS1(c) && i >= ni - 1) {	/* DBC 1st byte? */
                 _0xA0057:
00247b e0e0      	LDI  R30,LOW(0)
00247c 30e0      	CPI  R30,0
00247d f041      	BREQ _0xA0059
00247e 2fe3      	MOV  R30,R19
00247f e0f0      	LDI  R31,0
002480 9731      	SBIW R30,1
002481 2fa5      	MOV  R26,R21
002482 e0b0      	LDI  R27,0
002483 17ae      	CP   R26,R30
002484 07bf      	CPC  R27,R31
002485 f40c      	BRGE _0xA005A
                 _0xA0059:
002486 c00a      	RJMP _0xA0058
                 _0xA005A:
                 ; 0005 0132 			d = p[si++];					/* Get 2nd byte */
002487 940e 3312 	CALL SUBOPT_0xCE
002489 910c      	LD   R16,X
                 ; 0005 0133 			sfn[i++] = c;
00248a 940e 331a 	CALL SUBOPT_0xCF
00248c 8310      	ST   Z,R17
                 ; 0005 0134 			sfn[i++] = d;
00248d 940e 331a 	CALL SUBOPT_0xCF
00248f 8300      	ST   Z,R16
                 ; 0005 0135 		} else {						/* Single byte code */
002490 c009      	RJMP _0xA005B
                 _0xA0058:
                 ; 0005 0136 			if (IsLower(c)) c -= 0x20;	/* toupper */
002491 3611      	CPI  R17,97
002492 f010      	BRLO _0xA005D
002493 371b      	CPI  R17,123
002494 f008      	BRLO _0xA005E
                 _0xA005D:
002495 c001      	RJMP _0xA005C
                 _0xA005E:
002496 5210      	SUBI R17,LOW(32)
                 ; 0005 0137 			sfn[i++] = c;
                 _0xA005C:
002497 940e 331a 	CALL SUBOPT_0xCF
002499 8310      	ST   Z,R17
                 ; 0005 0138 		}
                 _0xA005B:
                 ; 0005 0139 	}
                 _0xA004B:
00249a cfc3      	RJMP _0xA004C
                 _0xA004D:
                 ; 0005 013A 	*path = &p[si];						/* Rerurn pointer to the next segment */
00249b 2fe2      	MOV  R30,R18
00249c 81ae      	LDD  R26,Y+6
00249d 81bf      	LDD  R27,Y+6+1
00249e e0f0      	LDI  R31,0
00249f 0fea      	ADD  R30,R26
0024a0 1ffb      	ADC  R31,R27
0024a1 85aa      	LDD  R26,Y+10
0024a2 85bb      	LDD  R27,Y+10+1
0024a3 93ed      	ST   X+,R30
0024a4 93fc      	ST   X,R31
                 ; 0005 013B 
                 ; 0005 013C 	sfn[11] = (c <= ' ') ? 1 : 0;		/* Set last segment flag if end of path */
0024a5 3211      	CPI  R17,33
0024a6 f410      	BRSH _0xA005F
0024a7 e0e1      	LDI  R30,LOW(1)
0024a8 c001      	RJMP _0xA0060
                 _0xA005F:
0024a9 e0e0      	LDI  R30,LOW(0)
                 _0xA0060:
                +
0024aa 85a8     +LDD R26 , Y + 8
0024ab 85b9     +LDD R27 , Y + 8 + 1
0024ac 961b     +ADIW R26 , 11
0024ad 93ec     +ST X , R30
                 	__PUTB1SNS 8,11
                 ; 0005 013D 
                 ; 0005 013E 	return FR_OK;
0024ae e0e0      	LDI  R30,LOW(0)
0024af 940e 3597 	CALL __LOADLOCR6
                 _0x20C000B:
0024b1 962e      	ADIW R28,14
0024b2 9508      	RET
                 ; 0005 013F }
                 ; .FEND
                 ;
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Get file information from directory entry                             */
                 ;/*-----------------------------------------------------------------------*/
                 ;#if _USE_DIR
                 ;static
                 ;void get_fileinfo (		/* No return code */
                 ; 0005 014A 	DIR *dj,			/* Pointer to the directory object */
                 ; 0005 014B 	FILINFO *fno	 	/* Pointer to store the file information */
                 ; 0005 014C )
                 ; 0005 014D {
                 ; 0005 014E 	BYTE i, c, *dir;
                 ; 0005 014F 	char *p;
                 ; 0005 0150 
                 ; 0005 0151 
                 ; 0005 0152 	p = fno->fname;
                 ;	*dj -> Y+8
                 ;	*fno -> Y+6
                 ;	i -> R17
                 ;	c -> R16
                 ;	*dir -> R18,R19
                 ;	*p -> R20,R21
                 ; 0005 0153 	if (dj->sect) {
                 ; 0005 0154 		dir = FatFs->buf;
                 ; 0005 0155 		for (i = 0; i < 8; i++) {	/* Copy file name body */
                 ; 0005 0156 			c = dir[i];
                 ; 0005 0157 			if (c == ' ') break;
                 ; 0005 0158 			if (c == 0x05) c = 0xE5;
                 ; 0005 0159 			*p++ = c;
                 ; 0005 015A 		}
                 ; 0005 015B 		if (dir[8] != ' ') {		/* Copy file name extension */
                 ; 0005 015C 			*p++ = '.';
                 ; 0005 015D 			for (i = 8; i < 11; i++) {
                 ; 0005 015E 				c = dir[i];
                 ; 0005 015F 				if (c == ' ') break;
                 ; 0005 0160 				*p++ = c;
                 ; 0005 0161 			}
                 ; 0005 0162 		}
                 ; 0005 0163 		fno->fattrib = dir[DIR_Attr];				/* Attribute */
                 ; 0005 0164 		fno->fsize = LD_DWORD(dir+DIR_FileSize);	/* Size */
                 ; 0005 0165 		fno->fdate = LD_WORD(dir+DIR_WrtDate);		/* Date */
                 ; 0005 0166 		fno->ftime = LD_WORD(dir+DIR_WrtTime);		/* Time */
                 ; 0005 0167 	}
                 ; 0005 0168 	*p = 0;
                 ; 0005 0169 }
                 ;#endif /* _USE_DIR */
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Follow a file path                                                    */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;static
                 ;FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
                 ; 0005 0174 	DIR *dj,			/* Directory object to return last directory and found object */
                 ; 0005 0175 	const char *path	/* Full-path string to find a file or directory */
                 ; 0005 0176 )
                 ; 0005 0177 {
                 _follow_path_G005:
                 ; .FSTART _follow_path_G005
                 ; 0005 0178 	FRESULT res;
                 ; 0005 0179 	BYTE *dir;
                 ; 0005 017A 
                 ; 0005 017B 
                 ; 0005 017C 	while (*path == ' ') path++;		/* Skip leading spaces */
0024b3 940e 3592 	CALL __SAVELOCR4
                 ;	*dj -> Y+6
                 ;	*path -> Y+4
                 ;	res -> R17
                 ;	*dir -> R18,R19
                 _0xA006D:
0024b5 81ac      	LDD  R26,Y+4
0024b6 81bd      	LDD  R27,Y+4+1
0024b7 91ac      	LD   R26,X
0024b8 32a0      	CPI  R26,LOW(0x20)
0024b9 f431      	BRNE _0xA006F
0024ba 81ec      	LDD  R30,Y+4
0024bb 81fd      	LDD  R31,Y+4+1
0024bc 9631      	ADIW R30,1
0024bd 83ec      	STD  Y+4,R30
0024be 83fd      	STD  Y+4+1,R31
0024bf cff5      	RJMP _0xA006D
                 _0xA006F:
                 ; 0005 017D if (*path == '/') path++;
0024c0 81ac      	LDD  R26,Y+4
0024c1 81bd      	LDD  R27,Y+4+1
0024c2 91ac      	LD   R26,X
0024c3 32af      	CPI  R26,LOW(0x2F)
0024c4 f429      	BRNE _0xA0070
0024c5 81ec      	LDD  R30,Y+4
0024c6 81fd      	LDD  R31,Y+4+1
0024c7 9631      	ADIW R30,1
0024c8 83ec      	STD  Y+4,R30
0024c9 83fd      	STD  Y+4+1,R31
                 ; 0005 017E 	dj->sclust = 0;						/* Set start directory (always root dir) */
                 _0xA0070:
0024ca 81ae      	LDD  R26,Y+6
0024cb 81bf      	LDD  R27,Y+6+1
0024cc 9614      	ADIW R26,4
0024cd 940e 3322 	CALL SUBOPT_0xD0
                 ; 0005 017F 
                 ; 0005 0180 	if ((BYTE)*path <= ' ') {			/* Null path means the root directory */
0024cf 81ac      	LDD  R26,Y+4
0024d0 81bd      	LDD  R27,Y+4+1
0024d1 91ac      	LD   R26,X
0024d2 32a1      	CPI  R26,LOW(0x21)
0024d3 f458      	BRSH _0xA0071
                 ; 0005 0181 		res = dir_rewind(dj);
0024d4 940e 3326 	CALL SUBOPT_0xD1
0024d6 de61      	RCALL _dir_rewind_G005
0024d7 2f1e      	MOV  R17,R30
                 ; 0005 0182 		FatFs->buf[0] = 0;
0024d8 940e 3286 	CALL SUBOPT_0xB5
0024da 81a6      	LDD  R26,Z+6
0024db 81b7      	LDD  R27,Z+7
0024dc e0e0      	LDI  R30,LOW(0)
0024dd 93ec      	ST   X,R30
                 ; 0005 0183 
                 ; 0005 0184 	} else {							/* Follow path */
0024de c03d      	RJMP _0xA0072
                 _0xA0071:
                 ; 0005 0185 		for (;;) {
                 _0xA0074:
                 ; 0005 0186 			res = create_name(dj, &path);	/* Get a segment */
0024df 940e 3326 	CALL SUBOPT_0xD1
0024e1 01fe      	MOVW R30,R28
0024e2 9636      	ADIW R30,6
0024e3 93fa      	ST   -Y,R31
0024e4 93ea      	ST   -Y,R30
0024e5 df5b      	RCALL _create_name_G005
0024e6 2f1e      	MOV  R17,R30
                 ; 0005 0187 			if (res != FR_OK) break;
0024e7 3010      	CPI  R17,0
0024e8 f599      	BRNE _0xA0075
                 ; 0005 0188 			res = dir_find(dj);				/* Find it */
0024e9 940e 3326 	CALL SUBOPT_0xD1
0024eb df04      	RCALL _dir_find_G005
0024ec 2f1e      	MOV  R17,R30
                 ; 0005 0189 			if (res != FR_OK) {				/* Could not find the object */
0024ed 3010      	CPI  R17,0
0024ee f041      	BREQ _0xA0077
                 ; 0005 018A 				if (res == FR_NO_FILE && !*(dj->fn+11))
0024ef 3013      	CPI  R17,3
0024f0 f419      	BRNE _0xA0079
0024f1 940e 332b 	CALL SUBOPT_0xD2
0024f3 f009      	BREQ _0xA007A
                 _0xA0079:
0024f4 c001      	RJMP _0xA0078
                 _0xA007A:
                 ; 0005 018B 					res = FR_NO_PATH;
0024f5 e014      	LDI  R17,LOW(4)
                 ; 0005 018C 				break;
                 _0xA0078:
0024f6 c025      	RJMP _0xA0075
                 ; 0005 018D 			}
                 ; 0005 018E 			if (*(dj->fn+11)) break;		/* Last segment match. Function completed. */
                 _0xA0077:
0024f7 940e 332b 	CALL SUBOPT_0xD2
0024f9 f511      	BRNE _0xA0075
                 ; 0005 018F 			dir = FatFs->buf;				/* There is next segment. Follow the sub directory */
0024fa 940e 3305 	CALL SUBOPT_0xCC
                 ; 0005 0190 			if (!(dir[DIR_Attr] & AM_DIR)) { /* Cannot follow because it is a file */
0024fc 01f9      	MOVW R30,R18
0024fd 85e3      	LDD  R30,Z+11
0024fe 71e0      	ANDI R30,LOW(0x10)
0024ff f411      	BRNE _0xA007C
                 ; 0005 0191 				res = FR_NO_PATH; break;
002500 e014      	LDI  R17,LOW(4)
002501 c01a      	RJMP _0xA0075
                 ; 0005 0192 			}
                 ; 0005 0193 			dj->sclust =
                 _0xA007C:
                 ; 0005 0194 #if _FS_FAT32
                 ; 0005 0195 				((DWORD)LD_WORD(dir+DIR_FstClusHI) << 16) |
                 ; 0005 0196 #endif
                 ; 0005 0197 				LD_WORD(dir+DIR_FstClusLO);
002502 01d9      	MOVW R26,R18
002503 9654      	ADIW R26,20
002504 940e 3333 	CALL SUBOPT_0xD3
002506 940e 3498 	CALL __LSLD16
002508 937f      	PUSH R23
002509 936f      	PUSH R22
00250a 93ff      	PUSH R31
00250b 93ef      	PUSH R30
00250c 01d9      	MOVW R26,R18
00250d 965a      	ADIW R26,26
00250e 940e 3513 	CALL __GETW1P
002510 91af      	POP  R26
002511 91bf      	POP  R27
002512 918f      	POP  R24
002513 919f      	POP  R25
002514 940e 2f74 	CALL SUBOPT_0x3D
                +
002516 81ae     +LDD R26 , Y + 6
002517 81bf     +LDD R27 , Y + 6 + 1
002518 9614     +ADIW R26 , 4
002519 940e 3522+CALL __PUTDP1
                 	__PUTD1SNS 6,4
                 ; 0005 0198 		}
00251b cfc3      	RJMP _0xA0074
                 _0xA0075:
                 ; 0005 0199 	}
                 _0xA0072:
                 ; 0005 019A 
                 ; 0005 019B 	return res;
00251c 2fe1      	MOV  R30,R17
00251d 940e 3599 	CALL __LOADLOCR4
                 _0x20C000A:
00251f 9628      	ADIW R28,8
002520 9508      	RET
                 ; 0005 019C }
                 ; .FEND
                 ;
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Check a sector if it is an FAT boot record                            */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;static
                 ;BYTE check_fs (	/* 0:The FAT boot record, 1:Valid boot record but not an FAT, 2:Not a boot record, 3:Error */
                 ; 0005 01A7 	BYTE *buf,	/* Working buffer */
                 ; 0005 01A8 	DWORD sect	/* Sector# (lba) to check if it is an FAT boot record or not */
                 ; 0005 01A9 )
                 ; 0005 01AA {
                 _check_fs_G005:
                 ; .FSTART _check_fs_G005
                 ; 0005 01AB 	if (disk_readp(buf, sect, 510, 2))		/* Read the boot sector */
                 ;	*buf -> Y+4
                 ;	sect -> Y+0
002521 940e 3226 	CALL SUBOPT_0xA6
002523 940e 32f6 	CALL SUBOPT_0xC9
002525 efee      	LDI  R30,LOW(510)
002526 e0f1      	LDI  R31,HIGH(510)
002527 940e 32c2 	CALL SUBOPT_0xBF
002529 f011      	BREQ _0xA007D
                 ; 0005 01AC 		return 3;
00252a e0e3      	LDI  R30,LOW(3)
00252b c02d      	RJMP _0x20C0009
                 ; 0005 01AD 	if (LD_WORD(buf) != 0xAA55)				/* Check record signature */
                 _0xA007D:
00252c 940e 3338 	CALL SUBOPT_0xD4
00252e 35e5      	CPI  R30,LOW(0xAA55)
00252f eaaa      	LDI  R26,HIGH(0xAA55)
002530 07fa      	CPC  R31,R26
002531 f011      	BREQ _0xA007E
                 ; 0005 01AE 		return 2;
002532 e0e2      	LDI  R30,LOW(2)
002533 c025      	RJMP _0x20C0009
                 ; 0005 01AF 
                 ; 0005 01B0 	if (!disk_readp(buf, sect, BS_FilSysType, 2) && LD_WORD(buf) == 0x4146)	/* Check FAT12/16 */
                 _0xA007E:
002534 940e 3226 	CALL SUBOPT_0xA6
002536 940e 32f6 	CALL SUBOPT_0xC9
002538 e3e6      	LDI  R30,LOW(54)
002539 e0f0      	LDI  R31,HIGH(54)
00253a 940e 32c2 	CALL SUBOPT_0xBF
00253c f431      	BRNE _0xA0080
00253d 940e 3338 	CALL SUBOPT_0xD4
00253f 34e6      	CPI  R30,LOW(0x4146)
002540 e4a1      	LDI  R26,HIGH(0x4146)
002541 07fa      	CPC  R31,R26
002542 f009      	BREQ _0xA0081
                 _0xA0080:
002543 c002      	RJMP _0xA007F
                 _0xA0081:
                 ; 0005 01B1 		return 0;
002544 e0e0      	LDI  R30,LOW(0)
002545 c013      	RJMP _0x20C0009
                 ; 0005 01B2 #if _FS_FAT32
                 ; 0005 01B3 	if (!disk_readp(buf, sect, BS_FilSysType32, 2) && LD_WORD(buf) == 0x4146)	/* Check FAT32 */
                 _0xA007F:
002546 940e 3226 	CALL SUBOPT_0xA6
002548 940e 32f6 	CALL SUBOPT_0xC9
00254a e5e2      	LDI  R30,LOW(82)
00254b e0f0      	LDI  R31,HIGH(82)
00254c 940e 32c2 	CALL SUBOPT_0xBF
00254e f431      	BRNE _0xA0083
00254f 940e 3338 	CALL SUBOPT_0xD4
002551 34e6      	CPI  R30,LOW(0x4146)
002552 e4a1      	LDI  R26,HIGH(0x4146)
002553 07fa      	CPC  R31,R26
002554 f009      	BREQ _0xA0084
                 _0xA0083:
002555 c002      	RJMP _0xA0082
                 _0xA0084:
                 ; 0005 01B4 		return 0;
002556 e0e0      	LDI  R30,LOW(0)
002557 c001      	RJMP _0x20C0009
                 ; 0005 01B5 #endif
                 ; 0005 01B6 	return 1;
                 _0xA0082:
002558 e0e1      	LDI  R30,LOW(1)
                 _0x20C0009:
002559 9626      	ADIW R28,6
00255a 9508      	RET
                 ; 0005 01B7 }
                 ; .FEND
                 ;
                 ;
                 ;
                 ;
                 ;/*--------------------------------------------------------------------------
                 ;
                 ;   Public Functions
                 ;
                 ;--------------------------------------------------------------------------*/
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Mount/Unmount a Locical Drive                                         */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;FRESULT pf_mount (
                 ; 0005 01C9 	FATFS *fs		/* Pointer to new file system object (NULL: Unmount) */
                 ; 0005 01CA )
                 ; 0005 01CB {
                 _pf_mount:
                 ; .FSTART _pf_mount
                 ; 0005 01CC 	BYTE fmt, buf[36];
                 ; 0005 01CD 	DWORD bsect, fsize, tsect, mclst;
                 ; 0005 01CE 
                 ; 0005 01CF 
                 ; 0005 01D0 	FatFs = 0;
00255b 97e4      	SBIW R28,52
00255c 931a      	ST   -Y,R17
                 ;	*fs -> Y+53
                 ;	fmt -> R17
                 ;	buf -> Y+17
                 ;	bsect -> Y+13
                 ;	fsize -> Y+9
                 ;	tsect -> Y+5
                 ;	mclst -> Y+1
00255d e0e0      	LDI  R30,LOW(0)
00255e 93e0 0835 	STS  _FatFs_G005,R30
002560 93e0 0836 	STS  _FatFs_G005+1,R30
                 ; 0005 01D1 	if (!fs) return FR_OK;				/* Unregister fs object */
002562 a9ed      	LDD  R30,Y+53
002563 a9fe      	LDD  R31,Y+53+1
002564 9730      	SBIW R30,0
002565 f409      	BRNE _0xA0085
002566 c113      	RJMP _0x20C0008
                 ; 0005 01D2 
                 ; 0005 01D3 	if (disk_initialize() & STA_NOINIT)	/* Check if the drive is ready or not */
                 _0xA0085:
002567 db16      	RCALL _disk_initialize
002568 70e1      	ANDI R30,LOW(0x1)
002569 f011      	BREQ _0xA0086
                 ; 0005 01D4 		return FR_NOT_READY;
00256a e0e2      	LDI  R30,LOW(2)
00256b c10f      	RJMP _0x20C0007
                 ; 0005 01D5 
                 ; 0005 01D6 	/* Search FAT partition on the drive */
                 ; 0005 01D7 	bsect = 0;
                 _0xA0086:
00256c e0e0      	LDI  R30,LOW(0)
                +
00256d 87ed     +STD Y + 13 , R30
00256e 87ee     +STD Y + 13 + 1 , R30
00256f 87ef     +STD Y + 13 + 2 , R30
002570 8be8     +STD Y + 13 + 3 , R30
                 	__CLRD1S 13
                 ; 0005 01D8 	fmt = check_fs(buf, bsect);			/* Check sector 0 as an SFD format */
002571 940e 333d 	CALL SUBOPT_0xD5
002573 dfad      	RCALL _check_fs_G005
002574 2f1e      	MOV  R17,R30
                 ; 0005 01D9 	if (fmt == 1) {						/* Not an FAT boot record, it may be FDISK format */
002575 3011      	CPI  R17,1
002576 f4e1      	BRNE _0xA0087
                 ; 0005 01DA 		/* Check a partition listed in top of the partition table */
                 ; 0005 01DB 		if (disk_readp(buf, bsect, MBR_Table, 16)) {	/* 1st partition entry */
002577 940e 333d 	CALL SUBOPT_0xD5
002579 ebee      	LDI  R30,LOW(446)
00257a e0f1      	LDI  R31,HIGH(446)
00257b 93fa      	ST   -Y,R31
00257c 93ea      	ST   -Y,R30
00257d e1e0      	LDI  R30,LOW(16)
00257e e0f0      	LDI  R31,HIGH(16)
00257f 940e 32c5 	CALL SUBOPT_0xC0
002581 f011      	BREQ _0xA0088
                 ; 0005 01DC 			fmt = 3;
002582 e013      	LDI  R17,LOW(3)
                 ; 0005 01DD 		} else {
002583 c00f      	RJMP _0xA0089
                 _0xA0088:
                 ; 0005 01DE 			if (buf[4]) {					/* Is the partition existing? */
002584 89ed      	LDD  R30,Y+21
002585 30e0      	CPI  R30,0
002586 f061      	BREQ _0xA008A
                 ; 0005 01DF 				bsect = LD_DWORD(&buf[8]);	/* Partition offset in LBA */
                +
002587 8de9     +LDD R30 , Y + 25
002588 8dfa     +LDD R31 , Y + 25 + 1
002589 8d6b     +LDD R22 , Y + 25 + 2
00258a 8d7c     +LDD R23 , Y + 25 + 3
                 	__GETD1S 25
                +
00258b 87ed     +STD Y + 13 , R30
00258c 87fe     +STD Y + 13 + 1 , R31
00258d 876f     +STD Y + 13 + 2 , R22
00258e 8b78     +STD Y + 13 + 3 , R23
                 	__PUTD1S 13
                 ; 0005 01E0 				fmt = check_fs(buf, bsect);	/* Check the partition */
00258f 940e 333d 	CALL SUBOPT_0xD5
002591 df8f      	RCALL _check_fs_G005
002592 2f1e      	MOV  R17,R30
                 ; 0005 01E1 			}
                 ; 0005 01E2 		}
                 _0xA008A:
                 _0xA0089:
                 ; 0005 01E3 	}
                 ; 0005 01E4 	if (fmt == 3) return FR_DISK_ERR;
                 _0xA0087:
002593 3013      	CPI  R17,3
002594 f411      	BRNE _0xA008B
002595 e0e1      	LDI  R30,LOW(1)
002596 c0e4      	RJMP _0x20C0007
                 ; 0005 01E5 	if (fmt) return FR_NO_FILESYSTEM;	/* No valid FAT patition is found */
                 _0xA008B:
002597 3010      	CPI  R17,0
002598 f011      	BREQ _0xA008C
002599 e0e7      	LDI  R30,LOW(7)
00259a c0e0      	RJMP _0x20C0007
                 ; 0005 01E6 
                 ; 0005 01E7 	/* Initialize the file system object */
                 ; 0005 01E8 	if (disk_readp(buf, bsect, 13, sizeof(buf))) return FR_DISK_ERR;
                 _0xA008C:
00259b 940e 333d 	CALL SUBOPT_0xD5
00259d e0ed      	LDI  R30,LOW(13)
00259e e0f0      	LDI  R31,HIGH(13)
00259f 93fa      	ST   -Y,R31
0025a0 93ea      	ST   -Y,R30
0025a1 e2e4      	LDI  R30,LOW(36)
0025a2 e0f0      	LDI  R31,HIGH(36)
0025a3 940e 32c5 	CALL SUBOPT_0xC0
0025a5 f011      	BREQ _0xA008D
0025a6 e0e1      	LDI  R30,LOW(1)
0025a7 c0d3      	RJMP _0x20C0007
                 ; 0005 01E9 
                 ; 0005 01EA 	fsize = LD_WORD(buf+BPB_FATSz16-13);				/* Number of sectors per FAT */
                 _0xA008D:
0025a8 01fe      	MOVW R30,R28
0025a9 96b7      	ADIW R30,39
0025aa 973d      	SBIW R30,13
0025ab 01df      	MOVW R26,R30
0025ac 940e 3333 	CALL SUBOPT_0xD3
0025ae 940e 3348 	CALL SUBOPT_0xD6
                 ; 0005 01EB 	if (!fsize) fsize = LD_DWORD(buf+BPB_FATSz32-13);
0025b0 940e 3281 	CALL SUBOPT_0xB4
0025b2 940e 357c 	CALL __CPD10
0025b4 f441      	BRNE _0xA008E
0025b5 01fe      	MOVW R30,R28
0025b6 96f5      	ADIW R30,53
0025b7 973d      	SBIW R30,13
0025b8 01df      	MOVW R26,R30
0025b9 940e 3517 	CALL __GETD1P
0025bb 940e 3348 	CALL SUBOPT_0xD6
                 ; 0005 01EC 
                 ; 0005 01ED 	fsize *= buf[BPB_NumFATs-13];						/* Number of sectors in FAT area */
                 _0xA008E:
0025bd 89ec      	LDD  R30,Y+20
0025be e0f0      	LDI  R31,0
                +
0025bf 85a9     +LDD R26 , Y + 9
0025c0 85ba     +LDD R27 , Y + 9 + 1
0025c1 858b     +LDD R24 , Y + 9 + 2
0025c2 859c     +LDD R25 , Y + 9 + 3
                 	__GETD2S 9
0025c3 940e 34a3 	CALL __CWD1
0025c5 940e 34ad 	CALL __MULD12U
0025c7 940e 3348 	CALL SUBOPT_0xD6
                 ; 0005 01EE 	fs->fatbase = bsect + LD_WORD(buf+BPB_RsvdSecCnt-13); /* FAT start sector (lba) */
0025c9 940e 334d 	CALL SUBOPT_0xD7
                +
0025cb 85ad     +LDD R26 , Y + 13
0025cc 85be     +LDD R27 , Y + 13 + 1
0025cd 858f     +LDD R24 , Y + 13 + 2
0025ce 8998     +LDD R25 , Y + 13 + 3
                 	__GETD2S 13
0025cf 940e 304f 	CALL SUBOPT_0x60
                +
0025d1 a9ad     +LDD R26 , Y + 53
0025d2 a9be     +LDD R27 , Y + 53 + 1
0025d3 961c     +ADIW R26 , 12
0025d4 940e 3522+CALL __PUTDP1
                 	__PUTD1SNS 53,12
                 ; 0005 01EF 	fs->csize = buf[BPB_SecPerClus-13];					/* Number of sectors per cluster */
0025d6 89e9      	LDD  R30,Y+17
                +
0025d7 a9ad     +LDD R26 , Y + 53
0025d8 a9be     +LDD R27 , Y + 53 + 1
0025d9 9611     +ADIW R26 , 1
0025da 93ec     +ST X , R30
                 	__PUTB1SNS 53,1
                 ; 0005 01F0 	fs->n_rootdir = LD_WORD(buf+BPB_RootEntCnt-13);		/* Nmuber of root directory entries */
0025db 01fe      	MOVW R30,R28
0025dc 96b2      	ADIW R30,34
0025dd 973d      	SBIW R30,13
0025de 01df      	MOVW R26,R30
0025df 940e 3513 	CALL __GETW1P
                +
0025e1 a9ad     +LDD R26 , Y + 53
0025e2 a9be     +LDD R27 , Y + 53 + 1
0025e3 9614     +ADIW R26 , 4
0025e4 93ed     +ST X + , R30
0025e5 93fc     +ST X , R31
                 	__PUTW1SNS 53,4
                 ; 0005 01F1 	tsect = LD_WORD(buf+BPB_TotSec16-13);				/* Number of sectors on the file system */
0025e6 01fe      	MOVW R30,R28
0025e7 96b4      	ADIW R30,36
0025e8 973d      	SBIW R30,13
0025e9 01df      	MOVW R26,R30
0025ea 940e 3333 	CALL SUBOPT_0xD3
                +
0025ec 83ed     +STD Y + 5 , R30
0025ed 83fe     +STD Y + 5 + 1 , R31
0025ee 836f     +STD Y + 5 + 2 , R22
0025ef 8778     +STD Y + 5 + 3 , R23
                 	__PUTD1S 5
                 ; 0005 01F2 	if (!tsect) tsect = LD_DWORD(buf+BPB_TotSec32-13);
0025f0 940e 357c 	CALL __CPD10
0025f2 f451      	BRNE _0xA008F
0025f3 01fe      	MOVW R30,R28
0025f4 96f1      	ADIW R30,49
0025f5 973d      	SBIW R30,13
0025f6 01df      	MOVW R26,R30
0025f7 940e 3517 	CALL __GETD1P
                +
0025f9 83ed     +STD Y + 5 , R30
0025fa 83fe     +STD Y + 5 + 1 , R31
0025fb 836f     +STD Y + 5 + 2 , R22
0025fc 8778     +STD Y + 5 + 3 , R23
                 	__PUTD1S 5
                 ; 0005 01F3 	mclst = (tsect						/* Last cluster# + 1 */
                 _0xA008F:
                 ; 0005 01F4 		- LD_WORD(buf+BPB_RsvdSecCnt-13) - fsize - fs->n_rootdir / 16
                 ; 0005 01F5 		) / fs->csize + 2;
0025fd 940e 334d 	CALL SUBOPT_0xD7
                +
0025ff 81ad     +LDD R26 , Y + 5
002600 81be     +LDD R27 , Y + 5 + 1
002601 818f     +LDD R24 , Y + 5 + 2
002602 8598     +LDD R25 , Y + 5 + 3
                 	__GETD2S 5
002603 2766      	CLR  R22
002604 2777      	CLR  R23
002605 940e 353a 	CALL __SWAPD12
002607 940e 342c 	CALL __SUBD12
                +
002609 85a9     +LDD R26 , Y + 9
00260a 85ba     +LDD R27 , Y + 9 + 1
00260b 858b     +LDD R24 , Y + 9 + 2
00260c 859c     +LDD R25 , Y + 9 + 3
                 	__GETD2S 9
00260d 940e 342c 	CALL __SUBD12
00260f 937f      	PUSH R23
002610 936f      	PUSH R22
002611 93ff      	PUSH R31
002612 93ef      	PUSH R30
002613 940e 3354 	CALL SUBOPT_0xD8
002615 91af      	POP  R26
002616 91bf      	POP  R27
002617 918f      	POP  R24
002618 919f      	POP  R25
002619 2766      	CLR  R22
00261a 2777      	CLR  R23
00261b 940e 3431 	CALL __SUBD21
00261d a9ed      	LDD  R30,Y+53
00261e a9fe      	LDD  R31,Y+53+1
00261f 940e 335c 	CALL SUBOPT_0xD9
002621 940e 34e0 	CALL __DIVD21U
                +
002623 5fee     +SUBI R30 , LOW ( - 2 )
002624 4fff     +SBCI R31 , HIGH ( - 2 )
002625 4f6f     +SBCI R22 , BYTE3 ( - 2 )
002626 4f7f     +SBCI R23 , BYTE4 ( - 2 )
                 	__ADDD1N 2
                +
002627 83e9     +STD Y + 1 , R30
002628 83fa     +STD Y + 1 + 1 , R31
002629 836b     +STD Y + 1 + 2 , R22
00262a 837c     +STD Y + 1 + 3 , R23
                 	__PUTD1S 1
                 ; 0005 01F6 	fs->max_clust = (CLUST)mclst;
                +
00262b a9ad     +LDD R26 , Y + 53
00262c a9be     +LDD R27 , Y + 53 + 1
00262d 9618     +ADIW R26 , 8
00262e 940e 3522+CALL __PUTDP1
                 	__PUTD1SNS 53,8
                 ; 0005 01F7 
                 ; 0005 01F8 	fmt = FS_FAT12;							/* Determine the FAT sub type */
002630 e011      	LDI  R17,LOW(1)
                 ; 0005 01F9 	if (mclst >= 0xFF7) fmt = FS_FAT16;		/* Number of clusters >= 0xFF5 */
                +
002631 81a9     +LDD R26 , Y + 1
002632 81ba     +LDD R27 , Y + 1 + 1
002633 818b     +LDD R24 , Y + 1 + 2
002634 819c     +LDD R25 , Y + 1 + 3
                 	__GETD2S 1
                +
002635 3fa7     +CPI R26 , LOW ( 0xFF7 )
002636 e0ef     +LDI R30 , HIGH ( 0xFF7 )
002637 07be     +CPC R27 , R30
002638 e0e0     +LDI R30 , BYTE3 ( 0xFF7 )
002639 078e     +CPC R24 , R30
00263a e0e0     +LDI R30 , BYTE4 ( 0xFF7 )
00263b 079e     +CPC R25 , R30
                 	__CPD2N 0xFF7
00263c f008      	BRLO _0xA0090
00263d e012      	LDI  R17,LOW(2)
                 ; 0005 01FA 	if (mclst >= 0xFFF7)					/* Number of clusters >= 0xFFF5 */
                 _0xA0090:
                +
00263e 81a9     +LDD R26 , Y + 1
00263f 81ba     +LDD R27 , Y + 1 + 1
002640 818b     +LDD R24 , Y + 1 + 2
002641 819c     +LDD R25 , Y + 1 + 3
                 	__GETD2S 1
                +
002642 3fa7     +CPI R26 , LOW ( 0xFFF7 )
002643 efef     +LDI R30 , HIGH ( 0xFFF7 )
002644 07be     +CPC R27 , R30
002645 e0e0     +LDI R30 , BYTE3 ( 0xFFF7 )
002646 078e     +CPC R24 , R30
002647 e0e0     +LDI R30 , BYTE4 ( 0xFFF7 )
002648 079e     +CPC R25 , R30
                 	__CPD2N 0xFFF7
002649 f008      	BRLO _0xA0091
                 ; 0005 01FB #if _FS_FAT32
                 ; 0005 01FC 		fmt = FS_FAT32;
00264a e013      	LDI  R17,LOW(3)
                 ; 0005 01FD #else
                 ; 0005 01FE 		return FR_NO_FILESYSTEM;
                 ; 0005 01FF #endif
                 ; 0005 0200 
                 ; 0005 0201 	fs->fs_type = fmt;		/* FAT sub-type */
                 _0xA0091:
00264b a9ad      	LDD  R26,Y+53
00264c a9be      	LDD  R27,Y+53+1
00264d 931c      	ST   X,R17
                 ; 0005 0202 #if _FS_FAT32
                 ; 0005 0203 	if (fmt == FS_FAT32)
00264e 3013      	CPI  R17,3
00264f f429      	BRNE _0xA0092
                 ; 0005 0204 		fs->dirbase = LD_DWORD(buf+(BPB_RootClus-13));	/* Root directory start cluster */
                +
002650 a9e8     +LDD R30 , Y + 48
002651 a9f9     +LDD R31 , Y + 48 + 1
002652 a96a     +LDD R22 , Y + 48 + 2
002653 a97b     +LDD R23 , Y + 48 + 3
                 	__GETD1S 48
002654 c002      	RJMP _0xA00E6
                 ; 0005 0205 	else
                 _0xA0092:
                 ; 0005 0206 #endif
                 ; 0005 0207 		fs->dirbase = fs->fatbase + fsize;				/* Root directory start sector (lba) */
002655 940e 3361 	CALL SUBOPT_0xDA
                 _0xA00E6:
                +
002657 a9ad     +LDD R26 , Y + 53
002658 a9be     +LDD R27 , Y + 53 + 1
002659 9650     +ADIW R26 , 16
00265a 940e 3522+CALL __PUTDP1
                 	__PUTD1SNS 53,16
                 ; 0005 0208 	fs->database = fs->fatbase + fsize + fs->n_rootdir / 16;	/* Data start sector (lba) */
00265c 940e 3361 	CALL SUBOPT_0xDA
00265e 937f      	PUSH R23
00265f 936f      	PUSH R22
002660 93ff      	PUSH R31
002661 93ef      	PUSH R30
002662 940e 3354 	CALL SUBOPT_0xD8
002664 91af      	POP  R26
002665 91bf      	POP  R27
002666 918f      	POP  R24
002667 919f      	POP  R25
002668 940e 304f 	CALL SUBOPT_0x60
                +
00266a a9ad     +LDD R26 , Y + 53
00266b a9be     +LDD R27 , Y + 53 + 1
00266c 9654     +ADIW R26 , 20
00266d 940e 3522+CALL __PUTDP1
                 	__PUTD1SNS 53,20
                 ; 0005 0209 
                 ; 0005 020A 	fs->flag = 0;
00266f a9ad      	LDD  R26,Y+53
002670 a9be      	LDD  R27,Y+53+1
002671 9612      	ADIW R26,2
002672 e0e0      	LDI  R30,LOW(0)
002673 93ec      	ST   X,R30
                 ; 0005 020B 	FatFs = fs;
002674 a9ed      	LDD  R30,Y+53
002675 a9fe      	LDD  R31,Y+53+1
002676 93e0 0835 	STS  _FatFs_G005,R30
002678 93f0 0836 	STS  _FatFs_G005+1,R31
                 ; 0005 020C 
                 ; 0005 020D 	return FR_OK;
                 _0x20C0008:
00267a e0e0      	LDI  R30,LOW(0)
                 _0x20C0007:
00267b 8118      	LDD  R17,Y+0
00267c 96e7      	ADIW R28,55
00267d 9508      	RET
                 ; 0005 020E }
                 ; .FEND
                 ;
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Open or Create a File                                                 */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;FRESULT pf_open (
                 ; 0005 0218 	const char *path	/* Pointer to the file name */
                 ; 0005 0219 )
                 ; 0005 021A {
                 _pf_open:
                 ; .FSTART _pf_open
                 ; 0005 021B 	FRESULT res;
                 ; 0005 021C 	DIR dj;
                 ; 0005 021D 	BYTE sp[12], dir[32];
                 ; 0005 021E 	FATFS *fs = FatFs;
                 ; 0005 021F 
                 ; 0005 0220 
                 ; 0005 0221 	if (!fs)						/* Check file system */
00267e 97ec      	SBIW R28,60
00267f 940e 32fa 	CALL SUBOPT_0xCA
                 ;	*path -> Y+64
                 ;	res -> R17
                 ;	dj -> Y+48
                 ;	sp -> Y+36
                 ;	dir -> Y+4
                 ;	*fs -> R18,R19
002681 2e02      	MOV  R0,R18
002682 2a03      	OR   R0,R19
002683 f411      	BRNE _0xA0094
                 ; 0005 0222 		return FR_NOT_ENABLED;
002684 e0e6      	LDI  R30,LOW(6)
002685 c048      	RJMP _0x20C0006
                 ; 0005 0223 
                 ; 0005 0224 	fs->flag = 0;
                 _0xA0094:
002686 01d9      	MOVW R26,R18
002687 9612      	ADIW R26,2
002688 e0e0      	LDI  R30,LOW(0)
002689 93ec      	ST   X,R30
                 ; 0005 0225 	fs->buf = dir;
00268a 01fe      	MOVW R30,R28
00268b 9634      	ADIW R30,4
                +
00268c 01d9     +MOVW R26 , R18
00268d 9616     +ADIW R26 , 6
00268e 93ed     +ST X + , R30
00268f 93fc     +ST X , R31
                 	__PUTW1RNS 18,6
                 ; 0005 0226 	dj.fn = sp;
002690 01fe      	MOVW R30,R28
002691 96b4      	ADIW R30,36
002692 abea      	STD  Y+50,R30
002693 abfb      	STD  Y+50+1,R31
                 ; 0005 0227 	res = follow_path(&dj, path);	/* Follow the file path */
002694 01fe      	MOVW R30,R28
002695 96f0      	ADIW R30,48
002696 93fa      	ST   -Y,R31
002697 93ea      	ST   -Y,R30
                +
002698 01fe     +MOVW R30 , R28
002699 5bee     +SUBI R30 , LOW ( - 66 )
00269a 4fff     +SBCI R31 , HIGH ( - 66 )
00269b 9001     +LD R0 , Z +
00269c 81f0     +LD R31 , Z
00269d 2de0     +MOV R30 , R0
                 	__GETW1SX 66
00269e 93fa      	ST   -Y,R31
00269f 93ea      	ST   -Y,R30
0026a0 de12      	RCALL _follow_path_G005
0026a1 2f1e      	MOV  R17,R30
                 ; 0005 0228 	if (res != FR_OK) return res;	/* Follow failed */
0026a2 3010      	CPI  R17,0
0026a3 f009      	BREQ _0xA0095
0026a4 c029      	RJMP _0x20C0006
                 ; 0005 0229 	if (!dir[0] || (dir[DIR_Attr] & AM_DIR))	/* It is a directory */
                 _0xA0095:
0026a5 81ec      	LDD  R30,Y+4
0026a6 30e0      	CPI  R30,0
0026a7 f019      	BREQ _0xA0097
0026a8 85ef      	LDD  R30,Y+15
0026a9 71e0      	ANDI R30,LOW(0x10)
0026aa f011      	BREQ _0xA0096
                 _0xA0097:
                 ; 0005 022A 		return FR_NO_FILE;
0026ab e0e3      	LDI  R30,LOW(3)
0026ac c021      	RJMP _0x20C0006
                 ; 0005 022B 
                 ; 0005 022C 	fs->org_clust =						/* File start cluster */
                 _0xA0096:
                 ; 0005 022D #if _FS_FAT32
                 ; 0005 022E 		((DWORD)LD_WORD(dir+DIR_FstClusHI) << 16) |
                 ; 0005 022F #endif
                 ; 0005 0230 		LD_WORD(dir+DIR_FstClusLO);
0026ad 8de8      	LDD  R30,Y+24
0026ae 8df9      	LDD  R31,Y+24+1
0026af 2766      	CLR  R22
0026b0 2777      	CLR  R23
0026b1 940e 3498 	CALL __LSLD16
0026b3 01df      	MOVW R26,R30
0026b4 01cb      	MOVW R24,R22
0026b5 8dee      	LDD  R30,Y+30
0026b6 8dff      	LDD  R31,Y+30+1
0026b7 940e 2f74 	CALL SUBOPT_0x3D
                +
0026b9 01d9     +MOVW R26 , R18
0026ba 9690     +ADIW R26 , 32
0026bb 940e 3522+CALL __PUTDP1
                 	__PUTD1RNS 18,32
                 ; 0005 0231 	fs->fsize = LD_DWORD(dir+DIR_FileSize);	/* File size */
                +
0026bd a1e8     +LDD R30 , Y + 32
0026be a1f9     +LDD R31 , Y + 32 + 1
0026bf a16a     +LDD R22 , Y + 32 + 2
0026c0 a17b     +LDD R23 , Y + 32 + 3
                 	__GETD1S 32
                +
0026c1 01d9     +MOVW R26 , R18
0026c2 965c     +ADIW R26 , 28
0026c3 940e 3522+CALL __PUTDP1
                 	__PUTD1RNS 18,28
                 ; 0005 0232 	fs->fptr = 0;						/* File pointer */
0026c5 01d9      	MOVW R26,R18
0026c6 9658      	ADIW R26,24
0026c7 940e 3322 	CALL SUBOPT_0xD0
                 ; 0005 0233 	fs->flag = FA_OPENED;
0026c9 01d9      	MOVW R26,R18
0026ca 9612      	ADIW R26,2
0026cb e0e1      	LDI  R30,LOW(1)
0026cc 93ec      	ST   X,R30
                 ; 0005 0234 
                 ; 0005 0235 	return FR_OK;
0026cd e0e0      	LDI  R30,LOW(0)
                 _0x20C0006:
0026ce 940e 3599 	CALL __LOADLOCR4
0026d0 96ef      	ADIW R28,63
0026d1 9623      	ADIW R28,3
0026d2 9508      	RET
                 ; 0005 0236 }
                 ; .FEND
                 ;
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Read File                                                             */
                 ;/*-----------------------------------------------------------------------*/
                 ;#if _USE_READ
                 ;
                 ;FRESULT pf_read (
                 ; 0005 0241 	void* buff,		/* Pointer to the read buffer (NULL:Forward data to the stream)*/
                 ; 0005 0242 	WORD btr,		/* Number of bytes to read */
                 ; 0005 0243 	WORD* br		/* Pointer to number of bytes read */
                 ; 0005 0244 )
                 ; 0005 0245 {
                 _pf_read:
                 ; .FSTART _pf_read
                 ; 0005 0246 	DRESULT dr;
                 ; 0005 0247 	CLUST clst;
                 ; 0005 0248 	DWORD sect, remain;
                 ; 0005 0249 	BYTE *rbuff = buff;
                 ; 0005 024A 	WORD rcnt;
                 ; 0005 024B 	FATFS *fs = FatFs;
                 ; 0005 024C 
                 ; 0005 024D 
                 ; 0005 024E 	*br = 0;
0026d3 972e      	SBIW R28,14
0026d4 940e 3590 	CALL __SAVELOCR6
                 ;	*buff -> Y+24
                 ;	btr -> Y+22
                 ;	*br -> Y+20
                 ;	dr -> R17
                 ;	clst -> Y+16
                 ;	sect -> Y+12
                 ;	remain -> Y+8
                 ;	*rbuff -> R18,R19
                 ;	rcnt -> R20,R21
                 ;	*fs -> Y+6
                +
0026d6 8d28     +LDD R18 , Y + 24
0026d7 8d39     +LDD R19 , Y + 24 + 1
                 	__GETWRS 18,19,24
0026d8 940e 3286 	CALL SUBOPT_0xB5
0026da 83ee      	STD  Y+6,R30
0026db 83ff      	STD  Y+6+1,R31
0026dc 89ac      	LDD  R26,Y+20
0026dd 89bd      	LDD  R27,Y+20+1
0026de 940e 32e1 	CALL SUBOPT_0xC5
                 ; 0005 024F 	if (!fs) return FR_NOT_ENABLED;		/* Check file system */
0026e0 81ee      	LDD  R30,Y+6
0026e1 81ff      	LDD  R31,Y+6+1
0026e2 9730      	SBIW R30,0
0026e3 f411      	BRNE _0xA0099
0026e4 e0e6      	LDI  R30,LOW(6)
0026e5 c0d2      	RJMP _0x20C0005
                 ; 0005 0250 	if (!(fs->flag & FA_OPENED))		/* Check if opened */
                 _0xA0099:
0026e6 81ee      	LDD  R30,Y+6
0026e7 81ff      	LDD  R31,Y+6+1
0026e8 81a2      	LDD  R26,Z+2
0026e9 70a1      	ANDI R26,LOW(0x1)
0026ea f411      	BRNE _0xA009A
                 ; 0005 0251 		return FR_NOT_OPENED;
0026eb e0e5      	LDI  R30,LOW(5)
0026ec c0cb      	RJMP _0x20C0005
                 ; 0005 0252 
                 ; 0005 0253 	remain = fs->fsize - fs->fptr;
                 _0xA009A:
0026ed 81ee      	LDD  R30,Y+6
0026ee 81ff      	LDD  R31,Y+6+1
                +
0026ef 8da4     +LDD R26 , Z + 28
0026f0 8db5     +LDD R27 , Z + 28 + 1
0026f1 8d86     +LDD R24 , Z + 28 + 2
0026f2 8d97     +LDD R25 , Z + 28 + 3
                 	__GETD2Z 28
0026f3 939f      	PUSH R25
0026f4 938f      	PUSH R24
0026f5 93bf      	PUSH R27
0026f6 93af      	PUSH R26
0026f7 940e 3368 	CALL SUBOPT_0xDB
0026f9 91ef      	POP  R30
0026fa 91ff      	POP  R31
0026fb 916f      	POP  R22
0026fc 917f      	POP  R23
0026fd 940e 342c 	CALL __SUBD12
0026ff 940e 327c 	CALL SUBOPT_0xB3
                 ; 0005 0254 	if (btr > remain) btr = (WORD)remain;			/* Truncate btr by remaining bytes */
002701 940e 3270 	CALL SUBOPT_0xB1
002703 89ae      	LDD  R26,Y+22
002704 89bf      	LDD  R27,Y+22+1
002705 940e 3054 	CALL SUBOPT_0x61
002707 f420      	BRSH _0xA009B
002708 85e8      	LDD  R30,Y+8
002709 85f9      	LDD  R31,Y+8+1
00270a 8bee      	STD  Y+22,R30
00270b 8bff      	STD  Y+22+1,R31
                 ; 0005 0255 
                 ; 0005 0256 	while (btr)	{									/* Repeat until all data transferred */
                 _0xA009B:
                 _0xA009C:
00270c 89ee      	LDD  R30,Y+22
00270d 89ff      	LDD  R31,Y+22+1
00270e 9730      	SBIW R30,0
00270f f409      	BRNE PC+2
002710 c0a1      	RJMP _0xA009E
                 ; 0005 0257 		if ((fs->fptr % 512) == 0) {				/* On the sector boundary? */
002711 940e 3368 	CALL SUBOPT_0xDB
002713 01fd      	MOVW R30,R26
002714 01bc      	MOVW R22,R24
002715 70f1      	ANDI R31,HIGH(0x1FF)
002716 9730      	SBIW R30,0
002717 f009      	BREQ PC+2
002718 c052      	RJMP _0xA009F
                 ; 0005 0258 			if ((fs->fptr / 512 % fs->csize) == 0) {	/* On the cluster boundary? */
002719 940e 3368 	CALL SUBOPT_0xDB
00271b 940e 336f 	CALL SUBOPT_0xDC
00271d 81ee      	LDD  R30,Y+6
00271e 81ff      	LDD  R31,Y+6+1
00271f 940e 335c 	CALL SUBOPT_0xD9
002721 940e 350f 	CALL __MODD21U
002723 940e 357c 	CALL __CPD10
002725 f549      	BRNE _0xA00A0
                 ; 0005 0259 				clst = (fs->fptr == 0) ?			/* On the top of the file? */
                 ; 0005 025A 					fs->org_clust : get_fat(fs->curr_clust);
002726 940e 3368 	CALL SUBOPT_0xDB
002728 940e 3580 	CALL __CPD02
00272a f431      	BRNE _0xA00A1
00272b 81ae      	LDD  R26,Y+6
00272c 81bf      	LDD  R27,Y+6+1
00272d 9690      	ADIW R26,32
00272e 940e 3517 	CALL __GETD1P
002730 c004      	RJMP _0xA00A2
                 _0xA00A1:
002731 940e 3375 	CALL SUBOPT_0xDD
002733 940e 3301 	CALL SUBOPT_0xCB
                 _0xA00A2:
                +
002735 8be8     +STD Y + 16 , R30
002736 8bf9     +STD Y + 16 + 1 , R31
002737 8b6a     +STD Y + 16 + 2 , R22
002738 8b7b     +STD Y + 16 + 3 , R23
                 	__PUTD1S 16
                 ; 0005 025B 				if (clst <= 1) goto fr_abort;
                +
002739 89a8     +LDD R26 , Y + 16
00273a 89b9     +LDD R27 , Y + 16 + 1
00273b 898a     +LDD R24 , Y + 16 + 2
00273c 899b     +LDD R25 , Y + 16 + 3
                 	__GETD2S 16
00273d 940e 3290 	CALL SUBOPT_0xB7
00273f f408      	BRSH _0xA00A4
002740 c073      	RJMP _0xA00A5
                 ; 0005 025C 				fs->curr_clust = clst;				/* Update current cluster */
                 _0xA00A4:
                +
002741 89e8     +LDD R30 , Y + 16
002742 89f9     +LDD R31 , Y + 16 + 1
002743 896a     +LDD R22 , Y + 16 + 2
002744 897b     +LDD R23 , Y + 16 + 3
                 	__GETD1S 16
                +
002745 81ae     +LDD R26 , Y + 6
002746 81bf     +LDD R27 , Y + 6 + 1
002747 9694     +ADIW R26 , 36
002748 940e 3522+CALL __PUTDP1
                 	__PUTD1SNS 6,36
                 ; 0005 025D 				fs->csect = 0;						/* Reset sector offset in the cluster */
00274a 81ae      	LDD  R26,Y+6
00274b 81bf      	LDD  R27,Y+6+1
00274c 9613      	ADIW R26,3
00274d e0e0      	LDI  R30,LOW(0)
00274e 93ec      	ST   X,R30
                 ; 0005 025E 			}
                 ; 0005 025F 			sect = clust2sect(fs->curr_clust);		/* Get current sector */
                 _0xA00A0:
00274f 940e 3375 	CALL SUBOPT_0xDD
002751 940e 3535 	CALL __PUTPARD2
002753 dba9      	RCALL _clust2sect_G005
002754 940e 337c 	CALL SUBOPT_0xDE
                 ; 0005 0260 			if (!sect) goto fr_abort;
                +
002756 85ec     +LDD R30 , Y + 12
002757 85fd     +LDD R31 , Y + 12 + 1
002758 856e     +LDD R22 , Y + 12 + 2
002759 857f     +LDD R23 , Y + 12 + 3
                 	__GETD1S 12
00275a 940e 357c 	CALL __CPD10
00275c f409      	BRNE _0xA00A6
00275d c056      	RJMP _0xA00A5
                 ; 0005 0261 			fs->dsect = sect + fs->csect++;
                 _0xA00A6:
00275e 81ae      	LDD  R26,Y+6
00275f 81bf      	LDD  R27,Y+6+1
002760 940e 3381 	CALL SUBOPT_0xDF
002762 940e 328b 	CALL SUBOPT_0xB6
002764 940e 307c 	CALL SUBOPT_0x69
                +
002766 81ae     +LDD R26 , Y + 6
002767 81bf     +LDD R27 , Y + 6 + 1
002768 9698     +ADIW R26 , 40
002769 940e 3522+CALL __PUTDP1
                 	__PUTD1SNS 6,40
                 ; 0005 0262 		}
                 ; 0005 0263 		rcnt = 512 - ((WORD)fs->fptr % 512);		/* Get partial sector data from sector buffer */
                 _0xA009F:
00276b 81ee      	LDD  R30,Y+6
00276c 81ff      	LDD  R31,Y+6+1
00276d 940e 3388 	CALL SUBOPT_0xE0
00276f e0a0      	LDI  R26,LOW(512)
002770 e0b2      	LDI  R27,HIGH(512)
002771 1bae      	SUB  R26,R30
002772 0bbf      	SBC  R27,R31
002773 01ad      	MOVW R20,R26
                 ; 0005 0264 		if (rcnt > btr) rcnt = btr;
002774 89ee      	LDD  R30,Y+22
002775 89ff      	LDD  R31,Y+22+1
002776 17e4      	CP   R30,R20
002777 07f5      	CPC  R31,R21
002778 f410      	BRSH _0xA00A7
                +
002779 894e     +LDD R20 , Y + 22
00277a 895f     +LDD R21 , Y + 22 + 1
                 	__GETWRS 20,21,22
                 ; 0005 0265 		dr = disk_readp(!buff ? 0 : rbuff, fs->dsect, (WORD)(fs->fptr % 512), rcnt);
                 _0xA00A7:
00277b 8de8      	LDD  R30,Y+24
00277c 8df9      	LDD  R31,Y+24+1
00277d 9730      	SBIW R30,0
00277e f419      	BRNE _0xA00A8
00277f e0e0      	LDI  R30,LOW(0)
002780 e0f0      	LDI  R31,HIGH(0)
002781 c001      	RJMP _0xA00A9
                 _0xA00A8:
002782 01f9      	MOVW R30,R18
                 _0xA00A9:
002783 940e 3167 	CALL SUBOPT_0x91
002785 940e 338d 	CALL SUBOPT_0xE1
002787 85ac      	LDD  R26,Y+12
002788 85bd      	LDD  R27,Y+12+1
002789 9658      	ADIW R26,24
00278a 940e 3513 	CALL __GETW1P
00278c 70f1      	ANDI R31,HIGH(0x1FF)
00278d 93fa      	ST   -Y,R31
00278e 93ea      	ST   -Y,R30
00278f 935a      	ST   -Y,R21
002790 934a      	ST   -Y,R20
002791 d98a      	RCALL _disk_readp
002792 2f1e      	MOV  R17,R30
                 ; 0005 0266 		if (dr) goto fr_abort;
002793 3010      	CPI  R17,0
002794 f4f9      	BRNE _0xA00A5
                 ; 0005 0267 		fs->fptr += rcnt; rbuff += rcnt;			/* Update pointers and counters */
002795 81ee      	LDD  R30,Y+6
002796 81ff      	LDD  R31,Y+6+1
002797 940e 3394 	CALL SUBOPT_0xE2
002799 01df      	MOVW R26,R30
00279a 01cb      	MOVW R24,R22
00279b 01fa      	MOVW R30,R20
00279c 940e 304f 	CALL SUBOPT_0x60
00279e 01d0      	MOVW R26,R0
00279f 940e 3522 	CALL __PUTDP1
                +
0027a1 0f24     +ADD R18 , R20
0027a2 1f35     +ADC R19 , R21
                 	__ADDWRR 18,19,20,21
                 ; 0005 0268 		btr -= rcnt; *br += rcnt;
0027a3 89ee      	LDD  R30,Y+22
0027a4 89ff      	LDD  R31,Y+22+1
0027a5 1be4      	SUB  R30,R20
0027a6 0bf5      	SBC  R31,R21
0027a7 8bee      	STD  Y+22,R30
0027a8 8bff      	STD  Y+22+1,R31
0027a9 89ac      	LDD  R26,Y+20
0027aa 89bd      	LDD  R27,Y+20+1
0027ab 91ed      	LD   R30,X+
0027ac 91fd      	LD   R31,X+
0027ad 0fe4      	ADD  R30,R20
0027ae 1ff5      	ADC  R31,R21
0027af 93fe      	ST   -X,R31
0027b0 93ee      	ST   -X,R30
                 ; 0005 0269 	}
0027b1 cf5a      	RJMP _0xA009C
                 _0xA009E:
                 ; 0005 026A 
                 ; 0005 026B 	return FR_OK;
0027b2 e0e0      	LDI  R30,LOW(0)
0027b3 c004      	RJMP _0x20C0005
                 ; 0005 026C 
                 ; 0005 026D fr_abort:
                 _0xA00A5:
                 ; 0005 026E 	fs->flag = 0;
0027b4 81ae      	LDD  R26,Y+6
0027b5 81bf      	LDD  R27,Y+6+1
0027b6 940e 339a 	CALL SUBOPT_0xE3
                 ; 0005 026F 	return FR_DISK_ERR;
                 _0x20C0005:
0027b8 940e 3597 	CALL __LOADLOCR6
0027ba 966a      	ADIW R28,26
0027bb 9508      	RET
                 ; 0005 0270 }
                 ; .FEND
                 ;#endif
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Write File                                                            */
                 ;/*-----------------------------------------------------------------------*/
                 ;#if _USE_WRITE
                 ;
                 ;FRESULT pf_write (
                 ; 0005 027B 	const void* buff,	/* Pointer to the data to be written */
                 ; 0005 027C 	WORD btw,			/* Number of bytes to write (0:Finalize the current write operation) */
                 ; 0005 027D 	WORD* bw			/* Pointer to number of bytes written */
                 ; 0005 027E )
                 ; 0005 027F {
                 _pf_write:
                 ; .FSTART _pf_write
                 ; 0005 0280 	CLUST clst;
                 ; 0005 0281 	DWORD sect, remain;
                 ; 0005 0282 	const BYTE *p = buff;
                 ; 0005 0283 	WORD wcnt;
                 ; 0005 0284 	FATFS *fs = FatFs;
                 ; 0005 0285 
                 ; 0005 0286 
                 ; 0005 0287 	*bw = 0;
0027bc 972c      	SBIW R28,12
0027bd 940e 3590 	CALL __SAVELOCR6
                 ;	*buff -> Y+22
                 ;	btw -> Y+20
                 ;	*bw -> Y+18
                 ;	clst -> Y+14
                 ;	sect -> Y+10
                 ;	remain -> Y+6
                 ;	*p -> R16,R17
                 ;	wcnt -> R18,R19
                 ;	*fs -> R20,R21
                +
0027bf 890e     +LDD R16 , Y + 22
0027c0 891f     +LDD R17 , Y + 22 + 1
                 	__GETWRS 16,17,22
                +
0027c1 9140 0835+LDS R20 , 0 + ( _FatFs_G005 )
0027c3 9150 0836+LDS R21 , 0 + ( _FatFs_G005 ) + 1
                 	__GETWRMN 20,21,0,_FatFs_G005
0027c5 89aa      	LDD  R26,Y+18
0027c6 89bb      	LDD  R27,Y+18+1
0027c7 940e 32e1 	CALL SUBOPT_0xC5
                 ; 0005 0288 	if (!fs) return FR_NOT_ENABLED;		/* Check file system */
0027c9 2e04      	MOV  R0,R20
0027ca 2a05      	OR   R0,R21
0027cb f411      	BRNE _0xA00AC
0027cc e0e6      	LDI  R30,LOW(6)
0027cd c0f6      	RJMP _0x20C0004
                 ; 0005 0289 	if (!(fs->flag & FA_OPENED))		/* Check if opened */
                 _0xA00AC:
0027ce 01fa      	MOVW R30,R20
0027cf 81a2      	LDD  R26,Z+2
0027d0 70a1      	ANDI R26,LOW(0x1)
0027d1 f411      	BRNE _0xA00AD
                 ; 0005 028A 		return FR_NOT_OPENED;
0027d2 e0e5      	LDI  R30,LOW(5)
0027d3 c0f0      	RJMP _0x20C0004
                 ; 0005 028B 
                 ; 0005 028C 	if (!btw) {		/* Finalize request */
                 _0xA00AD:
0027d4 89ec      	LDD  R30,Y+20
0027d5 89fd      	LDD  R31,Y+20+1
0027d6 9730      	SBIW R30,0
0027d7 f4a1      	BRNE _0xA00AE
                 ; 0005 028D 		if ((fs->flag & FA__WIP) && disk_writep(0, 0)) goto fw_abort;
0027d8 01fa      	MOVW R30,R20
0027d9 81a2      	LDD  R26,Z+2
0027da 74a0      	ANDI R26,LOW(0x40)
0027db f039      	BREQ _0xA00B0
0027dc 940e 323e 	CALL SUBOPT_0xA9
0027de 940e 3259 	CALL SUBOPT_0xAD
0027e0 d99d      	RCALL _disk_writep
0027e1 30e0      	CPI  R30,0
0027e2 f409      	BRNE _0xA00B1
                 _0xA00B0:
0027e3 c001      	RJMP _0xA00AF
                 _0xA00B1:
0027e4 c0dc      	RJMP _0xA00B2
                 ; 0005 028E 		fs->flag &= ~FA__WIP;
                 _0xA00AF:
0027e5 01da      	MOVW R26,R20
0027e6 9612      	ADIW R26,2
0027e7 91ec      	LD   R30,X
0027e8 7bef      	ANDI R30,0xBF
0027e9 93ec      	ST   X,R30
                 ; 0005 028F 		return FR_OK;
0027ea e0e0      	LDI  R30,LOW(0)
0027eb c0d8      	RJMP _0x20C0004
                 ; 0005 0290 	} else {		/* Write data request */
                 _0xA00AE:
                 ; 0005 0291 		if (!(fs->flag & FA__WIP))		/* Round down fptr to the sector boundary */
0027ec 01fa      	MOVW R30,R20
0027ed 81a2      	LDD  R26,Z+2
0027ee 74a0      	ANDI R26,LOW(0x40)
0027ef f441      	BRNE _0xA00B4
                 ; 0005 0292 			fs->fptr &= 0xFFFFFE00;
0027f0 01da      	MOVW R26,R20
0027f1 9658      	ADIW R26,24
0027f2 91ed      	LD   R30,X+
0027f3 91fd      	LD   R31,X+
0027f4 70e0      	ANDI R30,LOW(0xFFFFFE00)
0027f5 7ffe      	ANDI R31,HIGH(0xFFFFFE00)
0027f6 93fe      	ST   -X,R31
0027f7 93ee      	ST   -X,R30
                 ; 0005 0293 	}
                 _0xA00B4:
                 ; 0005 0294 	remain = fs->fsize - fs->fptr;
0027f8 01fa      	MOVW R30,R20
                +
0027f9 8da4     +LDD R26 , Z + 28
0027fa 8db5     +LDD R27 , Z + 28 + 1
0027fb 8d86     +LDD R24 , Z + 28 + 2
0027fc 8d97     +LDD R25 , Z + 28 + 3
                 	__GETD2Z 28
0027fd 939f      	PUSH R25
0027fe 938f      	PUSH R24
0027ff 93bf      	PUSH R27
002800 93af      	PUSH R26
002801 940e 339f 	CALL SUBOPT_0xE4
002803 91ef      	POP  R30
002804 91ff      	POP  R31
002805 916f      	POP  R22
002806 917f      	POP  R23
002807 940e 342c 	CALL __SUBD12
002809 940e 33a5 	CALL SUBOPT_0xE5
                 ; 0005 0295 	if (btw > remain) btw = (WORD)remain;			/* Truncate btw by remaining bytes */
00280b 89ac      	LDD  R26,Y+20
00280c 89bd      	LDD  R27,Y+20+1
00280d 940e 3054 	CALL SUBOPT_0x61
00280f f420      	BRSH _0xA00B5
002810 81ee      	LDD  R30,Y+6
002811 81ff      	LDD  R31,Y+6+1
002812 8bec      	STD  Y+20,R30
002813 8bfd      	STD  Y+20+1,R31
                 ; 0005 0296 
                 ; 0005 0297 	while (btw)	{									/* Repeat until all data transferred */
                 _0xA00B5:
                 _0xA00B6:
002814 89ec      	LDD  R30,Y+20
002815 89fd      	LDD  R31,Y+20+1
002816 9730      	SBIW R30,0
002817 f409      	BRNE PC+2
002818 c0a6      	RJMP _0xA00B8
                 ; 0005 0298 		if (((WORD)fs->fptr % 512) == 0) {				/* On the sector boundary? */
002819 01fa      	MOVW R30,R20
00281a 940e 3388 	CALL SUBOPT_0xE0
00281c 9730      	SBIW R30,0
00281d f009      	BREQ PC+2
00281e c05a      	RJMP _0xA00B9
                 ; 0005 0299 			if ((fs->fptr / 512 % fs->csize) == 0) {	/* On the cluster boundary? */
00281f 940e 339f 	CALL SUBOPT_0xE4
002821 940e 336f 	CALL SUBOPT_0xDC
002823 01fa      	MOVW R30,R20
002824 940e 335c 	CALL SUBOPT_0xD9
002826 940e 350f 	CALL __MODD21U
002828 940e 357c 	CALL __CPD10
00282a f519      	BRNE _0xA00BA
                 ; 0005 029A 				clst = (fs->fptr == 0) ?			/* On the top of the file? */
                 ; 0005 029B 					fs->org_clust : get_fat(fs->curr_clust);
00282b 940e 339f 	CALL SUBOPT_0xE4
00282d 940e 3580 	CALL __CPD02
00282f f429      	BRNE _0xA00BB
002830 01da      	MOVW R26,R20
002831 9690      	ADIW R26,32
002832 940e 3517 	CALL __GETD1P
002834 c007      	RJMP _0xA00BC
                 _0xA00BB:
002835 01fa      	MOVW R30,R20
                +
002836 a1a4     +LDD R26 , Z + 36
002837 a1b5     +LDD R27 , Z + 36 + 1
002838 a186     +LDD R24 , Z + 36 + 2
002839 a197     +LDD R25 , Z + 36 + 3
                 	__GETD2Z 36
00283a 940e 3301 	CALL SUBOPT_0xCB
                 _0xA00BC:
00283c 940e 33aa 	CALL SUBOPT_0xE6
                 ; 0005 029C 				if (clst <= 1) goto fw_abort;
00283e 940e 32b6 	CALL SUBOPT_0xBD
002840 940e 3290 	CALL SUBOPT_0xB7
002842 f408      	BRSH _0xA00BE
002843 c07d      	RJMP _0xA00B2
                 ; 0005 029D 				fs->curr_clust = clst;				/* Update current cluster */
                 _0xA00BE:
002844 940e 33af 	CALL SUBOPT_0xE7
                +
002846 01da     +MOVW R26 , R20
002847 9694     +ADIW R26 , 36
002848 940e 3522+CALL __PUTDP1
                 	__PUTD1RNS 20,36
                 ; 0005 029E 				fs->csect = 0;						/* Reset sector offset in the cluster */
00284a 01da      	MOVW R26,R20
00284b 9613      	ADIW R26,3
00284c e0e0      	LDI  R30,LOW(0)
00284d 93ec      	ST   X,R30
                 ; 0005 029F 			}
                 ; 0005 02A0 			sect = clust2sect(fs->curr_clust);		/* Get current sector */
                 _0xA00BA:
00284e 01fa      	MOVW R30,R20
                +
00284f a1a4     +LDD R26 , Z + 36
002850 a1b5     +LDD R27 , Z + 36 + 1
002851 a186     +LDD R24 , Z + 36 + 2
002852 a197     +LDD R25 , Z + 36 + 3
                 	__GETD2Z 36
002853 940e 3535 	CALL __PUTPARD2
002855 daa7      	RCALL _clust2sect_G005
                +
002856 87ea     +STD Y + 10 , R30
002857 87fb     +STD Y + 10 + 1 , R31
002858 876c     +STD Y + 10 + 2 , R22
002859 877d     +STD Y + 10 + 3 , R23
                 	__PUTD1S 10
                 ; 0005 02A1 			if (!sect) goto fw_abort;
00285a 940e 33b4 	CALL SUBOPT_0xE8
00285c 940e 357c 	CALL __CPD10
00285e f409      	BRNE _0xA00BF
00285f c061      	RJMP _0xA00B2
                 ; 0005 02A2 			fs->dsect = sect + fs->csect++;
                 _0xA00BF:
002860 01da      	MOVW R26,R20
002861 940e 3381 	CALL SUBOPT_0xDF
002863 940e 33b9 	CALL SUBOPT_0xE9
002865 940e 307c 	CALL SUBOPT_0x69
                +
002867 01da     +MOVW R26 , R20
002868 9698     +ADIW R26 , 40
002869 940e 3522+CALL __PUTDP1
                 	__PUTD1RNS 20,40
                 ; 0005 02A3 			if (disk_writep(0, fs->dsect)) goto fw_abort;	/* Initiate a sector write operation */
00286b 940e 323e 	CALL SUBOPT_0xA9
00286d 01fa      	MOVW R30,R20
00286e 940e 338d 	CALL SUBOPT_0xE1
002870 d90d      	RCALL _disk_writep
002871 30e0      	CPI  R30,0
002872 f009      	BREQ _0xA00C0
002873 c04d      	RJMP _0xA00B2
                 ; 0005 02A4 			fs->flag |= FA__WIP;
                 _0xA00C0:
002874 01da      	MOVW R26,R20
002875 9612      	ADIW R26,2
002876 91ec      	LD   R30,X
002877 64e0      	ORI  R30,0x40
002878 93ec      	ST   X,R30
                 ; 0005 02A5 		}
                 ; 0005 02A6 		wcnt = 512 - ((WORD)fs->fptr % 512);		/* Number of bytes to write to the sector */
                 _0xA00B9:
002879 01fa      	MOVW R30,R20
00287a 940e 3388 	CALL SUBOPT_0xE0
00287c e0a0      	LDI  R26,LOW(512)
00287d e0b2      	LDI  R27,HIGH(512)
00287e 1bae      	SUB  R26,R30
00287f 0bbf      	SBC  R27,R31
002880 019d      	MOVW R18,R26
                 ; 0005 02A7 		if (wcnt > btw) wcnt = btw;
002881 89ec      	LDD  R30,Y+20
002882 89fd      	LDD  R31,Y+20+1
002883 17e2      	CP   R30,R18
002884 07f3      	CPC  R31,R19
002885 f410      	BRSH _0xA00C1
                +
002886 892c     +LDD R18 , Y + 20
002887 893d     +LDD R19 , Y + 20 + 1
                 	__GETWRS 18,19,20
                 ; 0005 02A8 		if (disk_writep(p, wcnt)) goto fw_abort;	/* Send data to the sector */
                 _0xA00C1:
002888 931a      	ST   -Y,R17
002889 930a      	ST   -Y,R16
00288a 01f9      	MOVW R30,R18
00288b 2766      	CLR  R22
00288c 2777      	CLR  R23
00288d 940e 3530 	CALL __PUTPARD1
00288f d8ee      	RCALL _disk_writep
002890 30e0      	CPI  R30,0
002891 f579      	BRNE _0xA00B2
                 ; 0005 02A9 		fs->fptr += wcnt; p += wcnt;				/* Update pointers and counters */
002892 01fa      	MOVW R30,R20
002893 940e 3394 	CALL SUBOPT_0xE2
002895 01df      	MOVW R26,R30
002896 01cb      	MOVW R24,R22
002897 01f9      	MOVW R30,R18
002898 940e 304f 	CALL SUBOPT_0x60
00289a 01d0      	MOVW R26,R0
00289b 940e 3522 	CALL __PUTDP1
                +
00289d 0f02     +ADD R16 , R18
00289e 1f13     +ADC R17 , R19
                 	__ADDWRR 16,17,18,19
                 ; 0005 02AA 		btw -= wcnt; *bw += wcnt;
00289f 89ec      	LDD  R30,Y+20
0028a0 89fd      	LDD  R31,Y+20+1
0028a1 1be2      	SUB  R30,R18
0028a2 0bf3      	SBC  R31,R19
0028a3 8bec      	STD  Y+20,R30
0028a4 8bfd      	STD  Y+20+1,R31
0028a5 89aa      	LDD  R26,Y+18
0028a6 89bb      	LDD  R27,Y+18+1
0028a7 91ed      	LD   R30,X+
0028a8 91fd      	LD   R31,X+
0028a9 0fe2      	ADD  R30,R18
0028aa 1ff3      	ADC  R31,R19
0028ab 93fe      	ST   -X,R31
0028ac 93ee      	ST   -X,R30
                 ; 0005 02AB 		if (((WORD)fs->fptr % 512) == 0) {
0028ad 01fa      	MOVW R30,R20
0028ae 940e 3388 	CALL SUBOPT_0xE0
0028b0 9730      	SBIW R30,0
0028b1 f461      	BRNE _0xA00C3
                 ; 0005 02AC 			if (disk_writep(0, 0)) goto fw_abort;	/* Finalize the currtent secter write operation */
0028b2 940e 323e 	CALL SUBOPT_0xA9
0028b4 940e 3259 	CALL SUBOPT_0xAD
0028b6 d8c7      	RCALL _disk_writep
0028b7 30e0      	CPI  R30,0
0028b8 f441      	BRNE _0xA00B2
                 ; 0005 02AD 			fs->flag &= ~FA__WIP;
0028b9 01da      	MOVW R26,R20
0028ba 9612      	ADIW R26,2
0028bb 91ec      	LD   R30,X
0028bc 7bef      	ANDI R30,0xBF
0028bd 93ec      	ST   X,R30
                 ; 0005 02AE 		}
                 ; 0005 02AF 	}
                 _0xA00C3:
0028be cf55      	RJMP _0xA00B6
                 _0xA00B8:
                 ; 0005 02B0 
                 ; 0005 02B1 	return FR_OK;
0028bf e0e0      	LDI  R30,LOW(0)
0028c0 c003      	RJMP _0x20C0004
                 ; 0005 02B2 
                 ; 0005 02B3 fw_abort:
                 _0xA00B2:
                 ; 0005 02B4 	fs->flag = 0;
0028c1 01da      	MOVW R26,R20
0028c2 940e 339a 	CALL SUBOPT_0xE3
                 ; 0005 02B5 	return FR_DISK_ERR;
                 _0x20C0004:
0028c4 940e 3597 	CALL __LOADLOCR6
0028c6 9668      	ADIW R28,24
0028c7 9508      	RET
                 ; 0005 02B6 }
                 ; .FEND
                 ;#endif
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Seek File R/W Pointer                                                 */
                 ;/*-----------------------------------------------------------------------*/
                 ;#if _USE_LSEEK
                 ;
                 ;FRESULT pf_lseek (
                 ; 0005 02C1 	DWORD ofs		/* File pointer from top of file */
                 ; 0005 02C2 )
                 ; 0005 02C3 {
                 _pf_lseek:
                 ; .FSTART _pf_lseek
                 ; 0005 02C4 	CLUST clst;
                 ; 0005 02C5 	DWORD bcs, sect, ifptr;
                 ; 0005 02C6 	FATFS *fs = FatFs;
                 ; 0005 02C7 
                 ; 0005 02C8 
                 ; 0005 02C9 	if (!fs) return FR_NOT_ENABLED;		/* Check file system */
0028c8 9760      	SBIW R28,16
0028c9 940e 32cb 	CALL SUBOPT_0xC1
                 ;	ofs -> Y+18
                 ;	clst -> Y+14
                 ;	bcs -> Y+10
                 ;	sect -> Y+6
                 ;	ifptr -> Y+2
                 ;	*fs -> R16,R17
0028cb 2e00      	MOV  R0,R16
0028cc 2a01      	OR   R0,R17
0028cd f411      	BRNE _0xA00C5
0028ce e0e6      	LDI  R30,LOW(6)
0028cf c0dc      	RJMP _0x20C0003
                 ; 0005 02CA 	if (!(fs->flag & FA_OPENED))		/* Check if opened */
                 _0xA00C5:
0028d0 01f8      	MOVW R30,R16
0028d1 81a2      	LDD  R26,Z+2
0028d2 70a1      	ANDI R26,LOW(0x1)
0028d3 f411      	BRNE _0xA00C6
                 ; 0005 02CB 			return FR_NOT_OPENED;
0028d4 e0e5      	LDI  R30,LOW(5)
0028d5 c0d6      	RJMP _0x20C0003
                 ; 0005 02CC 
                 ; 0005 02CD 	if (ofs > fs->fsize) ofs = fs->fsize;	/* Clip offset with the file size */
                 _0xA00C6:
0028d6 01d8      	MOVW R26,R16
0028d7 965c      	ADIW R26,28
0028d8 940e 33be 	CALL SUBOPT_0xEA
0028da 940e 3586 	CALL __CPD12
0028dc f440      	BRSH _0xA00C7
0028dd 01d8      	MOVW R26,R16
0028de 965c      	ADIW R26,28
0028df 940e 3517 	CALL __GETD1P
                +
0028e1 8bea     +STD Y + 18 , R30
0028e2 8bfb     +STD Y + 18 + 1 , R31
0028e3 8b6c     +STD Y + 18 + 2 , R22
0028e4 8b7d     +STD Y + 18 + 3 , R23
                 	__PUTD1S 18
                 ; 0005 02CE 	ifptr = fs->fptr;
                 _0xA00C7:
0028e5 01d8      	MOVW R26,R16
0028e6 9658      	ADIW R26,24
0028e7 940e 32e6 	CALL SUBOPT_0xC6
                 ; 0005 02CF 	fs->fptr = 0;
0028e9 01d8      	MOVW R26,R16
0028ea 9658      	ADIW R26,24
0028eb 940e 3322 	CALL SUBOPT_0xD0
                 ; 0005 02D0 	if (ofs > 0) {
0028ed 940e 33c5 	CALL SUBOPT_0xEB
0028ef 940e 3580 	CALL __CPD02
0028f1 f008      	BRLO PC+2
0028f2 c0b4      	RJMP _0xA00C8
                 ; 0005 02D1 		bcs = (DWORD)fs->csize * 512;	/* Cluster size (byte) */
0028f3 01f8      	MOVW R30,R16
0028f4 940e 335c 	CALL SUBOPT_0xD9
0028f6 940e 3275 	CALL SUBOPT_0xB2
                +
0028f8 87ea     +STD Y + 10 , R30
0028f9 87fb     +STD Y + 10 + 1 , R31
0028fa 876c     +STD Y + 10 + 2 , R22
0028fb 877d     +STD Y + 10 + 3 , R23
                 	__PUTD1S 10
                 ; 0005 02D2 		if (ifptr > 0 &&
                 ; 0005 02D3 			(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
0028fc 940e 32d7 	CALL SUBOPT_0xC3
0028fe 940e 3580 	CALL __CPD02
002900 f498      	BRSH _0xA00CA
002901 940e 33ca 	CALL SUBOPT_0xEC
002903 940e 33cf 	CALL SUBOPT_0xED
002905 937f      	PUSH R23
002906 936f      	PUSH R22
002907 93ff      	PUSH R31
002908 93ef      	PUSH R30
002909 940e 3254 	CALL SUBOPT_0xAC
00290b 940e 33cf 	CALL SUBOPT_0xED
00290d 91af      	POP  R26
00290e 91bf      	POP  R27
00290f 918f      	POP  R24
002910 919f      	POP  R25
002911 940e 358b 	CALL __CPD21
002913 f408      	BRSH _0xA00CB
                 _0xA00CA:
002914 c027      	RJMP _0xA00C9
                 _0xA00CB:
                 ; 0005 02D4 			fs->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
002915 940e 3254 	CALL SUBOPT_0xAC
                +
002917 50e1     +SUBI R30 , LOW ( 1 )
002918 40f0     +SBCI R31 , HIGH ( 1 )
002919 4060     +SBCI R22 , BYTE3 ( 1 )
00291a 4070     +SBCI R23 , BYTE4 ( 1 )
                 	__SUBD1N 1
00291b 01df      	MOVW R26,R30
00291c 01cb      	MOVW R24,R22
00291d 940e 33b4 	CALL SUBOPT_0xE8
                +
00291f 50e1     +SUBI R30 , LOW ( 1 )
002920 40f0     +SBCI R31 , HIGH ( 1 )
002921 4060     +SBCI R22 , BYTE3 ( 1 )
002922 4070     +SBCI R23 , BYTE4 ( 1 )
                 	__SUBD1N 1
002923 940e 34a8 	CALL __COMD1
002925 940e 3436 	CALL __ANDD12
                +
002927 01d8     +MOVW R26 , R16
002928 9658     +ADIW R26 , 24
002929 940e 3522+CALL __PUTDP1
                 	__PUTD1RNS 16,24
                 ; 0005 02D5 			ofs -= fs->fptr;
00292b 01d8      	MOVW R26,R16
00292c 9658      	ADIW R26,24
00292d 940e 33be 	CALL SUBOPT_0xEA
00292f 940e 3431 	CALL __SUBD21
                +
002931 8baa     +STD Y + 18 , R26
002932 8bbb     +STD Y + 18 + 1 , R27
002933 8b8c     +STD Y + 18 + 2 , R24
002934 8b9d     +STD Y + 18 + 3 , R25
                 	__PUTD2S 18
                 ; 0005 02D6 			clst = fs->curr_clust;
002935 01d8      	MOVW R26,R16
002936 9694      	ADIW R26,36
002937 940e 3517 	CALL __GETD1P
002939 940e 33aa 	CALL SUBOPT_0xE6
                 ; 0005 02D7 		} else {							/* When seek to back cluster, */
00293b c008      	RJMP _0xA00CC
                 _0xA00C9:
                 ; 0005 02D8 			clst = fs->org_clust;			/* start from the first cluster */
00293c 01d8      	MOVW R26,R16
00293d 9690      	ADIW R26,32
00293e 940e 3517 	CALL __GETD1P
002940 940e 33aa 	CALL SUBOPT_0xE6
                 ; 0005 02D9 			fs->curr_clust = clst;
002942 940e 33d9 	CALL SUBOPT_0xEE
                 ; 0005 02DA 		}
                 _0xA00CC:
                 ; 0005 02DB 		while (ofs > bcs) {				/* Cluster following loop */
                 _0xA00CD:
002944 940e 33b4 	CALL SUBOPT_0xE8
002946 940e 33c5 	CALL SUBOPT_0xEB
002948 940e 3586 	CALL __CPD12
00294a f568      	BRSH _0xA00CF
                 ; 0005 02DC 			clst = get_fat(clst);		/* Follow cluster chain */
00294b 940e 33af 	CALL SUBOPT_0xE7
00294d 940e 3530 	CALL __PUTPARD1
00294f d8e4      	RCALL _get_fat_G005
002950 940e 33aa 	CALL SUBOPT_0xE6
                 ; 0005 02DD 			if (clst <= 1 || clst >= fs->max_clust) goto fe_abort;
002952 940e 32b6 	CALL SUBOPT_0xBD
002954 940e 3290 	CALL SUBOPT_0xB7
002956 f048      	BRLO _0xA00D1
002957 01d8      	MOVW R26,R16
002958 9618      	ADIW R26,8
002959 940e 3517 	CALL __GETD1P
00295b 940e 32b6 	CALL SUBOPT_0xBD
00295d 940e 358b 	CALL __CPD21
00295f f008      	BRLO _0xA00D0
                 _0xA00D1:
002960 c048      	RJMP _0xA00D3
                 ; 0005 02DE 			fs->curr_clust = clst;
                 _0xA00D0:
002961 940e 33d9 	CALL SUBOPT_0xEE
                 ; 0005 02DF 			fs->fptr += bcs;
002963 01f8      	MOVW R30,R16
002964 940e 3394 	CALL SUBOPT_0xE2
002966 940e 33b9 	CALL SUBOPT_0xE9
002968 940e 3422 	CALL __ADDD12
00296a 01d0      	MOVW R26,R0
00296b 940e 3522 	CALL __PUTDP1
                 ; 0005 02E0 			ofs -= bcs;
00296d 940e 33b9 	CALL SUBOPT_0xE9
00296f 940e 33ca 	CALL SUBOPT_0xEC
002971 940e 342c 	CALL __SUBD12
                +
002973 8bea     +STD Y + 18 , R30
002974 8bfb     +STD Y + 18 + 1 , R31
002975 8b6c     +STD Y + 18 + 2 , R22
002976 8b7d     +STD Y + 18 + 3 , R23
                 	__PUTD1S 18
                 ; 0005 02E1 		}
002977 cfcc      	RJMP _0xA00CD
                 _0xA00CF:
                 ; 0005 02E2 		fs->fptr += ofs;
002978 01f8      	MOVW R30,R16
002979 940e 3394 	CALL SUBOPT_0xE2
00297b 940e 33c5 	CALL SUBOPT_0xEB
00297d 940e 3422 	CALL __ADDD12
00297f 01d0      	MOVW R26,R0
002980 940e 3522 	CALL __PUTDP1
                 ; 0005 02E3 		sect = clust2sect(clst);		/* Current sector */
002982 940e 33af 	CALL SUBOPT_0xE7
002984 940e 3530 	CALL __PUTPARD1
002986 d976      	RCALL _clust2sect_G005
002987 940e 33a5 	CALL SUBOPT_0xE5
                 ; 0005 02E4 		if (!sect) goto fe_abort;
002989 940e 357c 	CALL __CPD10
00298b f0e9      	BREQ _0xA00D3
                 ; 0005 02E5 		fs->csect = (BYTE)(ofs / 512);	/* Sector offset in the cluster */
00298c 940e 33c5 	CALL SUBOPT_0xEB
00298e 940e 326b 	CALL SUBOPT_0xB0
002990 940e 34e0 	CALL __DIVD21U
                +
002992 01d8     +MOVW R26 , R16
002993 9613     +ADIW R26 , 3
002994 93ec     +ST X , R30
                 	__PUTB1RNS 16,3
                 ; 0005 02E6 		if (ofs % 512)
002995 940e 33ca 	CALL SUBOPT_0xEC
002997 70f1      	ANDI R31,HIGH(0x1FF)
002998 9730      	SBIW R30,0
002999 f069      	BREQ _0xA00D5
                 ; 0005 02E7 			fs->dsect = sect + fs->csect++;
00299a 01d8      	MOVW R26,R16
00299b 940e 3381 	CALL SUBOPT_0xDF
                +
00299d 81ae     +LDD R26 , Y + 6
00299e 81bf     +LDD R27 , Y + 6 + 1
00299f 8588     +LDD R24 , Y + 6 + 2
0029a0 8599     +LDD R25 , Y + 6 + 3
                 	__GETD2S 6
0029a1 940e 307c 	CALL SUBOPT_0x69
                +
0029a3 01d8     +MOVW R26 , R16
0029a4 9698     +ADIW R26 , 40
0029a5 940e 3522+CALL __PUTDP1
                 	__PUTD1RNS 16,40
                 ; 0005 02E8 	}
                 _0xA00D5:
                 ; 0005 02E9 
                 ; 0005 02EA 	return FR_OK;
                 _0xA00C8:
0029a7 e0e0      	LDI  R30,LOW(0)
0029a8 c003      	RJMP _0x20C0003
                 ; 0005 02EB 
                 ; 0005 02EC fe_abort:
                 _0xA00D3:
                 ; 0005 02ED 	fs->flag = 0;
0029a9 01d8      	MOVW R26,R16
0029aa 940e 339a 	CALL SUBOPT_0xE3
                 ; 0005 02EE 	return FR_DISK_ERR;
                 _0x20C0003:
0029ac 8119      	LDD  R17,Y+1
0029ad 8108      	LDD  R16,Y+0
0029ae 9666      	ADIW R28,22
0029af 9508      	RET
                 ; 0005 02EF }
                 ; .FEND
                 ;#endif
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Create a Directroy Object                                             */
                 ;/*-----------------------------------------------------------------------*/
                 ;#if _USE_DIR
                 ;
                 ;FRESULT pf_opendir (
                 ; 0005 02FA 	DIR *dj,			/* Pointer to directory object to create */
                 ; 0005 02FB 	const char *path	/* Pointer to the directory path */
                 ; 0005 02FC )
                 ; 0005 02FD {
                 ; 0005 02FE 	FRESULT res;
                 ; 0005 02FF 	BYTE sp[12], dir[32];
                 ; 0005 0300 	FATFS *fs = FatFs;
                 ; 0005 0301 
                 ; 0005 0302 
                 ; 0005 0303 	if (!fs) {				/* Check file system */
                 ;	*dj -> Y+50
                 ;	*path -> Y+48
                 ;	res -> R17
                 ;	sp -> Y+36
                 ;	dir -> Y+4
                 ;	*fs -> R18,R19
                 ; 0005 0304 		res = FR_NOT_ENABLED;
                 ; 0005 0305 	} else {
                 ; 0005 0306 		fs->buf = dir;
                 ; 0005 0307 		dj->fn = sp;
                 ; 0005 0308 		res = follow_path(dj, path);			/* Follow the path to the directory */
                 ; 0005 0309 		if (res == FR_OK) {						/* Follow completed */
                 ; 0005 030A 			if (dir[0]) {						/* It is not the root dir */
                 ; 0005 030B 				if (dir[DIR_Attr] & AM_DIR) {	/* The object is a directory */
                 ; 0005 030C 					dj->sclust =
                 ; 0005 030D #if _FS_FAT32
                 ; 0005 030E 					((DWORD)LD_WORD(dir+DIR_FstClusHI) << 16) |
                 ; 0005 030F #endif
                 ; 0005 0310 					LD_WORD(dir+DIR_FstClusLO);
                 ; 0005 0311 				} else {						/* The object is not a directory */
                 ; 0005 0312 					res = FR_NO_PATH;
                 ; 0005 0313 				}
                 ; 0005 0314 			}
                 ; 0005 0315 			if (res == FR_OK)
                 ; 0005 0316 				res = dir_rewind(dj);			/* Rewind dir */
                 ; 0005 0317 		}
                 ; 0005 0318 		if (res == FR_NO_FILE) res = FR_NO_PATH;
                 ; 0005 0319 	}
                 ; 0005 031A 
                 ; 0005 031B 	return res;
                 ; 0005 031C }
                 ;
                 ;
                 ;
                 ;
                 ;/*-----------------------------------------------------------------------*/
                 ;/* Read Directory Entry in Sequense                                      */
                 ;/*-----------------------------------------------------------------------*/
                 ;
                 ;FRESULT pf_readdir (
                 ; 0005 0326 	DIR *dj,			/* Pointer to the open directory object */
                 ; 0005 0327 	FILINFO *fno		/* Pointer to file information to return */
                 ; 0005 0328 )
                 ; 0005 0329 {
                 ; 0005 032A 	FRESULT res;
                 ; 0005 032B 	BYTE sp[12], dir[32];
                 ; 0005 032C 	FATFS *fs = FatFs;
                 ; 0005 032D 
                 ; 0005 032E 
                 ; 0005 032F 	if (!fs) {				/* Check file system */
                 ;	*dj -> Y+50
                 ;	*fno -> Y+48
                 ;	res -> R17
                 ;	sp -> Y+36
                 ;	dir -> Y+4
                 ;	*fs -> R18,R19
                 ; 0005 0330 		res = FR_NOT_ENABLED;
                 ; 0005 0331 	} else {
                 ; 0005 0332 		fs->buf = dir;
                 ; 0005 0333 		dj->fn = sp;
                 ; 0005 0334 		if (!fno) {
                 ; 0005 0335 			res = dir_rewind(dj);
                 ; 0005 0336 		} else {
                 ; 0005 0337 			res = dir_read(dj);
                 ; 0005 0338 			if (res == FR_NO_FILE) {
                 ; 0005 0339 				dj->sect = 0;
                 ; 0005 033A 				res = FR_OK;
                 ; 0005 033B 			}
                 ; 0005 033C 			if (res == FR_OK) {				/* A valid entry is found */
                 ; 0005 033D 				get_fileinfo(dj, fno);		/* Get the object information */
                 ; 0005 033E 				res = dir_next(dj);			/* Increment index for next */
                 ; 0005 033F 				if (res == FR_NO_FILE) {
                 ; 0005 0340 					dj->sect = 0;
                 ; 0005 0341 					res = FR_OK;
                 ; 0005 0342 				}
                 ; 0005 0343 			}
                 ; 0005 0344 		}
                 ; 0005 0345 	}
                 ; 0005 0346 
                 ; 0005 0347 	return res;
                 ; 0005 0348 }
                 ;
                 ;#endif /* _USE_DIR */
                 ;
                 	#ifndef __SLEEP_DEFINED__
                 	#endif
                 
                 	.DSEG
                 
                 	.CSEG
                 __lcd_write_nibble_G100:
                 ; .FSTART __lcd_write_nibble_G100
0029b0 b1e8      	IN   R30,0x8
0029b1 7fe0      	ANDI R30,LOW(0xF0)
0029b2 2fae      	MOV  R26,R30
0029b3 81e8      	LD   R30,Y
0029b4 95e2      	SWAP R30
0029b5 70ef      	ANDI R30,0xF
0029b6 2bea      	OR   R30,R26
0029b7 b9e8      	OUT  0x8,R30
                +
0029b8 e184     +LDI R24 , LOW ( 20 )
                +__DELAY_USB_LOOP :
0029b9 958a     +DEC R24
0029ba f7f1     +BRNE __DELAY_USB_LOOP
                 	__DELAY_USB 20
0029bb 9a5c      	SBI  0xB,4
                +
0029bc e184     +LDI R24 , LOW ( 20 )
                +__DELAY_USB_LOOP :
0029bd 958a     +DEC R24
0029be f7f1     +BRNE __DELAY_USB_LOOP
                 	__DELAY_USB 20
0029bf 985c      	CBI  0xB,4
                +
0029c0 e184     +LDI R24 , LOW ( 20 )
                +__DELAY_USB_LOOP :
0029c1 958a     +DEC R24
0029c2 f7f1     +BRNE __DELAY_USB_LOOP
                 	__DELAY_USB 20
0029c3 c09d      	RJMP _0x20C0002
                 ; .FEND
                 __lcd_write_data:
                 ; .FSTART __lcd_write_data
0029c4 81e8      	LD   R30,Y
0029c5 93ea      	ST   -Y,R30
0029c6 dfe9      	RCALL __lcd_write_nibble_G100
0029c7 81e8          ld    r30,y
0029c8 95e2          swap  r30
0029c9 83e8          st    y,r30
0029ca 81e8      	LD   R30,Y
0029cb 93ea      	ST   -Y,R30
0029cc dfe3      	RCALL __lcd_write_nibble_G100
                +
0029cd ec88     +LDI R24 , LOW ( 200 )
                +__DELAY_USB_LOOP :
0029ce 958a     +DEC R24
0029cf f7f1     +BRNE __DELAY_USB_LOOP
                 	__DELAY_USB 200
0029d0 c090      	RJMP _0x20C0002
                 ; .FEND
                 _lcd_gotoxy:
                 ; .FSTART _lcd_gotoxy
0029d1 81e8      	LD   R30,Y
0029d2 e0f0      	LDI  R31,0
0029d3 5ce9      	SUBI R30,LOW(-__base_y_G100)
0029d4 4ff7      	SBCI R31,HIGH(-__base_y_G100)
0029d5 81e0      	LD   R30,Z
0029d6 81a9      	LDD  R26,Y+1
0029d7 0fea      	ADD  R30,R26
0029d8 93ea      	ST   -Y,R30
0029d9 dfea      	RCALL __lcd_write_data
0029da 81e9      	LDD  R30,Y+1
0029db 93e0 083b 	STS  __lcd_x,R30
0029dd 81e8      	LD   R30,Y
0029de 93e0 083c 	STS  __lcd_y,R30
0029e0 9622      	ADIW R28,2
0029e1 9508      	RET
                 ; .FEND
                 _lcd_clear:
                 ; .FSTART _lcd_clear
0029e2 e0e2      	LDI  R30,LOW(2)
0029e3 940e 33df 	CALL SUBOPT_0xEF
0029e5 e0ec      	LDI  R30,LOW(12)
0029e6 93ea      	ST   -Y,R30
0029e7 dfdc      	RCALL __lcd_write_data
0029e8 e0e1      	LDI  R30,LOW(1)
0029e9 940e 33df 	CALL SUBOPT_0xEF
0029eb e0e0      	LDI  R30,LOW(0)
0029ec 93e0 083c 	STS  __lcd_y,R30
0029ee 93e0 083b 	STS  __lcd_x,R30
0029f0 9508      	RET
                 ; .FEND
                 _lcd_putchar:
                 ; .FSTART _lcd_putchar
0029f1 81a8      	LD   R26,Y
0029f2 30aa      	CPI  R26,LOW(0xA)
0029f3 f031      	BREQ _0x2000005
0029f4 91e0 083d 	LDS  R30,__lcd_maxx
0029f6 91a0 083b 	LDS  R26,__lcd_x
0029f8 17ae      	CP   R26,R30
0029f9 f068      	BRLO _0x2000004
                 _0x2000005:
0029fa e0e0      	LDI  R30,LOW(0)
0029fb 93ea      	ST   -Y,R30
0029fc 91e0 083c 	LDS  R30,__lcd_y
0029fe 5fef      	SUBI R30,-LOW(1)
0029ff 93e0 083c 	STS  __lcd_y,R30
002a01 93ea      	ST   -Y,R30
002a02 dfce      	RCALL _lcd_gotoxy
002a03 81a8      	LD   R26,Y
002a04 30aa      	CPI  R26,LOW(0xA)
002a05 f409      	BRNE _0x2000007
002a06 c05a      	RJMP _0x20C0002
                 _0x2000007:
                 _0x2000004:
002a07 91e0 083b 	LDS  R30,__lcd_x
002a09 5fef      	SUBI R30,-LOW(1)
002a0a 93e0 083b 	STS  __lcd_x,R30
002a0c 9a45      	SBI  0x8,5
002a0d 81e8      	LD   R30,Y
002a0e 93ea      	ST   -Y,R30
002a0f dfb4      	RCALL __lcd_write_data
002a10 9845      	CBI  0x8,5
002a11 c04f      	RJMP _0x20C0002
                 ; .FEND
                 _lcd_puts:
                 ; .FSTART _lcd_puts
002a12 931a      	ST   -Y,R17
                 _0x2000008:
002a13 81a9      	LDD  R26,Y+1
002a14 81ba      	LDD  R27,Y+1+1
002a15 91ed      	LD   R30,X+
002a16 83a9      	STD  Y+1,R26
002a17 83ba      	STD  Y+1+1,R27
002a18 2f1e      	MOV  R17,R30
002a19 30e0      	CPI  R30,0
002a1a f019      	BREQ _0x200000A
002a1b 931a      	ST   -Y,R17
002a1c dfd4      	RCALL _lcd_putchar
002a1d cff5      	RJMP _0x2000008
                 _0x200000A:
002a1e 8118      	LDD  R17,Y+0
002a1f 940c 2b57 	JMP  _0x20C0001
                 ; .FEND
                 _lcd_putsf:
                 ; .FSTART _lcd_putsf
002a21 931a      	ST   -Y,R17
                 _0x200000B:
002a22 81e9      	LDD  R30,Y+1
002a23 81fa      	LDD  R31,Y+1+1
002a24 9631      	ADIW R30,1
002a25 83e9      	STD  Y+1,R30
002a26 83fa      	STD  Y+1+1,R31
002a27 9731      	SBIW R30,1
002a28 91e4      	LPM  R30,Z
002a29 2f1e      	MOV  R17,R30
002a2a 30e0      	CPI  R30,0
002a2b f019      	BREQ _0x200000D
002a2c 931a      	ST   -Y,R17
002a2d dfc3      	RCALL _lcd_putchar
002a2e cff3      	RJMP _0x200000B
                 _0x200000D:
002a2f 8118      	LDD  R17,Y+0
002a30 940c 2b57 	JMP  _0x20C0001
                 ; .FEND
                 _lcd_init:
                 ; .FSTART _lcd_init
002a32 b1e7      	IN   R30,0x7
002a33 60ef      	ORI  R30,LOW(0xF)
002a34 b9e7      	OUT  0x7,R30
002a35 9a54      	SBI  0xA,4
002a36 9a3d      	SBI  0x7,5
002a37 9a3c      	SBI  0x7,4
002a38 985c      	CBI  0xB,4
002a39 9845      	CBI  0x8,5
002a3a 9844      	CBI  0x8,4
002a3b 81e8      	LD   R30,Y
002a3c 93e0 083d 	STS  __lcd_maxx,R30
002a3e 58e0      	SUBI R30,-LOW(128)
                +
002a3f 93e0 0839+STS __base_y_G100 + ( 2 ) , R30
                 	__PUTB1MN __base_y_G100,2
002a41 81e8      	LD   R30,Y
002a42 54e0      	SUBI R30,-LOW(192)
                +
002a43 93e0 083a+STS __base_y_G100 + ( 3 ) , R30
                 	__PUTB1MN __base_y_G100,3
002a45 940e 2eb7 	CALL SUBOPT_0x25
002a47 940e 33e5 	CALL SUBOPT_0xF0
002a49 940e 33e5 	CALL SUBOPT_0xF0
002a4b 940e 33e5 	CALL SUBOPT_0xF0
002a4d e2e0      	LDI  R30,LOW(32)
002a4e 93ea      	ST   -Y,R30
002a4f df60      	RCALL __lcd_write_nibble_G100
                +
002a50 e28c     +LDI R24 , LOW ( 300 )
002a51 e091     +LDI R25 , HIGH ( 300 )
                +__DELAY_USW_LOOP :
002a52 9701     +SBIW R24 , 1
002a53 f7f1     +BRNE __DELAY_USW_LOOP
                 	__DELAY_USW 300
002a54 e2e8      	LDI  R30,LOW(40)
002a55 93ea      	ST   -Y,R30
002a56 df6d      	RCALL __lcd_write_data
002a57 e0e4      	LDI  R30,LOW(4)
002a58 93ea      	ST   -Y,R30
002a59 df6a      	RCALL __lcd_write_data
002a5a e8e5      	LDI  R30,LOW(133)
002a5b 93ea      	ST   -Y,R30
002a5c df67      	RCALL __lcd_write_data
002a5d e0e6      	LDI  R30,LOW(6)
002a5e 93ea      	ST   -Y,R30
002a5f df64      	RCALL __lcd_write_data
002a60 df81      	RCALL _lcd_clear
                 _0x20C0002:
002a61 9621      	ADIW R28,1
002a62 9508      	RET
                 ; .FEND
                 
                 	.CSEG
                 _atoi:
                 ; .FSTART _atoi
002a63 81b9         	ldd  r27,y+1
002a64 81a8         	ld   r26,y
                 __atoi0:
002a65 91ec         	ld   r30,x
002a66 2f8a              mov  r24,r26
002a67 93ea      	ST   -Y,R30
002a68 940e 2da8 	CALL _isspace
002a6a 2fa8              mov  r26,r24
002a6b 23ee         	tst  r30
002a6c f011         	breq __atoi1
002a6d 9611         	adiw r26,1
002a6e cff6         	rjmp __atoi0
                 __atoi1:
002a6f 94e8         	clt
002a70 91ec         	ld   r30,x
002a71 32ed         	cpi  r30,'-'
002a72 f411         	brne __atoi2
002a73 9468         	set
002a74 c002         	rjmp __atoi3
                 __atoi2:
002a75 32eb         	cpi  r30,'+'
002a76 f409         	brne __atoi4
                 __atoi3:
002a77 9611         	adiw r26,1
                 __atoi4:
002a78 2766         	clr  r22
002a79 2777         	clr  r23
                 __atoi5:
002a7a 91ec         	ld   r30,x
002a7b 2f8a              mov  r24,r26
002a7c 93ea      	ST   -Y,R30
002a7d 940e 2da0 	CALL _isdigit
002a7f 2fa8              mov  r26,r24
002a80 23ee         	tst  r30
002a81 f079         	breq __atoi6
002a82 01fb         	movw r30,r22
002a83 0f66         	lsl  r22
002a84 1f77         	rol  r23
002a85 0f66         	lsl  r22
002a86 1f77         	rol  r23
002a87 0f6e         	add  r22,r30
002a88 1f7f         	adc  r23,r31
002a89 0f66         	lsl  r22
002a8a 1f77         	rol  r23
002a8b 91ed         	ld   r30,x+
002a8c 27ff         	clr  r31
002a8d 53e0         	subi r30,'0'
002a8e 0f6e         	add  r22,r30
002a8f 1f7f         	adc  r23,r31
002a90 cfe9         	rjmp __atoi5
                 __atoi6:
002a91 01fb         	movw r30,r22
002a92 f41e         	brtc __atoi7
002a93 95e0         	com  r30
002a94 95f0         	com  r31
002a95 9631         	adiw r30,1
                 __atoi7:
002a96 9622         	adiw r28,2
002a97 9508         	ret
                 ; .FEND
                 _atol:
                 ; .FSTART _atol
002a98 81b9          ldd  r27,y+1
002a99 81a8          ld   r26,y
                 __atol0:
002a9a 91ec          ld   r30,x
002a9b 93af          push r26
002a9c 93ea      	ST   -Y,R30
002a9d 940e 2da8 	CALL _isspace
002a9f 91af          pop  r26
002aa0 23ee          tst  r30
002aa1 f011          breq __atol1
002aa2 9611          adiw r26,1
002aa3 cff6          rjmp __atol0
                 __atol1:
002aa4 94e8          clt
002aa5 91ec          ld   r30,x
002aa6 32ed          cpi  r30,'-'
002aa7 f411          brne __atol2
002aa8 9468          set
002aa9 c002          rjmp __atol3
                 __atol2:
002aaa 32eb          cpi  r30,'+'
002aab f409          brne __atol4
                 __atol3:
002aac 9611          adiw r26,1
                 __atol4:
002aad 2400          clr  r0
002aae 2411          clr  r1
002aaf 2788          clr  r24
002ab0 2799          clr  r25
                 __atol5:
002ab1 91ec          ld   r30,x
002ab2 93af          push r26
002ab3 93ea      	ST   -Y,R30
002ab4 940e 2da0 	CALL _isdigit
002ab6 91af          pop  r26
002ab7 23ee          tst  r30
002ab8 f089          breq __atol6
002ab9 01f0          movw r30,r0
002aba 01bc          movw r22,r24
002abb d01b          rcall __atol8
002abc d01a          rcall __atol8
002abd 0e0e          add  r0,r30
002abe 1e1f          adc  r1,r31
002abf 1f86          adc  r24,r22
002ac0 1f97          adc  r25,r23
002ac1 d015          rcall __atol8
002ac2 91ed          ld   r30,x+
002ac3 27ff          clr  r31
002ac4 53e0          subi r30,'0'
002ac5 0e0e          add  r0,r30
002ac6 1e1f          adc  r1,r31
002ac7 1f8f          adc  r24,r31
002ac8 1f9f          adc  r25,r31
002ac9 cfe7          rjmp __atol5
                 __atol6:
002aca 01f0          movw r30,r0
002acb 01bc          movw r22,r24
002acc f446          brtc __atol7
002acd 95e0          com  r30
002ace 95f0          com  r31
002acf 9560          com  r22
002ad0 9570          com  r23
002ad1 2788          clr  r24
002ad2 9631          adiw r30,1
002ad3 1f68          adc  r22,r24
002ad4 1f78          adc  r23,r24
                 __atol7:
002ad5 9622          adiw r28,2
002ad6 9508          ret
                 
                 __atol8:
002ad7 0c00          lsl  r0
002ad8 1c11          rol  r1
002ad9 1f88          rol  r24
002ada 1f99          rol  r25
002adb 9508          ret
                 ; .FEND
                 _itoa:
                 ; .FSTART _itoa
002adc 91a9          ld   r26,y+
002add 91b9          ld   r27,y+
002ade 91e9          ld   r30,y+
002adf 91f9          ld   r31,y+
002ae0 9630          adiw r30,0
002ae1 f42a          brpl __itoa0
002ae2 95e0          com  r30
002ae3 95f0          com  r31
002ae4 9631          adiw r30,1
002ae5 e26d          ldi  r22,'-'
002ae6 936d          st   x+,r22
                 __itoa0:
002ae7 94e8          clt
002ae8 e180          ldi  r24,low(10000)
002ae9 e297          ldi  r25,high(10000)
002aea d00d          rcall __itoa1
002aeb ee88          ldi  r24,low(1000)
002aec e093          ldi  r25,high(1000)
002aed d00a          rcall __itoa1
002aee e684          ldi  r24,100
002aef 2799          clr  r25
002af0 d007          rcall __itoa1
002af1 e08a          ldi  r24,10
002af2 d005          rcall __itoa1
002af3 2f6e          mov  r22,r30
002af4 d010          rcall __itoa5
002af5 2766          clr  r22
002af6 936c          st   x,r22
002af7 9508          ret
                 
                 __itoa1:
002af8 2766          clr	 r22
                 __itoa2:
002af9 17e8          cp   r30,r24
002afa 07f9          cpc  r31,r25
002afb f020          brlo __itoa3
002afc 9563          inc  r22
002afd 1be8          sub  r30,r24
002afe 0bf9          sbc  r31,r25
002aff f7c9          brne __itoa2
                 __itoa3:
002b00 2366          tst  r22
002b01 f411          brne __itoa4
002b02 f016          brts __itoa5
002b03 9508          ret
                 __itoa4:
002b04 9468          set
                 __itoa5:
002b05 5d60          subi r22,-0x30
002b06 936d          st   x+,r22
002b07 9508          ret
                 ; .FEND
                 _ltoa:
                 ; .FSTART _ltoa
002b08 9724      	SBIW R28,4
002b09 931a      	ST   -Y,R17
002b0a 930a      	ST   -Y,R16
                +
002b0b e0e0     +LDI R30 , LOW ( 0x3B9ACA00 )
002b0c ecfa     +LDI R31 , HIGH ( 0x3B9ACA00 )
002b0d e96a     +LDI R22 , BYTE3 ( 0x3B9ACA00 )
002b0e e37b     +LDI R23 , BYTE4 ( 0x3B9ACA00 )
                 	__GETD1N 0x3B9ACA00
002b0f 940e 32d2 	CALL SUBOPT_0xC2
002b11 e000      	LDI  R16,LOW(0)
002b12 85ab      	LDD  R26,Y+11
002b13 23aa      	TST  R26
002b14 f452      	BRPL _0x2020003
002b15 940e 3270 	CALL SUBOPT_0xB1
002b17 940e 3444 	CALL __ANEGD1
002b19 940e 327c 	CALL SUBOPT_0xB3
002b1b 940e 33ee 	CALL SUBOPT_0xF1
002b1d e2ed      	LDI  R30,LOW(45)
002b1e 93ec      	ST   X,R30
                 _0x2020003:
                 _0x2020005:
002b1f 940e 33f5 	CALL SUBOPT_0xF2
002b21 940e 34e0 	CALL __DIVD21U
002b23 2f1e      	MOV  R17,R30
002b24 3010      	CPI  R17,0
002b25 f429      	BRNE _0x2020008
002b26 3000      	CPI  R16,0
002b27 f419      	BRNE _0x2020008
002b28 940e 32e9 	CALL SUBOPT_0xC7
002b2a f431      	BRNE _0x2020007
                 _0x2020008:
002b2b 940e 33ee 	CALL SUBOPT_0xF1
002b2d 2fe1      	MOV  R30,R17
002b2e 5de0      	SUBI R30,-LOW(48)
002b2f 93ec      	ST   X,R30
002b30 e001      	LDI  R16,LOW(1)
                 _0x2020007:
002b31 940e 33f5 	CALL SUBOPT_0xF2
002b33 940e 350f 	CALL __MODD21U
002b35 940e 327c 	CALL SUBOPT_0xB3
002b37 940e 32d7 	CALL SUBOPT_0xC3
                +
002b39 e0ea     +LDI R30 , LOW ( 0xA )
002b3a e0f0     +LDI R31 , HIGH ( 0xA )
002b3b e060     +LDI R22 , BYTE3 ( 0xA )
002b3c e070     +LDI R23 , BYTE4 ( 0xA )
                 	__GETD1N 0xA
002b3d 940e 34e0 	CALL __DIVD21U
002b3f 940e 32d2 	CALL SUBOPT_0xC2
002b41 940e 32f2 	CALL SUBOPT_0xC8
002b43 f6d9      	BRNE _0x2020005
002b44 81ae      	LDD  R26,Y+6
002b45 81bf      	LDD  R27,Y+6+1
002b46 e0e0      	LDI  R30,LOW(0)
002b47 93ec      	ST   X,R30
002b48 8119      	LDD  R17,Y+1
002b49 8108      	LDD  R16,Y+0
002b4a 962c      	ADIW R28,12
002b4b 9508      	RET
                 ; .FEND
                 
                 	.DSEG
                 
                 	.CSEG
                 	#ifndef __SLEEP_DEFINED__
                 	#endif
                 
                 	.CSEG
                 _put_usart_G102:
                 ; .FSTART _put_usart_G102
002b4c 81ea      	LDD  R30,Y+2
002b4d 93ea      	ST   -Y,R30
002b4e 940e 0763 	CALL _putchar
002b50 81a8      	LD   R26,Y
002b51 81b9      	LDD  R27,Y+1
002b52 91ed      	LD   R30,X+
002b53 91fd      	LD   R31,X+
002b54 9631      	ADIW R30,1
002b55 93fe      	ST   -X,R31
002b56 93ee      	ST   -X,R30
                 _0x20C0001:
002b57 9623      	ADIW R28,3
002b58 9508      	RET
                 ; .FEND
                 __print_G102:
                 ; .FSTART __print_G102
002b59 972b      	SBIW R28,11
002b5a 940e 3590 	CALL __SAVELOCR6
002b5c e010      	LDI  R17,0
002b5d 89a9      	LDD  R26,Y+17
002b5e 89ba      	LDD  R27,Y+17+1
002b5f 940e 32e1 	CALL SUBOPT_0xC5
                 _0x2040016:
002b61 89ef      	LDD  R30,Y+23
002b62 8df8      	LDD  R31,Y+23+1
002b63 9631      	ADIW R30,1
002b64 8bef      	STD  Y+23,R30
002b65 8ff8      	STD  Y+23+1,R31
002b66 9731      	SBIW R30,1
002b67 91e4      	LPM  R30,Z
002b68 2f2e      	MOV  R18,R30
002b69 30e0      	CPI  R30,0
002b6a f409      	BRNE PC+2
002b6b c168      	RJMP _0x2040018
002b6c 2fe1      	MOV  R30,R17
002b6d 30e0      	CPI  R30,0
002b6e f439      	BRNE _0x204001C
002b6f 3225      	CPI  R18,37
002b70 f411      	BRNE _0x204001D
002b71 e011      	LDI  R17,LOW(1)
002b72 c002      	RJMP _0x204001E
                 _0x204001D:
002b73 940e 33fb 	CALL SUBOPT_0xF3
                 _0x204001E:
002b75 c15d      	RJMP _0x204001B
                 _0x204001C:
002b76 30e1      	CPI  R30,LOW(0x1)
002b77 f4a9      	BRNE _0x204001F
002b78 3225      	CPI  R18,37
002b79 f419      	BRNE _0x2040020
002b7a 940e 33fb 	CALL SUBOPT_0xF3
002b7c c155      	RJMP _0x20400D2
                 _0x2040020:
002b7d e012      	LDI  R17,LOW(2)
002b7e e040      	LDI  R20,LOW(0)
002b7f e000      	LDI  R16,LOW(0)
002b80 322d      	CPI  R18,45
002b81 f411      	BRNE _0x2040021
002b82 e001      	LDI  R16,LOW(1)
002b83 c14f      	RJMP _0x204001B
                 _0x2040021:
002b84 322b      	CPI  R18,43
002b85 f411      	BRNE _0x2040022
002b86 e24b      	LDI  R20,LOW(43)
002b87 c14b      	RJMP _0x204001B
                 _0x2040022:
002b88 3220      	CPI  R18,32
002b89 f411      	BRNE _0x2040023
002b8a e240      	LDI  R20,LOW(32)
002b8b c147      	RJMP _0x204001B
                 _0x2040023:
002b8c c002      	RJMP _0x2040024
                 _0x204001F:
002b8d 30e2      	CPI  R30,LOW(0x2)
002b8e f439      	BRNE _0x2040025
                 _0x2040024:
002b8f e050      	LDI  R21,LOW(0)
002b90 e013      	LDI  R17,LOW(3)
002b91 3320      	CPI  R18,48
002b92 f411      	BRNE _0x2040026
002b93 6800      	ORI  R16,LOW(128)
002b94 c13e      	RJMP _0x204001B
                 _0x2040026:
002b95 c002      	RJMP _0x2040027
                 _0x2040025:
002b96 30e3      	CPI  R30,LOW(0x3)
002b97 f491      	BRNE _0x2040028
                 _0x2040027:
002b98 3320      	CPI  R18,48
002b99 f010      	BRLO _0x204002A
002b9a 332a      	CPI  R18,58
002b9b f008      	BRLO _0x204002B
                 _0x204002A:
002b9c c007      	RJMP _0x2040029
                 _0x204002B:
002b9d e0aa      	LDI  R26,LOW(10)
002b9e 9f5a      	MUL  R21,R26
002b9f 2d50      	MOV  R21,R0
002ba0 2fe2      	MOV  R30,R18
002ba1 53e0      	SUBI R30,LOW(48)
002ba2 0f5e      	ADD  R21,R30
002ba3 c12f      	RJMP _0x204001B
                 _0x2040029:
002ba4 362c      	CPI  R18,108
002ba5 f419      	BRNE _0x204002C
002ba6 6002      	ORI  R16,LOW(2)
002ba7 e015      	LDI  R17,LOW(5)
002ba8 c12a      	RJMP _0x204001B
                 _0x204002C:
002ba9 c003      	RJMP _0x204002D
                 _0x2040028:
002baa 30e5      	CPI  R30,LOW(0x5)
002bab f009      	BREQ PC+2
002bac c126      	RJMP _0x204001B
                 _0x204002D:
002bad 2fe2      	MOV  R30,R18
002bae 36e3      	CPI  R30,LOW(0x63)
002baf f449      	BRNE _0x2040032
002bb0 940e 3404 	CALL SUBOPT_0xF4
002bb2 89ed      	LDD  R30,Y+21
002bb3 89fe      	LDD  R31,Y+21+1
002bb4 81a4      	LDD  R26,Z+4
002bb5 93aa      	ST   -Y,R26
002bb6 940e 340a 	CALL SUBOPT_0xF5
002bb8 c119      	RJMP _0x2040033
                 _0x2040032:
002bb9 37e3      	CPI  R30,LOW(0x73)
002bba f469      	BRNE _0x2040035
002bbb 940e 3404 	CALL SUBOPT_0xF4
002bbd 89ad      	LDD  R26,Y+21
002bbe 89be      	LDD  R27,Y+21+1
002bbf 9614      	ADIW R26,4
002bc0 940e 330d 	CALL SUBOPT_0xCD
002bc2 940e 3326 	CALL SUBOPT_0xD1
002bc4 940e 2d3c 	CALL _strlen
002bc6 2f1e      	MOV  R17,R30
002bc7 c00f      	RJMP _0x2040036
                 _0x2040035:
002bc8 37e0      	CPI  R30,LOW(0x70)
002bc9 f491      	BRNE _0x2040038
002bca 940e 3404 	CALL SUBOPT_0xF4
002bcc 89ad      	LDD  R26,Y+21
002bcd 89be      	LDD  R27,Y+21+1
002bce 9614      	ADIW R26,4
002bcf 940e 330d 	CALL SUBOPT_0xCD
002bd1 940e 3326 	CALL SUBOPT_0xD1
002bd3 940e 2d46 	CALL _strlenf
002bd5 2f1e      	MOV  R17,R30
002bd6 6008      	ORI  R16,LOW(8)
                 _0x2040036:
002bd7 770f      	ANDI R16,LOW(127)
002bd8 e0e0      	LDI  R30,LOW(0)
002bd9 8be8      	STD  Y+16,R30
002bda e030      	LDI  R19,LOW(0)
002bdb c06a      	RJMP _0x2040039
                 _0x2040038:
002bdc 36e4      	CPI  R30,LOW(0x64)
002bdd f011      	BREQ _0x204003C
002bde 36e9      	CPI  R30,LOW(0x69)
002bdf f411      	BRNE _0x204003D
                 _0x204003C:
002be0 6004      	ORI  R16,LOW(4)
002be1 c002      	RJMP _0x204003E
                 _0x204003D:
002be2 37e5      	CPI  R30,LOW(0x75)
002be3 f4a1      	BRNE _0x204003F
                 _0x204003E:
002be4 e0ea      	LDI  R30,LOW(10)
002be5 8be8      	STD  Y+16,R30
002be6 ff01      	SBRS R16,1
002be7 c008      	RJMP _0x2040040
                +
002be8 e0e0     +LDI R30 , LOW ( 0x3B9ACA00 )
002be9 ecfa     +LDI R31 , HIGH ( 0x3B9ACA00 )
002bea e96a     +LDI R22 , BYTE3 ( 0x3B9ACA00 )
002beb e37b     +LDI R23 , BYTE4 ( 0x3B9ACA00 )
                 	__GETD1N 0x3B9ACA00
002bec 940e 327c 	CALL SUBOPT_0xB3
002bee e01a      	LDI  R17,LOW(10)
002bef c022      	RJMP _0x2040041
                 _0x2040040:
                +
002bf0 e1e0     +LDI R30 , LOW ( 0x2710 )
002bf1 e2f7     +LDI R31 , HIGH ( 0x2710 )
002bf2 e060     +LDI R22 , BYTE3 ( 0x2710 )
002bf3 e070     +LDI R23 , BYTE4 ( 0x2710 )
                 	__GETD1N 0x2710
002bf4 940e 327c 	CALL SUBOPT_0xB3
002bf6 e015      	LDI  R17,LOW(5)
002bf7 c01a      	RJMP _0x2040041
                 _0x204003F:
002bf8 35e8      	CPI  R30,LOW(0x58)
002bf9 f411      	BRNE _0x2040043
002bfa 6008      	ORI  R16,LOW(8)
002bfb c003      	RJMP _0x2040044
                 _0x2040043:
002bfc 37e8      	CPI  R30,LOW(0x78)
002bfd f009      	BREQ PC+2
002bfe c0d3      	RJMP _0x2040077
                 _0x2040044:
002bff e1e0      	LDI  R30,LOW(16)
002c00 8be8      	STD  Y+16,R30
002c01 ff01      	SBRS R16,1
002c02 c008      	RJMP _0x2040046
                +
002c03 e0e0     +LDI R30 , LOW ( 0x10000000 )
002c04 e0f0     +LDI R31 , HIGH ( 0x10000000 )
002c05 e060     +LDI R22 , BYTE3 ( 0x10000000 )
002c06 e170     +LDI R23 , BYTE4 ( 0x10000000 )
                 	__GETD1N 0x10000000
002c07 940e 327c 	CALL SUBOPT_0xB3
002c09 e018      	LDI  R17,LOW(8)
002c0a c007      	RJMP _0x2040041
                 _0x2040046:
                +
002c0b e0e0     +LDI R30 , LOW ( 0x1000 )
002c0c e1f0     +LDI R31 , HIGH ( 0x1000 )
002c0d e060     +LDI R22 , BYTE3 ( 0x1000 )
002c0e e070     +LDI R23 , BYTE4 ( 0x1000 )
                 	__GETD1N 0x1000
002c0f 940e 327c 	CALL SUBOPT_0xB3
002c11 e014      	LDI  R17,LOW(4)
                 _0x2040041:
002c12 ff01      	SBRS R16,1
002c13 c008      	RJMP _0x2040047
002c14 940e 3404 	CALL SUBOPT_0xF4
002c16 89ad      	LDD  R26,Y+21
002c17 89be      	LDD  R27,Y+21+1
002c18 9614      	ADIW R26,4
002c19 940e 3517 	CALL __GETD1P
002c1b c013      	RJMP _0x20400D3
                 _0x2040047:
002c1c ff02      	SBRS R16,2
002c1d c00a      	RJMP _0x2040049
002c1e 940e 3404 	CALL SUBOPT_0xF4
002c20 89ad      	LDD  R26,Y+21
002c21 89be      	LDD  R27,Y+21+1
002c22 9614      	ADIW R26,4
002c23 940e 3513 	CALL __GETW1P
002c25 940e 34a3 	CALL __CWD1
002c27 c007      	RJMP _0x20400D3
                 _0x2040049:
002c28 940e 3404 	CALL SUBOPT_0xF4
002c2a 89ad      	LDD  R26,Y+21
002c2b 89be      	LDD  R27,Y+21+1
002c2c 9614      	ADIW R26,4
002c2d 940e 3333 	CALL SUBOPT_0xD3
                 _0x20400D3:
                +
002c2f 87ec     +STD Y + 12 , R30
002c30 87fd     +STD Y + 12 + 1 , R31
002c31 876e     +STD Y + 12 + 2 , R22
002c32 877f     +STD Y + 12 + 3 , R23
                 	__PUTD1S 12
002c33 ff02      	SBRS R16,2
002c34 c011      	RJMP _0x204004B
002c35 85af      	LDD  R26,Y+15
002c36 23aa      	TST  R26
002c37 f44a      	BRPL _0x204004C
                +
002c38 85ec     +LDD R30 , Y + 12
002c39 85fd     +LDD R31 , Y + 12 + 1
002c3a 856e     +LDD R22 , Y + 12 + 2
002c3b 857f     +LDD R23 , Y + 12 + 3
                 	__GETD1S 12
002c3c 940e 3444 	CALL __ANEGD1
002c3e 940e 337c 	CALL SUBOPT_0xDE
002c40 e24d      	LDI  R20,LOW(45)
                 _0x204004C:
002c41 3040      	CPI  R20,0
002c42 f011      	BREQ _0x204004D
002c43 5f1f      	SUBI R17,-LOW(1)
002c44 c001      	RJMP _0x204004E
                 _0x204004D:
002c45 7f0b      	ANDI R16,LOW(251)
                 _0x204004E:
                 _0x204004B:
                 _0x2040039:
002c46 fd00      	SBRC R16,0
002c47 c011      	RJMP _0x204004F
                 _0x2040050:
002c48 1715      	CP   R17,R21
002c49 f478      	BRSH _0x2040052
002c4a ff07      	SBRS R16,7
002c4b c008      	RJMP _0x2040053
002c4c ff02      	SBRS R16,2
002c4d c004      	RJMP _0x2040054
002c4e 7f0b      	ANDI R16,LOW(251)
002c4f 2f24      	MOV  R18,R20
002c50 5011      	SUBI R17,LOW(1)
002c51 c001      	RJMP _0x2040055
                 _0x2040054:
002c52 e320      	LDI  R18,LOW(48)
                 _0x2040055:
002c53 c001      	RJMP _0x2040056
                 _0x2040053:
002c54 e220      	LDI  R18,LOW(32)
                 _0x2040056:
002c55 940e 33fb 	CALL SUBOPT_0xF3
002c57 5051      	SUBI R21,LOW(1)
002c58 cfef      	RJMP _0x2040050
                 _0x2040052:
                 _0x204004F:
002c59 2f31      	MOV  R19,R17
002c5a 89e8      	LDD  R30,Y+16
002c5b 30e0      	CPI  R30,0
002c5c f4b9      	BRNE _0x2040057
                 _0x2040058:
002c5d 3030      	CPI  R19,0
002c5e f0a1      	BREQ _0x204005A
002c5f ff03      	SBRS R16,3
002c60 c006      	RJMP _0x204005B
002c61 81ee      	LDD  R30,Y+6
002c62 81ff      	LDD  R31,Y+6+1
002c63 9125      	LPM  R18,Z+
002c64 83ee      	STD  Y+6,R30
002c65 83ff      	STD  Y+6+1,R31
002c66 c005      	RJMP _0x204005C
                 _0x204005B:
002c67 81ae      	LDD  R26,Y+6
002c68 81bf      	LDD  R27,Y+6+1
002c69 912d      	LD   R18,X+
002c6a 83ae      	STD  Y+6,R26
002c6b 83bf      	STD  Y+6+1,R27
                 _0x204005C:
002c6c 940e 33fb 	CALL SUBOPT_0xF3
002c6e 3050      	CPI  R21,0
002c6f f009      	BREQ _0x204005D
002c70 5051      	SUBI R21,LOW(1)
                 _0x204005D:
002c71 5031      	SUBI R19,LOW(1)
002c72 cfea      	RJMP _0x2040058
                 _0x204005A:
002c73 c054      	RJMP _0x204005E
                 _0x2040057:
                 _0x2040060:
002c74 940e 3270 	CALL SUBOPT_0xB1
002c76 940e 328b 	CALL SUBOPT_0xB6
002c78 940e 34e0 	CALL __DIVD21U
002c7a 2f2e      	MOV  R18,R30
002c7b 302a      	CPI  R18,10
002c7c f030      	BRLO _0x2040062
002c7d ff03      	SBRS R16,3
002c7e c002      	RJMP _0x2040063
002c7f 5c29      	SUBI R18,-LOW(55)
002c80 c001      	RJMP _0x2040064
                 _0x2040063:
002c81 5a29      	SUBI R18,-LOW(87)
                 _0x2040064:
002c82 c001      	RJMP _0x2040065
                 _0x2040062:
002c83 5d20      	SUBI R18,-LOW(48)
                 _0x2040065:
002c84 fd04      	SBRC R16,4
002c85 c022      	RJMP _0x2040067
002c86 3321      	CPI  R18,49
002c87 f460      	BRSH _0x2040069
                +
002c88 85a8     +LDD R26 , Y + 8
002c89 85b9     +LDD R27 , Y + 8 + 1
002c8a 858a     +LDD R24 , Y + 8 + 2
002c8b 859b     +LDD R25 , Y + 8 + 3
                 	__GETD2S 8
                +
002c8c 30a1     +CPI R26 , LOW ( 0x1 )
002c8d e0e0     +LDI R30 , HIGH ( 0x1 )
002c8e 07be     +CPC R27 , R30
002c8f e0e0     +LDI R30 , BYTE3 ( 0x1 )
002c90 078e     +CPC R24 , R30
002c91 e0e0     +LDI R30 , BYTE4 ( 0x1 )
002c92 079e     +CPC R25 , R30
                 	__CPD2N 0x1
002c93 f409      	BRNE _0x2040068
                 _0x2040069:
002c94 c009      	RJMP _0x204006B
                 _0x2040068:
002c95 1753      	CP   R21,R19
002c96 f010      	BRLO _0x204006D
002c97 ff00      	SBRS R16,0
002c98 c001      	RJMP _0x204006E
                 _0x204006D:
002c99 c013      	RJMP _0x204006C
                 _0x204006E:
002c9a e220      	LDI  R18,LOW(32)
002c9b ff07      	SBRS R16,7
002c9c c00b      	RJMP _0x204006F
002c9d e320      	LDI  R18,LOW(48)
                 _0x204006B:
002c9e 6100      	ORI  R16,LOW(16)
002c9f ff02      	SBRS R16,2
002ca0 c007      	RJMP _0x2040070
002ca1 7f0b      	ANDI R16,LOW(251)
002ca2 934a      	ST   -Y,R20
002ca3 940e 340a 	CALL SUBOPT_0xF5
002ca5 3050      	CPI  R21,0
002ca6 f009      	BREQ _0x2040071
002ca7 5051      	SUBI R21,LOW(1)
                 _0x2040071:
                 _0x2040070:
                 _0x204006F:
                 _0x2040067:
002ca8 940e 33fb 	CALL SUBOPT_0xF3
002caa 3050      	CPI  R21,0
002cab f009      	BREQ _0x2040072
002cac 5051      	SUBI R21,LOW(1)
                 _0x2040072:
                 _0x204006C:
002cad 5031      	SUBI R19,LOW(1)
002cae 940e 3270 	CALL SUBOPT_0xB1
002cb0 940e 328b 	CALL SUBOPT_0xB6
002cb2 940e 350f 	CALL __MODD21U
002cb4 940e 337c 	CALL SUBOPT_0xDE
002cb6 89e8      	LDD  R30,Y+16
                +
002cb7 85a8     +LDD R26 , Y + 8
002cb8 85b9     +LDD R27 , Y + 8 + 1
002cb9 858a     +LDD R24 , Y + 8 + 2
002cba 859b     +LDD R25 , Y + 8 + 3
                 	__GETD2S 8
002cbb 27ff      	CLR  R31
002cbc 2766      	CLR  R22
002cbd 2777      	CLR  R23
002cbe 940e 34e0 	CALL __DIVD21U
002cc0 940e 327c 	CALL SUBOPT_0xB3
002cc2 940e 3270 	CALL SUBOPT_0xB1
002cc4 940e 357c 	CALL __CPD10
002cc6 f009      	BREQ _0x2040061
002cc7 cfac      	RJMP _0x2040060
                 _0x2040061:
                 _0x204005E:
002cc8 ff00      	SBRS R16,0
002cc9 c008      	RJMP _0x2040073
                 _0x2040074:
002cca 3050      	CPI  R21,0
002ccb f031      	BREQ _0x2040076
002ccc 5051      	SUBI R21,LOW(1)
002ccd e2e0      	LDI  R30,LOW(32)
002cce 93ea      	ST   -Y,R30
002ccf 940e 340a 	CALL SUBOPT_0xF5
002cd1 cff8      	RJMP _0x2040074
                 _0x2040076:
                 _0x2040073:
                 _0x2040077:
                 _0x2040033:
                 _0x20400D2:
002cd2 e010      	LDI  R17,LOW(0)
                 _0x204001B:
002cd3 ce8d      	RJMP _0x2040016
                 _0x2040018:
002cd4 89a9      	LDD  R26,Y+17
002cd5 89ba      	LDD  R27,Y+17+1
002cd6 940e 3513 	CALL __GETW1P
002cd8 940e 3597 	CALL __LOADLOCR6
002cda 9669      	ADIW R28,25
002cdb 9508      	RET
                 ; .FEND
                 _printf:
                 ; .FSTART _printf
002cdc 92ff      	PUSH R15
002cdd 2ef8      	MOV  R15,R24
002cde 9726      	SBIW R28,6
002cdf 931a      	ST   -Y,R17
002ce0 930a      	ST   -Y,R16
002ce1 01de      	MOVW R26,R28
002ce2 9614      	ADIW R26,4
002ce3 940e 341e 	CALL __ADDW2R15
002ce5 018d      	MOVW R16,R26
002ce6 e0e0      	LDI  R30,LOW(0)
002ce7 83ec      	STD  Y+4,R30
002ce8 83ed      	STD  Y+4+1,R30
002ce9 83ee      	STD  Y+6,R30
002cea 83ef      	STD  Y+6+1,R30
002ceb 01de      	MOVW R26,R28
002cec 9618      	ADIW R26,8
002ced 940e 341e 	CALL __ADDW2R15
002cef 940e 3513 	CALL __GETW1P
002cf1 93fa      	ST   -Y,R31
002cf2 93ea      	ST   -Y,R30
002cf3 931a      	ST   -Y,R17
002cf4 930a      	ST   -Y,R16
002cf5 e4ec      	LDI  R30,LOW(_put_usart_G102)
002cf6 e2fb      	LDI  R31,HIGH(_put_usart_G102)
002cf7 93fa      	ST   -Y,R31
002cf8 93ea      	ST   -Y,R30
002cf9 01fe      	MOVW R30,R28
002cfa 9638      	ADIW R30,8
002cfb 93fa      	ST   -Y,R31
002cfc 93ea      	ST   -Y,R30
002cfd de5b      	RCALL __print_G102
002cfe 8119      	LDD  R17,Y+1
002cff 8108      	LDD  R16,Y+0
002d00 9628      	ADIW R28,8
002d01 90ff      	POP  R15
002d02 9508      	RET
                 ; .FEND
                 
                 	.CSEG
                 _memcpy:
                 ; .FSTART _memcpy
002d03 8199          ldd  r25,y+1
002d04 8188          ld   r24,y
002d05 9600          adiw r24,0
002d06 f041          breq memcpy1
002d07 81bd          ldd  r27,y+5
002d08 81ac          ldd  r26,y+4
002d09 81fb          ldd  r31,y+3
002d0a 81ea          ldd  r30,y+2
                 memcpy0:
002d0b 9161          ld   r22,z+
002d0c 936d          st   x+,r22
002d0d 9701          sbiw r24,1
002d0e f7e1          brne memcpy0
                 memcpy1:
002d0f 81fd          ldd  r31,y+5
002d10 81ec          ldd  r30,y+4
002d11 9626      	ADIW R28,6
002d12 9508      	RET
                 ; .FEND
                 _strcat:
                 ; .FSTART _strcat
002d13 91e9          ld   r30,y+
002d14 91f9          ld   r31,y+
002d15 91a9          ld   r26,y+
002d16 91b9          ld   r27,y+
002d17 01cd          movw r24,r26
                 strcat0:
002d18 916d          ld   r22,x+
002d19 2366          tst  r22
002d1a f7e9          brne strcat0
002d1b 9711          sbiw r26,1
                 strcat1:
002d1c 9161          ld   r22,z+
002d1d 936d          st   x+,r22
002d1e 2366          tst  r22
002d1f f7e1          brne strcat1
002d20 01fc          movw r30,r24
002d21 9508          ret
                 ; .FEND
                 _strcatf:
                 ; .FSTART _strcatf
002d22 91e9          ld   r30,y+
002d23 91f9          ld   r31,y+
002d24 91a9          ld   r26,y+
002d25 91b9          ld   r27,y+
002d26 01cd          movw r24,r26
                 strcatf0:
002d27 916d          ld   r22,x+
002d28 2366          tst  r22
002d29 f7e9          brne strcatf0
002d2a 9711          sbiw r26,1
                 strcatf1:
002d2b 9005      	lpm  r0,z+
002d2c 920d          st   x+,r0
002d2d 2000          tst  r0
002d2e f7e1          brne strcatf1
002d2f 01fc          movw r30,r24
002d30 9508          ret
                 ; .FEND
                 _strcpyf:
                 ; .FSTART _strcpyf
002d31 91e9          ld   r30,y+
002d32 91f9          ld   r31,y+
002d33 91a9          ld   r26,y+
002d34 91b9          ld   r27,y+
002d35 01cd          movw r24,r26
                 strcpyf0:
002d36 9005      	lpm  r0,z+
002d37 920d          st   x+,r0
002d38 2000          tst  r0
002d39 f7e1          brne strcpyf0
002d3a 01fc          movw r30,r24
002d3b 9508          ret
                 ; .FEND
                 _strlen:
                 ; .FSTART _strlen
002d3c 91a9          ld   r26,y+
002d3d 91b9          ld   r27,y+
002d3e 27ee          clr  r30
002d3f 27ff          clr  r31
                 strlen0:
002d40 916d          ld   r22,x+
002d41 2366          tst  r22
002d42 f011          breq strlen1
002d43 9631          adiw r30,1
002d44 cffb          rjmp strlen0
                 strlen1:
002d45 9508          ret
                 ; .FEND
                 _strlenf:
                 ; .FSTART _strlenf
002d46 27aa          clr  r26
002d47 27bb          clr  r27
002d48 91e9          ld   r30,y+
002d49 91f9          ld   r31,y+
                 strlenf0:
002d4a 9005      	lpm  r0,z+
002d4b 2000          tst  r0
002d4c f011          breq strlenf1
002d4d 9611          adiw r26,1
002d4e cffb          rjmp strlenf0
                 strlenf1:
002d4f 01fd          movw r30,r26
002d50 9508          ret
                 ; .FEND
                 _strncmpf:
                 ; .FSTART _strncmpf
002d51 2400          clr  r0
002d52 2411          clr  r1
002d53 9169          ld   r22,y+
002d54 91e9          ld   r30,y+
002d55 91f9          ld   r31,y+
002d56 91a9          ld   r26,y+
002d57 91b9          ld   r27,y+
                 strncmpf0:
002d58 2366          tst  r22
002d59 f049          breq strncmpf1
002d5a 956a          dec  r22
002d5b 901d          ld   r1,x+
002d5c 9005      	lpm  r0,z+
002d5d 1401          cp   r0,r1
002d5e f421          brne strncmpf1
002d5f 2000          tst  r0
002d60 f7b9          brne strncmpf0
                 strncmpf3:
002d61 27ee          clr  r30
002d62 9508          ret
                 strncmpf1:
002d63 1810          sub  r1,r0
002d64 f3e1          breq strncmpf3
002d65 e0e1          ldi  r30,1
002d66 f408          brcc strncmpf2
002d67 50e2          subi r30,2
                 strncmpf2:
002d68 9508          ret
                 ; .FEND
                 _strncpy:
                 ; .FSTART _strncpy
002d69 9179          ld   r23,y+
002d6a 91e9          ld   r30,y+
002d6b 91f9          ld   r31,y+
002d6c 91a9          ld   r26,y+
002d6d 91b9          ld   r27,y+
002d6e 01cd          movw r24,r26
                 strncpy0:
002d6f 2377          tst  r23
002d70 f051          breq strncpy1
002d71 957a          dec  r23
002d72 9161          ld   r22,z+
002d73 936d          st   x+,r22
002d74 2366          tst  r22
002d75 f7c9          brne strncpy0
                 strncpy2:
002d76 2377          tst  r23
002d77 f019          breq strncpy1
002d78 957a          dec  r23
002d79 936d          st   x+,r22
002d7a cffb          rjmp strncpy2
                 strncpy1:
002d7b 01fc          movw r30,r24
002d7c 9508          ret
                 ; .FEND
                 _strpos:
                 ; .FSTART _strpos
002d7d 9169          ld   r22,y+
002d7e 91a9          ld   r26,y+
002d7f 91b9          ld   r27,y+
002d80 27ee          clr  r30
002d81 27ff          clr  r31
                 strpos0:
002d82 917d          ld   r23,x+
002d83 1767          cp   r22,r23
002d84 f029          breq strpos1
002d85 9631          adiw r30,1
002d86 2377          tst  r23
002d87 f7d1          brne strpos0
002d88 efef          ldi  r30,0xff
002d89 efff          ldi  r31,0xff
                 strpos1:
002d8a 9508          ret
                 ; .FEND
                 _strstrf:
                 ; .FSTART _strstrf
002d8b 81aa          ldd  r26,y+2
002d8c 81bb          ldd  r27,y+3
002d8d 01cd          movw r24,r26
                 strstrf0:
002d8e 81e8          ld   r30,y
002d8f 81f9          ldd  r31,y+1
                 strstrf1:
002d90 9005      	lpm  r0,z+
002d91 2000          tst  r0
002d92 f411          brne strstrf2
002d93 01fc          movw r30,r24
002d94 c009          rjmp strstrf3
                 strstrf2:
002d95 916d          ld   r22,x+
002d96 1560          cp   r22,r0
002d97 f3c1          breq strstrf1
002d98 9601          adiw r24,1
002d99 01dc          movw r26,r24
002d9a 2366          tst  r22
002d9b f791          brne strstrf0
002d9c 27ee          clr  r30
002d9d 27ff          clr  r31
                 strstrf3:
002d9e 9624      	ADIW R28,4
002d9f 9508      	RET
                 ; .FEND
                 
                 	.CSEG
                 _isdigit:
                 ; .FSTART _isdigit
002da0 e0e1          ldi  r30,1
002da1 91f9          ld   r31,y+
002da2 33f0          cpi  r31,'0'
002da3 f010          brlo isdigit0
002da4 33fa          cpi  r31,'9'+1
002da5 f008          brlo isdigit1
                 isdigit0:
002da6 27ee          clr  r30
                 isdigit1:
002da7 9508          ret
                 ; .FEND
                 _isspace:
                 ; .FSTART _isspace
002da8 e0e1          ldi  r30,1
002da9 91f9          ld   r31,y+
002daa 32f0          cpi  r31,' '
002dab f029          breq isspace1
002dac 30f9          cpi  r31,9
002dad f010          brlo isspace0
002dae 30fe          cpi  r31,13+1
002daf f008          brlo isspace1
                 isspace0:
002db0 27ee          clr  r30
                 isspace1:
002db1 9508          ret
                 ; .FEND
                 
                 	.CSEG
                 
                 	.DSEG
                 _g_txBuf:
000300           	.BYTE 0x80
                 _g_txRD:
000380           	.BYTE 0x1
                 _g_txWR:
000381           	.BYTE 0x1
                 _g_Addr:
000382           	.BYTE 0x2
                 _g_BlockSize:
000384           	.BYTE 0x4
                 _g_Operation:
000388           	.BYTE 0x1
                 _g_BlockMode:
000389           	.BYTE 0x1
                 _g_DeviceType:
00038a           	.BYTE 0x1
                 _g_DevicePollCode:
00038b           	.BYTE 0x1
                 _tmpbytes:
00038c           	.BYTE 0x20
                 _value:
0003ac           	.BYTE 0x2
                 _StandaloneMode:
0003ae           	.BYTE 0x1
                 _debug:
0003af           	.BYTE 0x1
                 _dirnum:
0003b0           	.BYTE 0x1
                 
                 	.ESEG
                 
                 	.ORG 0x5
                 _SaveDirNum:
000005           	.BYTE 0x1
                 
                 	.ORG 0x0
                 
                 	.ORG 0x6
                 _SaveLockState:
000006           	.BYTE 0x1
                 
                 	.ORG 0x0
                 
                 	.DSEG
                 _tmpimage:
0003b1           	.BYTE 0x5E
                 _g_UpSkip:
00040f           	.BYTE 0x1
                 _g_DownSkip:
000410           	.BYTE 0x1
                 _g_MaxFolders:
000411           	.BYTE 0x1
                 _fs:
000412           	.BYTE 0x2C
                 _buffer:
00043e           	.BYTE 0x200
                 _nbytes:
00063e           	.BYTE 0x2
                 _nbytesCounter:
000640           	.BYTE 0x2
                 _CounterLed:
000642           	.BYTE 0x1
                 _tx_counter:
000643           	.BYTE 0x1
                 _lcdnum:
000644           	.BYTE 0x10
                 _CanTestButtons:
000654           	.BYTE 0x1
                 _rx_buffer:
000655           	.BYTE 0x8
                 _tx_buffer:
00065d           	.BYTE 0x80
                 _adc_data:
0006dd           	.BYTE 0x1
                 _ADC_DONE:
0006de           	.BYTE 0x1
                 _g_WordCount:
0006df           	.BYTE 0x1
                 _g_Command:
0006e0           	.BYTE 0x1
                 _g_NeedParams:
0006e1           	.BYTE 0x1
                 _g_FIFO:
0006e2           	.BYTE 0x10
                 _g_wrI:
0006f2           	.BYTE 0x1
                 _g_rdI:
0006f3           	.BYTE 0x1
                 _g_FIFODataSize:
0006f4           	.BYTE 0x1
                 _pageaddr:
0006f5           	.BYTE 0x4
                 _pageBuffer:
0006f9           	.BYTE 0x100
                 _OffsetX16:
0007f9           	.BYTE 0x4
                 _Save_i:
0007fd           	.BYTE 0x1
                 _Save_cksum:
0007fe           	.BYTE 0x1
                 _Save_len:
0007ff           	.BYTE 0x1
                 _temptext:
000800           	.BYTE 0x1E
                 
                 	.ESEG
                 
                 	.ORG 0xA
                 _myimage:
00000a           	.BYTE 0x1F4
                 
                 	.ORG 0x0
                 
                 	.DSEG
                 _res:
00081e           	.BYTE 0x1
                 _path:
00081f           	.BYTE 0x13
                 _CardType_G004:
000832           	.BYTE 0x1
                 _wc_S0040007000:
000833           	.BYTE 0x2
                 _FatFs_G005:
000835           	.BYTE 0x2
                 __base_y_G100:
000837           	.BYTE 0x4
                 __lcd_x:
00083b           	.BYTE 0x1
                 __lcd_y:
00083c           	.BYTE 0x1
                 __lcd_maxx:
00083d           	.BYTE 0x1
                 __seed_G101:
00083e           	.BYTE 0x4
                 
                 	.CSEG
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:19 WORDS
                 SUBOPT_0x0:
002db2 93fa      	ST   -Y,R31
002db3 93ea      	ST   -Y,R30
002db4 91e0 03b0 	LDS  R30,_dirnum
002db6 27ff      	CLR  R31
002db7 2766      	CLR  R22
002db8 2777      	CLR  R23
002db9 940e 3530 	CALL __PUTPARD1
002dbb e084      	LDI  R24,4
002dbc 940e 2cdc 	CALL _printf
002dbe 9626      	ADIW R28,6
002dbf 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0x1:
002dc0 e0e0      	LDI  R30,LOW(0)
002dc1 93ea      	ST   -Y,R30
002dc2 93ea      	ST   -Y,R30
002dc3 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 13 TIMES, CODE SIZE REDUCTION:21 WORDS
                 SUBOPT_0x2:
002dc4 93fa      	ST   -Y,R31
002dc5 93ea      	ST   -Y,R30
002dc6 940c 2a21 	JMP  _lcd_putsf
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x3:
002dc8 ede0      	LDI  R30,LOW(2000)
002dc9 e0f7      	LDI  R31,HIGH(2000)
002dca 93fa      	ST   -Y,R31
002dcb 93ea      	ST   -Y,R30
002dcc 940c 3412 	JMP  _delay_ms
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x4:
002dce e0a5      	LDI  R26,LOW(_SaveDirNum)
002dcf e0b0      	LDI  R27,HIGH(_SaveDirNum)
002dd0 940e 354f 	CALL __EEPROMRDB
002dd2 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x5:
002dd3 e0a6      	LDI  R26,LOW(_SaveLockState)
002dd4 e0b0      	LDI  R27,HIGH(_SaveLockState)
002dd5 940e 354f 	CALL __EEPROMRDB
002dd7 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x6:
002dd8 e0e0      	LDI  R30,LOW(0)
002dd9 93ea      	ST   -Y,R30
002dda 940c 09e8 	JMP  _lcd_GetProgName
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x7:
002ddc e0e0      	LDI  R30,LOW(0)
002ddd 93ea      	ST   -Y,R30
002dde 940e 0a68 	CALL _TestButton
002de0 93e0 0654 	STS  _CanTestButtons,R30
002de2 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 13 TIMES, CODE SIZE REDUCTION:45 WORDS
                 SUBOPT_0x8:
002de3 e0ea      	LDI  R30,LOW(10)
002de4 e0f0      	LDI  R31,HIGH(10)
002de5 93fa      	ST   -Y,R31
002de6 93ea      	ST   -Y,R30
002de7 940c 3412 	JMP  _delay_ms
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x9:
002de9 91a0 0642 	LDS  R26,_CounterLed
002deb 5faf      	SUBI R26,-LOW(1)
002dec 93a0 0642 	STS  _CounterLed,R26
002dee 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:18 WORDS
                 SUBOPT_0xA:
002def 91e0 03b0 	LDS  R30,_dirnum
002df1 e0f0      	LDI  R31,0
002df2 93fa      	ST   -Y,R31
002df3 93ea      	ST   -Y,R30
002df4 e4e4      	LDI  R30,LOW(_lcdnum)
002df5 e0f6      	LDI  R31,HIGH(_lcdnum)
002df6 93fa      	ST   -Y,R31
002df7 93ea      	ST   -Y,R30
002df8 940e 2adc 	CALL _itoa
002dfa e0e0      	LDI  R30,LOW(0)
002dfb 93ea      	ST   -Y,R30
002dfc e4e4      	LDI  R30,LOW(_lcdnum)
002dfd e0f6      	LDI  R31,HIGH(_lcdnum)
002dfe 93fa      	ST   -Y,R31
002dff 93ea      	ST   -Y,R30
002e00 940e 0a55 	CALL _lcd_puts_row
                +
002e02 eeee     +LDI R30 , LOW ( 2 * _0x0 + ( 52 ) )
002e03 e0f1     +LDI R31 , HIGH ( 2 * _0x0 + ( 52 ) )
                 	__POINTW1FN _0x0,52
002e04 cfbf      	RJMP SUBOPT_0x2
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xB:
                +
002e05 ece1     +LDI R30 , LOW ( _tmpimage + ( 16 ) )
002e06 e0f3     +LDI R31 , HIGH ( _tmpimage + ( 16 ) )
                 	__POINTW1MN _tmpimage,16
002e07 93fa      	ST   -Y,R31
002e08 93ea      	ST   -Y,R30
002e09 940c 2a12 	JMP  _lcd_puts
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 25 TIMES, CODE SIZE REDUCTION:45 WORDS
                 SUBOPT_0xC:
002e0b 93fa      	ST   -Y,R31
002e0c 93ea      	ST   -Y,R30
002e0d 940c 0a42 	JMP  _lcd_putsf_row
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xD:
002e0f 931a      	ST   -Y,R17
002e10 91a0 03ae 	LDS  R26,_StandaloneMode
002e12 30a0      	CPI  R26,LOW(0x0)
002e13 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 8 TIMES, CODE SIZE REDUCTION:25 WORDS
                 SUBOPT_0xE:
002e14 e0e3      	LDI  R30,LOW(3)
002e15 93ea      	ST   -Y,R30
002e16 e0e1      	LDI  R30,LOW(1)
002e17 93ea      	ST   -Y,R30
002e18 940c 0aac 	JMP  _Beeps
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xF:
002e1a e0e1      	LDI  R30,LOW(1)
002e1b 93ea      	ST   -Y,R30
                +
002e1c efeb     +LDI R30 , LOW ( 2 * _0x0 + ( 65 ) )
002e1d e0f1     +LDI R31 , HIGH ( 2 * _0x0 + ( 65 ) )
                 	__POINTW1FN _0x0,65
002e1e cfec      	RJMP SUBOPT_0xC
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES, CODE SIZE REDUCTION:17 WORDS
                 SUBOPT_0x10:
002e1f e3e2      	LDI  R30,LOW(50)
002e20 e0f0      	LDI  R31,HIGH(50)
002e21 93fa      	ST   -Y,R31
002e22 93ea      	ST   -Y,R30
002e23 940c 3412 	JMP  _delay_ms
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x11:
002e25 93ea      	ST   -Y,R30
002e26 940e 0a68 	CALL _TestButton
002e28 30e0      	CPI  R30,0
002e29 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES, CODE SIZE REDUCTION:21 WORDS
                 SUBOPT_0x12:
002e2a e0e1      	LDI  R30,LOW(1)
002e2b 93ea      	ST   -Y,R30
002e2c 93ea      	ST   -Y,R30
002e2d 940c 0aac 	JMP  _Beeps
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:4 WORDS
                 SUBOPT_0x13:
002e2f e0e4      	LDI  R30,LOW(4)
002e30 93e0 03ae 	STS  _StandaloneMode,R30
002e32 e0e2      	LDI  R30,LOW(2)
002e33 93ea      	ST   -Y,R30
002e34 e0e1      	LDI  R30,LOW(1)
002e35 93ea      	ST   -Y,R30
002e36 940c 0aac 	JMP  _Beeps
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x14:
002e38 93e0 03ae 	STS  _StandaloneMode,R30
002e3a 9a29      	SBI  0x5,1
002e3b 9a28      	SBI  0x5,0
002e3c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x15:
002e3d 91e0 03b0 	LDS  R30,_dirnum
002e3f e0a5      	LDI  R26,LOW(_SaveDirNum)
002e40 e0b0      	LDI  R27,HIGH(_SaveDirNum)
002e41 940e 356b 	CALL __EEPROMWRB
002e43 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x16:
002e44 940e 356b 	CALL __EEPROMWRB
002e46 e0e2      	LDI  R30,LOW(2)
002e47 93ea      	ST   -Y,R30
002e48 e0e1      	LDI  R30,LOW(1)
002e49 93ea      	ST   -Y,R30
002e4a 940c 0aac 	JMP  _Beeps
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 10 TIMES, CODE SIZE REDUCTION:15 WORDS
                 SUBOPT_0x17:
002e4c 93fa      	ST   -Y,R31
002e4d 93ea      	ST   -Y,R30
002e4e 940c 3412 	JMP  _delay_ms
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0x18:
002e50 e0e2      	LDI  R30,LOW(2)
002e51 93ea      	ST   -Y,R30
002e52 e0e1      	LDI  R30,LOW(1)
002e53 93ea      	ST   -Y,R30
002e54 940c 0aac 	JMP  _Beeps
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x19:
002e56 91e0 03b0 	LDS  R30,_dirnum
002e58 e0f0      	LDI  R31,0
002e59 93fa      	ST   -Y,R31
002e5a 93ea      	ST   -Y,R30
002e5b 01fe      	MOVW R30,R28
002e5c 9638      	ADIW R30,8
002e5d 93fa      	ST   -Y,R31
002e5e 93ea      	ST   -Y,R30
002e5f 940c 2adc 	JMP  _itoa
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0x1A:
002e61 01fe      	MOVW R30,R28
002e62 9636      	ADIW R30,6
002e63 93fa      	ST   -Y,R31
002e64 93ea      	ST   -Y,R30
002e65 940c 2a12 	JMP  _lcd_puts
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0x1B:
                +
002e67 91e0 03f7+LDS R30 , _tmpimage + ( 70 )
002e69 91f0 03f8+LDS R31 , _tmpimage + ( 70 ) + 1
                 	__GETW1MN _tmpimage,70
002e6b 2766      	CLR  R22
002e6c 2777      	CLR  R23
002e6d 940e 3530 	CALL __PUTPARD1
002e6f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0x1C:
                +
002e70 91e0 03f9+LDS R30 , _tmpimage + ( 72 )
002e72 91f0 03fa+LDS R31 , _tmpimage + ( 72 ) + 1
                 	__GETW1MN _tmpimage,72
002e74 2766      	CLR  R22
002e75 2777      	CLR  R23
002e76 940e 3530 	CALL __PUTPARD1
002e78 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x1D:
002e79 93fa      	ST   -Y,R31
002e7a 93ea      	ST   -Y,R30
002e7b 940c 2a12 	JMP  _lcd_puts
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0x1E:
002e7d e0e0      	LDI  R30,LOW(0)
002e7e 93ea      	ST   -Y,R30
002e7f 81eb      	LDD  R30,Y+3
002e80 93ea      	ST   -Y,R30
002e81 940c 29d1 	JMP  _lcd_gotoxy
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0x1F:
002e83 93e0 007c 	STS  124,R30
                +
002e85 e580     +LDI R24 , LOW ( 80 )
                +__DELAY_USB_LOOP :
002e86 958a     +DEC R24
002e87 f7f1     +BRNE __DELAY_USB_LOOP
                 	__DELAY_USB 80
002e88 91e0 007a 	LDS  R30,122
002e8a 64e0      	ORI  R30,0x40
002e8b 93e0 007a 	STS  122,R30
002e8d 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x20:
002e8e 81e9      	LDD  R30,Y+1
002e8f 81fa      	LDD  R31,Y+1+1
002e90 93fa      	ST   -Y,R31
002e91 93ea      	ST   -Y,R30
002e92 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x21:
002e93 931a      	ST   -Y,R17
002e94 e0e1      	LDI  R30,LOW(1)
002e95 93ea      	ST   -Y,R30
002e96 940e 10a6 	CALL _CheckCommParams
002e98 91e0 06e1 	LDS  R30,_g_NeedParams
002e9a 30e1      	CPI  R30,LOW(0x1)
002e9b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 35 TIMES, CODE SIZE REDUCTION:133 WORDS
                 SUBOPT_0x22:
002e9c 93fa      	ST   -Y,R31
002e9d 93ea      	ST   -Y,R30
002e9e e080      	LDI  R24,0
002e9f 940e 2cdc 	CALL _printf
002ea1 9622      	ADIW R28,2
002ea2 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0x23:
002ea3 81ea      	LDD  R30,Y+2
002ea4 93ea      	ST   -Y,R30
002ea5 940e 0c8f 	CALL _ExSPI
002ea7 81e9      	LDD  R30,Y+1
002ea8 93ea      	ST   -Y,R30
002ea9 940e 0c8f 	CALL _ExSPI
002eab 81e8      	LD   R30,Y
002eac 93ea      	ST   -Y,R30
002ead 940c 0c8f 	JMP  _ExSPI
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x24:
002eaf eaec      	LDI  R30,LOW(172)
002eb0 93ea      	ST   -Y,R30
002eb1 e5e3      	LDI  R30,LOW(83)
002eb2 93ea      	ST   -Y,R30
002eb3 e0e0      	LDI  R30,LOW(0)
002eb4 93ea      	ST   -Y,R30
002eb5 940c 0cf4 	JMP  _Write123
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x25:
002eb7 e1e4      	LDI  R30,LOW(20)
002eb8 e0f0      	LDI  R31,HIGH(20)
002eb9 cf92      	RJMP SUBOPT_0x17
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 9 TIMES, CODE SIZE REDUCTION:37 WORDS
                 SUBOPT_0x26:
002eba e0e1      	LDI  R30,LOW(1)
002ebb 93ea      	ST   -Y,R30
002ebc 940e 10a6 	CALL _CheckCommParams
002ebe 91e0 06e1 	LDS  R30,_g_NeedParams
002ec0 30e1      	CPI  R30,LOW(0x1)
002ec1 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0x27:
002ec2 e0e3      	LDI  R30,LOW(3)
002ec3 93ea      	ST   -Y,R30
002ec4 940e 10a6 	CALL _CheckCommParams
002ec6 91e0 06e1 	LDS  R30,_g_NeedParams
002ec8 30e1      	CPI  R30,LOW(0x1)
002ec9 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x28:
002eca 9829      	CBI  0x5,1
002ecb 9829      	CBI  0x5,1
002ecc 940e 0ce1 	CALL _GetOneChar
002ece 2f1e      	MOV  R17,R30
002ecf 940e 0ce1 	CALL _GetOneChar
002ed1 2f0e      	MOV  R16,R30
002ed2 940e 0ce1 	CALL _GetOneChar
002ed4 2f3e      	MOV  R19,R30
002ed5 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 9 TIMES, CODE SIZE REDUCTION:13 WORDS
                 SUBOPT_0x29:
002ed6 e0e0      	LDI  R30,LOW(0)
002ed7 93ea      	ST   -Y,R30
002ed8 940c 0cf8 	JMP  _Write1234
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:4 WORDS
                 SUBOPT_0x2A:
002eda 93ea      	ST   -Y,R30
002edb 940e 0ce3 	CALL _PutOneChar
002edd e0ed      	LDI  R30,LOW(13)
002ede 93ea      	ST   -Y,R30
002edf 940e 0ce3 	CALL _PutOneChar
002ee1 cf01      	RJMP SUBOPT_0x8
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0x2B:
002ee2 e0e4      	LDI  R30,LOW(4)
002ee3 93ea      	ST   -Y,R30
002ee4 940e 10a6 	CALL _CheckCommParams
002ee6 91e0 06e1 	LDS  R30,_g_NeedParams
002ee8 30e1      	CPI  R30,LOW(0x1)
002ee9 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x2C:
002eea 9829      	CBI  0x5,1
002eeb 940e 0ce1 	CALL _GetOneChar
002eed 2f1e      	MOV  R17,R30
002eee 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:36 WORDS
                 SUBOPT_0x2D:
002eef 91e0 0383 	LDS  R30,_g_Addr+1
002ef1 70f0      	ANDI R31,HIGH(0x0)
002ef2 0fee      	LSL  R30
002ef3 0fee      	LSL  R30
002ef4 0fee      	LSL  R30
002ef5 2fae      	MOV  R26,R30
002ef6 91e0 0383 	LDS  R30,_g_Addr+1
002ef8 e0f0      	LDI  R31,0
002ef9 e0f0      	LDI  R31,0
002efa 940e 347e 	CALL __ASRW3
002efc 70e4      	ANDI R30,LOW(0x4)
002efd 2bea      	OR   R30,R26
002efe 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x2E:
002eff 93ea      	ST   -Y,R30
002f00 91e0 0382 	LDS  R30,_g_Addr
002f02 93ea      	ST   -Y,R30
002f03 931a      	ST   -Y,R17
002f04 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0x2F:
002f05 93ea      	ST   -Y,R30
002f06 91e0 0383 	LDS  R30,_g_Addr+1
002f08 70f0      	ANDI R31,HIGH(0x0)
002f09 cff5      	RJMP SUBOPT_0x2E
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:17 WORDS
                 SUBOPT_0x30:
002f0a e8a2      	LDI  R26,LOW(_g_Addr)
002f0b e0b3      	LDI  R27,HIGH(_g_Addr)
002f0c 91ed      	LD   R30,X+
002f0d 91fd      	LD   R31,X+
002f0e 9631      	ADIW R30,1
002f0f 93fe      	ST   -X,R31
002f10 93ee      	ST   -X,R30
002f11 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:4 WORDS
                 SUBOPT_0x31:
002f12 60e1      	ORI  R30,1
002f13 93ea      	ST   -Y,R30
002f14 91e0 0382 	LDS  R30,_g_Addr
002f16 93ea      	ST   -Y,R30
002f17 e0e0      	LDI  R30,LOW(0)
002f18 93ea      	ST   -Y,R30
002f19 940c 0cf4 	JMP  _Write123
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:21 WORDS
                 SUBOPT_0x32:
002f1b 93ea      	ST   -Y,R30
002f1c 91e0 0383 	LDS  R30,_g_Addr+1
002f1e 70f0      	ANDI R31,HIGH(0x0)
002f1f 93ea      	ST   -Y,R30
002f20 91e0 0382 	LDS  R30,_g_Addr
002f22 93ea      	ST   -Y,R30
002f23 cfb2      	RJMP SUBOPT_0x29
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x33:
002f24 93ea      	ST   -Y,R30
002f25 91e0 0382 	LDS  R30,_g_Addr
002f27 93ea      	ST   -Y,R30
002f28 e0e0      	LDI  R30,LOW(0)
002f29 93ea      	ST   -Y,R30
002f2a 940c 0cf4 	JMP  _Write123
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:13 WORDS
                 SUBOPT_0x34:
002f2c 9829      	CBI  0x5,1
002f2d e0e1      	LDI  R30,LOW(1)
002f2e 2eae      	MOV  R10,R30
002f2f 91a0 038a 	LDS  R26,_g_DeviceType
002f31 30a2      	CPI  R26,LOW(0x2)
002f32 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x35:
002f33 931a      	ST   -Y,R17
002f34 930a      	ST   -Y,R16
002f35 cf84      	RJMP SUBOPT_0x26
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:13 WORDS
                 SUBOPT_0x36:
002f36 9829      	CBI  0x5,1
002f37 e0e1      	LDI  R30,LOW(1)
002f38 2eae      	MOV  R10,R30
002f39 e01d      	LDI  R17,LOW(13)
002f3a 940e 0ce1 	CALL _GetOneChar
002f3c 2f0e      	MOV  R16,R30
002f3d 91a0 038a 	LDS  R26,_g_DeviceType
002f3f 30a2      	CPI  R26,LOW(0x2)
002f40 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0x37:
002f41 93ea      	ST   -Y,R30
002f42 e0e0      	LDI  R30,LOW(0)
002f43 93ea      	ST   -Y,R30
002f44 930a      	ST   -Y,R16
002f45 940c 0cf8 	JMP  _Write1234
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x38:
002f47 931a      	ST   -Y,R17
002f48 940e 0ce3 	CALL _PutOneChar
002f4a 9a29      	SBI  0x5,1
002f4b 24aa      	CLR  R10
002f4c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x39:
002f4d 940e 0ce1 	CALL _GetOneChar
002f4f 2f1e      	MOV  R17,R30
002f50 940e 0ce1 	CALL _GetOneChar
002f52 2f0e      	MOV  R16,R30
002f53 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:15 WORDS
                 SUBOPT_0x3A:
002f54 93e0 0384 	STS  _g_BlockSize,R30
002f56 93f0 0385 	STS  _g_BlockSize+1,R31
002f58 9360 0386 	STS  _g_BlockSize+2,R22
002f5a 9370 0387 	STS  _g_BlockSize+3,R23
002f5c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0x3B:
002f5d 91e0 0384 	LDS  R30,_g_BlockSize
002f5f 91f0 0385 	LDS  R31,_g_BlockSize+1
002f61 9160 0386 	LDS  R22,_g_BlockSize+2
002f63 9170 0387 	LDS  R23,_g_BlockSize+3
002f65 940e 348e 	CALL __LSRD1
002f67 cfec      	RJMP SUBOPT_0x3A
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x3C:
002f68 e8a4      	LDI  R26,LOW(_g_BlockSize)
002f69 e0b3      	LDI  R27,HIGH(_g_BlockSize)
002f6a 940e 351d 	CALL __GETD1P_INC
002f6c 9731      	SBIW R30,1
002f6d 4060      	SBCI R22,0
002f6e 4070      	SBCI R23,0
002f6f 940e 3527 	CALL __PUTDP1_DEC
002f71 940e 357c 	CALL __CPD10
002f73 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x3D:
002f74 2766      	CLR  R22
002f75 2777      	CLR  R23
002f76 940e 343b 	CALL __ORD12
002f78 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:4 WORDS
                 SUBOPT_0x3E:
002f79 e8a4      	LDI  R26,LOW(_g_BlockSize)
002f7a e0b3      	LDI  R27,HIGH(_g_BlockSize)
002f7b 940e 351d 	CALL __GETD1P_INC
002f7d 9731      	SBIW R30,1
002f7e 4060      	SBCI R22,0
002f7f 4070      	SBCI R23,0
002f80 940e 3527 	CALL __PUTDP1_DEC
002f82 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 50 TIMES, CODE SIZE REDUCTION:144 WORDS
                 SUBOPT_0x3F:
002f83 27ff      	CLR  R31
002f84 2766      	CLR  R22
002f85 2777      	CLR  R23
002f86 940e 3530 	CALL __PUTPARD1
002f88 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0x40:
002f89 e08c      	LDI  R24,12
002f8a 940e 2cdc 	CALL _printf
002f8c 962e      	ADIW R28,14
002f8d 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 48 TIMES, CODE SIZE REDUCTION:91 WORDS
                 SUBOPT_0x41:
002f8e e084      	LDI  R24,4
002f8f 940e 2cdc 	CALL _printf
002f91 9626      	ADIW R28,6
002f92 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 25 TIMES, CODE SIZE REDUCTION:45 WORDS
                 SUBOPT_0x42:
002f93 93fa      	ST   -Y,R31
002f94 93ea      	ST   -Y,R30
002f95 940c 10b1 	JMP  _error
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x43:
002f97 940e 349d 	CALL __CBD1
002f99 940e 3530 	CALL __PUTPARD1
002f9b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 18 TIMES, CODE SIZE REDUCTION:65 WORDS
                 SUBOPT_0x44:
002f9c 2766      	CLR  R22
002f9d 2777      	CLR  R23
002f9e 940e 3530 	CALL __PUTPARD1
002fa0 cfed      	RJMP SUBOPT_0x41
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x45:
002fa1 93fa      	ST   -Y,R31
002fa2 93ea      	ST   -Y,R30
                +
002fa3 efec     +LDI R30 , LOW ( _tmpimage + ( 75 ) )
002fa4 e0f3     +LDI R31 , HIGH ( _tmpimage + ( 75 ) )
                 	__POINTW1MN _tmpimage,75
002fa5 cff6      	RJMP SUBOPT_0x44
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x46:
002fa6 e180      	LDI  R24,16
002fa7 940e 2cdc 	CALL _printf
002fa9 9662      	ADIW R28,18
002faa 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0x47:
                +
002fab 91e0 03f1+LDS R30 , _tmpimage + ( 64 )
002fad 91f0 03f2+LDS R31 , _tmpimage + ( 64 ) + 1
002faf 9160 03f3+LDS R22 , _tmpimage + ( 64 ) + 2
002fb1 9170 03f4+LDS R23 , _tmpimage + ( 64 ) + 3
                 	__GETD1MN _tmpimage,64
002fb3 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x48:
002fb4 940e 3530 	CALL __PUTPARD1
002fb6 cfd7      	RJMP SUBOPT_0x41
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x49:
002fb7 93fa      	ST   -Y,R31
002fb8 93ea      	ST   -Y,R30
                +
002fb9 91e0 03f5+LDS R30 , _tmpimage + ( 68 )
002fbb 91f0 03f6+LDS R31 , _tmpimage + ( 68 ) + 1
                 	__GETW1MN _tmpimage,68
002fbd 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 13 TIMES, CODE SIZE REDUCTION:33 WORDS
                 SUBOPT_0x4A:
002fbe 91e0 03b0 	LDS  R30,_dirnum
002fc0 e0a5      	LDI  R26,LOW(5)
002fc1 9fea      	MUL  R30,R26
002fc2 01f0      	MOVW R30,R0
002fc3 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0x4B:
002fc4 5fe6      	SUBI R30,LOW(-_myimage)
002fc5 4fff      	SBCI R31,HIGH(-_myimage)
002fc6 01df      	MOVW R26,R30
002fc7 940e 3547 	CALL __EEPROMRDD
002fc9 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 10 TIMES, CODE SIZE REDUCTION:15 WORDS
                 SUBOPT_0x4C:
002fca 93fa      	ST   -Y,R31
002fcb 93ea      	ST   -Y,R30
002fcc 940c 0ade 	JMP  _AVR910_Standalone
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:11 WORDS
                 SUBOPT_0x4D:
002fce 93fa      	ST   -Y,R31
002fcf 93ea      	ST   -Y,R30
002fd0 940e 1f05 	CALL _GetConfigValue
002fd2 93e0 03ac 	STS  _value,R30
002fd4 93f0 03ad 	STS  _value+1,R31
002fd6 9730      	SBIW R30,0
002fd7 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES, CODE SIZE REDUCTION:27 WORDS
                 SUBOPT_0x4E:
002fd8 91e0 03ac 	LDS  R30,_value
002fda 91f0 03ad 	LDS  R31,_value+1
002fdc 93fa      	ST   -Y,R31
002fdd 93ea      	ST   -Y,R30
002fde 940c 2a63 	JMP  _atoi
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x4F:
                +
002fe0 5fe2     +SUBI R30 , LOW ( - _myimage - ( 4 ) )
002fe1 4fff     +SBCI R31 , HIGH ( - _myimage - ( 4 ) )
                 	__ADDW1MN _myimage,4
002fe2 01df      	MOVW R26,R30
002fe3 940e 354f 	CALL __EEPROMRDB
002fe5 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x50:
002fe6 93fa      	ST   -Y,R31
002fe7 93ea      	ST   -Y,R30
002fe8 e3ee      	LDI  R30,LOW(_buffer)
002fe9 e0f4      	LDI  R31,HIGH(_buffer)
002fea 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 9 TIMES, CODE SIZE REDUCTION:53 WORDS
                 SUBOPT_0x51:
002feb 93fa      	ST   -Y,R31
002fec 93ea      	ST   -Y,R30
002fed 940e 1e0c 	CALL _GetValue
002fef 93e0 03ac 	STS  _value,R30
002ff1 93f0 03ad 	STS  _value+1,R31
002ff3 9730      	SBIW R30,0
002ff4 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:4 WORDS
                 SUBOPT_0x52:
002ff5 5fe6      	SUBI R30,LOW(-_myimage)
002ff6 4fff      	SBCI R31,HIGH(-_myimage)
002ff7 01df      	MOVW R26,R30
                +
002ff8 e0e0     +LDI R30 , LOW ( 0x0 )
002ff9 e0f0     +LDI R31 , HIGH ( 0x0 )
002ffa e060     +LDI R22 , BYTE3 ( 0x0 )
002ffb e070     +LDI R23 , BYTE4 ( 0x0 )
                 	__GETD1N 0x0
002ffc 940e 355b 	CALL __EEPROMWRD
002ffe 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:4 WORDS
                 SUBOPT_0x53:
002fff 5fe6      	SUBI R30,LOW(-_myimage)
003000 4fff      	SBCI R31,HIGH(-_myimage)
003001 01df      	MOVW R26,R30
003002 940e 354b 	CALL __EEPROMRDW
                +
003004 93e0 03f7+STS _tmpimage + ( 70 ) , R30
003006 93f0 03f8+STS _tmpimage + ( 70 ) + 1 , R31
                 	__PUTW1MN _tmpimage,70
003008 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x54:
003009 91e0 03ac 	LDS  R30,_value
00300b 91f0 03ad 	LDS  R31,_value+1
00300d 93fa      	ST   -Y,R31
00300e 93ea      	ST   -Y,R30
00300f 940c 2a98 	JMP  _atol
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0x55:
003011 91e0 03ac 	LDS  R30,_value
003013 91f0 03ad 	LDS  R31,_value+1
003015 93fa      	ST   -Y,R31
003016 93ea      	ST   -Y,R30
003017 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0x56:
                +
003018 eeed     +LDI R30 , LOW ( _tmpimage + ( 60 ) )
003019 e0f3     +LDI R31 , HIGH ( _tmpimage + ( 60 ) )
                 	__POINTW1MN _tmpimage,60
00301a 93fa      	ST   -Y,R31
00301b 93ea      	ST   -Y,R30
00301c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x57:
00301d e0e4      	LDI  R30,LOW(4)
00301e 93ea      	ST   -Y,R30
00301f 940c 111f 	JMP  _hextobytes
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x58:
                +
003021 eee9     +LDI R30 , LOW ( _tmpimage + ( 56 ) )
003022 e0f3     +LDI R31 , HIGH ( _tmpimage + ( 56 ) )
                 	__POINTW1MN _tmpimage,56
003023 93fa      	ST   -Y,R31
003024 93ea      	ST   -Y,R30
003025 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x59:
                +
003026 eee5     +LDI R30 , LOW ( _tmpimage + ( 52 ) )
003027 e0f3     +LDI R31 , HIGH ( _tmpimage + ( 52 ) )
                 	__POINTW1MN _tmpimage,52
003028 93fa      	ST   -Y,R31
003029 93ea      	ST   -Y,R30
00302a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0x5A:
00302b 93fa      	ST   -Y,R31
00302c 93ea      	ST   -Y,R30
00302d 940e 1e0c 	CALL _GetValue
00302f 93e0 03ac 	STS  _value,R30
003031 93f0 03ad 	STS  _value+1,R31
003033 93fa      	ST   -Y,R31
003034 93ea      	ST   -Y,R30
003035 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x5B:
                +
003036 91e0 0301+LDS R30 , _g_txBuf + ( 1 )
                 	__GETB1MN _g_txBuf,1
003038 cf4a      	RJMP SUBOPT_0x3F
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x5C:
003039 91e0 0300 	LDS  R30,_g_txBuf
00303b cf47      	RJMP SUBOPT_0x3F
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x5D:
00303c 93ea      	ST   -Y,R30
00303d 940e 106e 	CALL _FIFO_Write
00303f 940c 0b0b 	JMP  _AVR910_Command
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0x5E:
003041 91a0 06f5 	LDS  R26,_pageaddr
003043 91b0 06f6 	LDS  R27,_pageaddr+1
003045 9180 06f7 	LDS  R24,_pageaddr+2
003047 9190 06f8 	LDS  R25,_pageaddr+3
003049 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x5F:
                +
00304a 91e0 03f5+LDS R30 , _tmpimage + ( 68 )
00304c 91f0 03f6+LDS R31 , _tmpimage + ( 68 ) + 1
                 	__GETW1MN _tmpimage,68
00304e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 9 TIMES, CODE SIZE REDUCTION:13 WORDS
                 SUBOPT_0x60:
00304f 2766      	CLR  R22
003050 2777      	CLR  R23
003051 940e 3422 	CALL __ADDD12
003053 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x61:
003054 2788      	CLR  R24
003055 2799      	CLR  R25
003056 940e 3586 	CALL __CPD12
003058 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:13 WORDS
                 SUBOPT_0x62:
003059 940e 3530 	CALL __PUTPARD1
00305b e088      	LDI  R24,8
00305c 940e 2cdc 	CALL _printf
00305e 962a      	ADIW R28,10
00305f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x63:
                +
003060 5fef     +SUBI R30 , LOW ( - 1 )
003061 4fff     +SBCI R31 , HIGH ( - 1 )
003062 4f6f     +SBCI R22 , BYTE3 ( - 1 )
003063 4f7f     +SBCI R23 , BYTE4 ( - 1 )
                 	__SUBD1N -1
003064 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 56 TIMES, CODE SIZE REDUCTION:162 WORDS
                 SUBOPT_0x64:
003065 940e 10de 	CALL _hextext_read_byte
003067 93ea      	ST   -Y,R30
003068 940c 10e1 	JMP  _hexton
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 13 TIMES, CODE SIZE REDUCTION:21 WORDS
                 SUBOPT_0x65:
00306a 2f5e      	MOV  R21,R30
00306b 95e2      	SWAP R30
00306c 7fe0      	ANDI R30,0xF0
00306d 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x66:
00306e 0fea      	ADD  R30,R26
00306f 2f5e      	MOV  R21,R30
003070 0f45      	ADD  R20,R21
003071 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x67:
                +
003072 83ef     +STD Y + 7 , R30
003073 87f8     +STD Y + 7 + 1 , R31
003074 8769     +STD Y + 7 + 2 , R22
003075 877a     +STD Y + 7 + 3 , R23
                 	__PUTD1S 7
003076 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x68:
                +
003077 81af     +LDD R26 , Y + 7
003078 85b8     +LDD R27 , Y + 7 + 1
003079 8589     +LDD R24 , Y + 7 + 2
00307a 859a     +LDD R25 , Y + 7 + 3
                 	__GETD2S 7
00307b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0x69:
00307c 940e 34a3 	CALL __CWD1
00307e 940e 3422 	CALL __ADDD12
003080 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x6A:
003081 91e0 07f9 	LDS  R30,_OffsetX16
003083 91f0 07fa 	LDS  R31,_OffsetX16+1
003085 9160 07fb 	LDS  R22,_OffsetX16+2
003087 9170 07fc 	LDS  R23,_OffsetX16+3
003089 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x6B:
00308a e0f0      	LDI  R31,0
00308b 940e 34a3 	CALL __CWD1
00308d 01df      	MOVW R26,R30
00308e 01cb      	MOVW R24,R22
00308f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:8 WORDS
                 SUBOPT_0x6C:
003090 e0ec      	LDI  R30,LOW(12)
003091 940e 345d 	CALL __LSLD12
003093 93e0 07f9 	STS  _OffsetX16,R30
003095 93f0 07fa 	STS  _OffsetX16+1,R31
003097 9360 07fb 	STS  _OffsetX16+2,R22
003099 9370 07fc 	STS  _OffsetX16+3,R23
00309b cfc9      	RJMP SUBOPT_0x64
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:18 WORDS
                 SUBOPT_0x6D:
00309c e0e4      	LDI  R30,LOW(4)
00309d 940e 345d 	CALL __LSLD12
00309f 91a0 07f9 	LDS  R26,_OffsetX16
0030a1 91b0 07fa 	LDS  R27,_OffsetX16+1
0030a3 9180 07fb 	LDS  R24,_OffsetX16+2
0030a5 9190 07fc 	LDS  R25,_OffsetX16+3
0030a7 940e 343b 	CALL __ORD12
0030a9 93e0 07f9 	STS  _OffsetX16,R30
0030ab 93f0 07fa 	STS  _OffsetX16+1,R31
0030ad 9360 07fb 	STS  _OffsetX16+2,R22
0030af 9370 07fc 	STS  _OffsetX16+3,R23
0030b1 cfb3      	RJMP SUBOPT_0x64
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x6E:
0030b2 0fea      	ADD  R30,R26
0030b3 2f5e      	MOV  R21,R30
0030b4 0f45      	ADD  R20,R21
0030b5 3040      	CPI  R20,0
0030b6 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0x6F:
                +
0030b7 eaef     +LDI R30 , LOW ( 2 * _0x40000 + ( 1567 ) )
0030b8 e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1567 ) )
                 	__POINTW1FN _0x40000,1567
0030b9 ced9      	RJMP SUBOPT_0x42
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 12 TIMES, CODE SIZE REDUCTION:19 WORDS
                 SUBOPT_0x70:
                +
0030ba ebee     +LDI R30 , LOW ( 2 * _0x40000 + ( 1582 ) )
0030bb e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1582 ) )
                 	__POINTW1FN _0x40000,1582
0030bc ced6      	RJMP SUBOPT_0x42
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x71:
0030bd 0fea      	ADD  R30,R26
0030be 2f5e      	MOV  R21,R30
0030bf 0f45      	ADD  R20,R21
0030c0 cfa4      	RJMP SUBOPT_0x64
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 13 TIMES, CODE SIZE REDUCTION:21 WORDS
                 SUBOPT_0x72:
0030c1 2f0e      	MOV  R16,R30
0030c2 95e2      	SWAP R30
0030c3 7fe0      	ANDI R30,0xF0
0030c4 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x73:
0030c5 0fea      	ADD  R30,R26
0030c6 2f0e      	MOV  R16,R30
0030c7 0f30      	ADD  R19,R16
0030c8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0x74:
                +
0030c9 83ec     +STD Y + 4 , R30
0030ca 83fd     +STD Y + 4 + 1 , R31
0030cb 836e     +STD Y + 4 + 2 , R22
0030cc 837f     +STD Y + 4 + 3 , R23
                 	__PUTD1S 4
0030cd 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0x75:
                +
0030ce 81ac     +LDD R26 , Y + 4
0030cf 81bd     +LDD R27 , Y + 4 + 1
0030d0 818e     +LDD R24 , Y + 4 + 2
0030d1 819f     +LDD R25 , Y + 4 + 3
                 	__GETD2S 4
0030d2 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x76:
0030d3 0fea      	ADD  R30,R26
0030d4 2f0e      	MOV  R16,R30
0030d5 0f30      	ADD  R19,R16
0030d6 3030      	CPI  R19,0
0030d7 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x77:
0030d8 0fea      	ADD  R30,R26
0030d9 2f0e      	MOV  R16,R30
0030da 0f30      	ADD  R19,R16
0030db cf89      	RJMP SUBOPT_0x64
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0x78:
                +
0030dc 81ec     +LDD R30 , Y + 4
0030dd 81fd     +LDD R31 , Y + 4 + 1
0030de 816e     +LDD R22 , Y + 4 + 2
0030df 817f     +LDD R23 , Y + 4 + 3
                 	__GETD1S 4
0030e0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0x79:
                +
0030e1 eee7     +LDI R30 , LOW ( 2 * _0x40000 + ( 1623 ) )
0030e2 e0f8     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1623 ) )
                 	__POINTW1FN _0x40000,1623
0030e3 93fa      	ST   -Y,R31
0030e4 93ea      	ST   -Y,R30
                +
0030e5 81ee     +LDD R30 , Y + 6
0030e6 81ff     +LDD R31 , Y + 6 + 1
0030e7 8568     +LDD R22 , Y + 6 + 2
0030e8 8579     +LDD R23 , Y + 6 + 3
                 	__GETD1S 6
0030e9 ceca      	RJMP SUBOPT_0x48
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0x7A:
                +
0030ea e0ea     +LDI R30 , LOW ( 2 * _0x40000 + ( 1658 ) )
0030eb e0f9     +LDI R31 , HIGH ( 2 * _0x40000 + ( 1658 ) )
                 	__POINTW1FN _0x40000,1658
0030ec 93fa      	ST   -Y,R31
0030ed 93ea      	ST   -Y,R30
0030ee 2fe0      	MOV  R30,R16
0030ef ce93      	RJMP SUBOPT_0x3F
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES, CODE SIZE REDUCTION:15 WORDS
                 SUBOPT_0x7B:
0030f0 9631      	ADIW R30,1
0030f1 93fa      	ST   -Y,R31
0030f2 93ea      	ST   -Y,R30
0030f3 940c 10da 	JMP  _pgm_read_byte
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x7C:
0030f5 2bea      	OR   R30,R26
0030f6 2f1e      	MOV  R17,R30
0030f7 81e9      	LDD  R30,Y+1
0030f8 81fa      	LDD  R31,Y+1+1
0030f9 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 8 TIMES, CODE SIZE REDUCTION:18 WORDS
                 SUBOPT_0x7D:
0030fa 93fa      	ST   -Y,R31
0030fb 93ea      	ST   -Y,R30
0030fc 2fe1      	MOV  R30,R17
0030fd ce85      	RJMP SUBOPT_0x3F
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:21 WORDS
                 SUBOPT_0x7E:
0030fe 93ea      	ST   -Y,R30
0030ff 940e 106e 	CALL _FIFO_Write
003101 931a      	ST   -Y,R17
003102 940e 106e 	CALL _FIFO_Write
003104 940e 0b0b 	CALL _AVR910_Command
003106 940c 0c4d 	JMP  _AVR910_ResetTXData
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES, CODE SIZE REDUCTION:15 WORDS
                 SUBOPT_0x7F:
003108 9632      	ADIW R30,2
003109 93fa      	ST   -Y,R31
00310a 93ea      	ST   -Y,R30
00310b 940c 10da 	JMP  _pgm_read_byte
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES, CODE SIZE REDUCTION:15 WORDS
                 SUBOPT_0x80:
00310d 9633      	ADIW R30,3
00310e 93fa      	ST   -Y,R31
00310f 93ea      	ST   -Y,R30
003110 940c 10da 	JMP  _pgm_read_byte
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0x81:
003112 93fa      	ST   -Y,R31
003113 93ea      	ST   -Y,R30
003114 940c 10da 	JMP  _pgm_read_byte
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x82:
003116 81ea      	LDD  R30,Y+2
003117 81fb      	LDD  R31,Y+2+1
003118 cfd7      	RJMP SUBOPT_0x7B
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x83:
003119 95e0      	COM  R30
00311a 2b0e      	OR   R16,R30
00311b 91e0 03af 	LDS  R30,_debug
00311d 30e0      	CPI  R30,0
00311e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x84:
00311f 93fa      	ST   -Y,R31
003120 93ea      	ST   -Y,R30
003121 2fe0      	MOV  R30,R16
003122 ce60      	RJMP SUBOPT_0x3F
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x85:
003123 81ea      	LDD  R30,Y+2
003124 81fb      	LDD  R31,Y+2+1
003125 cfe2      	RJMP SUBOPT_0x7F
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x86:
003126 81ea      	LDD  R30,Y+2
003127 81fb      	LDD  R31,Y+2+1
003128 cfe4      	RJMP SUBOPT_0x80
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x87:
003129 81ea      	LDD  R30,Y+2
00312a 81fb      	LDD  R31,Y+2+1
00312b cfe6      	RJMP SUBOPT_0x81
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x88:
00312c efef      	LDI  R30,LOW(255)
00312d 93e0 0085 	STS  133,R30
00312f e8eb      	LDI  R30,LOW(139)
003130 93e0 0084 	STS  132,R30
003132 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:4 WORDS
                 SUBOPT_0x89:
003133 e1a8      	LDI  R26,LOW(_error_msg*2)
003134 e0b1      	LDI  R27,HIGH(_error_msg*2)
003135 e0f0      	LDI  R31,0
003136 0fee      	LSL  R30
003137 1fff      	ROL  R31
003138 0fea      	ADD  R30,R26
003139 1ffb      	ADC  R31,R27
00313a 940e 352c 	CALL __GETW1PF
00313c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x8A:
00313d 2766      	CLR  R22
00313e 2777      	CLR  R23
00313f cf19      	RJMP SUBOPT_0x62
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0x8B:
003140 91e0 081e 	LDS  R30,_res
003142 93ea      	ST   -Y,R30
003143 940c 1c1f 	JMP  _RESerror
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 8 TIMES, CODE SIZE REDUCTION:11 WORDS
                 SUBOPT_0x8C:
003145 91e0 063e 	LDS  R30,_nbytes
003147 91f0 063f 	LDS  R31,_nbytes+1
003149 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x8D:
00314a 5ce2      	SUBI R30,LOW(-_buffer)
00314b 4ffb      	SBCI R31,HIGH(-_buffer)
00314c e0a0      	LDI  R26,LOW(0)
00314d 83a0      	STD  Z+0,R26
00314e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x8E:
                +
00314f 91e0 040d+LDS R30 , _tmpimage + ( 92 )
                 	__GETB1MN _tmpimage,92
003151 e0f0      	LDI  R31,0
003152 9635      	ADIW R30,5
003153 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 9 TIMES, CODE SIZE REDUCTION:13 WORDS
                 SUBOPT_0x8F:
003154 e3ee      	LDI  R30,LOW(_buffer)
003155 e0f4      	LDI  R31,HIGH(_buffer)
003156 93fa      	ST   -Y,R31
003157 93ea      	ST   -Y,R30
003158 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:10 WORDS
                 SUBOPT_0x90:
003159 e0e0      	LDI  R30,LOW(512)
00315a e0f2      	LDI  R31,HIGH(512)
00315b 93fa      	ST   -Y,R31
00315c 93ea      	ST   -Y,R30
00315d e3ee      	LDI  R30,LOW(_nbytes)
00315e e0f6      	LDI  R31,HIGH(_nbytes)
00315f 93fa      	ST   -Y,R31
003160 93ea      	ST   -Y,R30
003161 940e 26d3 	CALL _pf_read
003163 93e0 081e 	STS  _res,R30
003165 30e0      	CPI  R30,0
003166 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0x91:
003167 93fa      	ST   -Y,R31
003168 93ea      	ST   -Y,R30
003169 85e8      	LDD  R30,Y+8
00316a 85f9      	LDD  R31,Y+8+1
00316b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x92:
00316c 93fa      	ST   -Y,R31
00316d 93ea      	ST   -Y,R30
                +
00316e e8e4     +LDI R30 , LOW ( 2 * _0x60000 + ( 418 ) )
00316f e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 418 ) )
                 	__POINTW1FN _0x60000,418
003170 93fa      	ST   -Y,R31
003171 93ea      	ST   -Y,R30
003172 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x93:
                +
003173 e8e4     +LDI R30 , LOW ( 2 * _0x60000 + ( 418 ) )
003174 e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 418 ) )
                 	__POINTW1FN _0x60000,418
003175 93fa      	ST   -Y,R31
003176 93ea      	ST   -Y,R30
003177 940c 2d46 	JMP  _strlenf
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0x94:
003179 93fa      	ST   -Y,R31
00317a 93ea      	ST   -Y,R30
00317b 01fa      	MOVW R30,R20
00317c 2766      	CLR  R22
00317d 2777      	CLR  R23
00317e 940e 3530 	CALL __PUTPARD1
003180 e8ac      	LDI  R26,LOW(_tmpbytes)
003181 e0b3      	LDI  R27,HIGH(_tmpbytes)
003182 0fa4      	ADD  R26,R20
003183 1fb5      	ADC  R27,R21
003184 91ec      	LD   R30,X
003185 cdfd      	RJMP SUBOPT_0x3F
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x95:
003186 e3ae      	LDI  R26,LOW(_buffer)
003187 e0b4      	LDI  R27,HIGH(_buffer)
003188 0fa4      	ADD  R26,R20
003189 1fb5      	ADC  R27,R21
00318a 91ec      	LD   R30,X
00318b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x96:
00318c e8ac      	LDI  R26,LOW(_tmpbytes)
00318d e0b3      	LDI  R27,HIGH(_tmpbytes)
00318e 0fa4      	ADD  R26,R20
00318f 1fb5      	ADC  R27,R21
003190 91ec      	LD   R30,X
003191 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0x97:
003192 1fee      	ROL  R30
003193 e0e0      	LDI  R30,0
003194 1fee      	ROL  R30
003195 29e0      	OR   R30,R0
003196 01db      	MOVW R26,R22
003197 93ec      	ST   X,R30
003198 01fa      	MOVW R30,R20
003199 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:12 WORDS
                 SUBOPT_0x98:
00319a 5ce2      	SUBI R30,LOW(-_buffer)
00319b 4ffb      	SBCI R31,HIGH(-_buffer)
00319c 01bf      	MOVW R22,R30
00319d 8000      	LD   R0,Z
                +
00319e 91e0 040d+LDS R30 , _tmpimage + ( 92 )
                 	__GETB1MN _tmpimage,92
0031a0 e0f0      	LDI  R31,0
0031a1 e3af      	LDI  R26,LOW(63)
0031a2 e0b0      	LDI  R27,HIGH(63)
0031a3 940e 3505 	CALL __MANDW12
0031a5 52e8      	SUBI R30,LOW(-_roll*2)
0031a6 4fff      	SBCI R31,HIGH(-_roll*2)
0031a7 91e4      	LPM  R30,Z
0031a8 25e0      	EOR  R30,R0
0031a9 01db      	MOVW R26,R22
0031aa 93ec      	ST   X,R30
0031ab 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x99:
0031ac 93fa      	ST   -Y,R31
0031ad 93ea      	ST   -Y,R30
0031ae 940e 2d8b 	CALL _strstrf
0031b0 019f      	MOVW R18,R30
0031b1 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:28 WORDS
                 SUBOPT_0x9A:
0031b2 93fa      	ST   -Y,R31
0031b3 93ea      	ST   -Y,R30
0031b4 940e 2d46 	CALL _strlenf
0031b6 9631      	ADIW R30,1
0031b7 0fe2      	ADD  R30,R18
0031b8 1ff3      	ADC  R31,R19
0031b9 018f      	MOVW R16,R30
0031ba e8ec      	LDI  R30,LOW(_tmpbytes)
0031bb e0f3      	LDI  R31,HIGH(_tmpbytes)
0031bc 93fa      	ST   -Y,R31
0031bd 93ea      	ST   -Y,R30
0031be 931a      	ST   -Y,R17
0031bf 930a      	ST   -Y,R16
0031c0 e2e0      	LDI  R30,LOW(32)
0031c1 93ea      	ST   -Y,R30
0031c2 940e 2d69 	CALL _strncpy
                +
0031c4 e80c     +LDI R16 , LOW ( _tmpbytes )
0031c5 e013     +LDI R17 , HIGH ( _tmpbytes )
                 	__POINTWRM 16,17,_tmpbytes
0031c6 931a      	ST   -Y,R17
0031c7 930a      	ST   -Y,R16
0031c8 e0ed      	LDI  R30,LOW(13)
0031c9 93ea      	ST   -Y,R30
0031ca 940e 2d7d 	CALL _strpos
0031cc 0fe0      	ADD  R30,R16
0031cd 1ff1      	ADC  R31,R17
0031ce e0a0      	LDI  R26,LOW(0)
0031cf 83a0      	STD  Z+0,R26
0031d0 91e0 03af 	LDS  R30,_debug
0031d2 30e0      	CPI  R30,0
0031d3 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x9B:
0031d4 940e 3592 	CALL __SAVELOCR4
                +
0031d6 e000     +LDI R16 , LOW ( 0 )
0031d7 e010     +LDI R17 , HIGH ( 0 )
                 	__GETWRN 16,17,0
0031d8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0x9C:
                +
0031d9 eee9     +LDI R30 , LOW ( 2 * _0x60000 + ( 519 ) )
0031da e0fc     +LDI R31 , HIGH ( 2 * _0x60000 + ( 519 ) )
                 	__POINTW1FN _0x60000,519
0031db 93fa      	ST   -Y,R31
0031dc 93ea      	ST   -Y,R30
0031dd 81ee      	LDD  R30,Y+6
0031de 81ff      	LDD  R31,Y+6+1
0031df cdbc      	RJMP SUBOPT_0x44
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0x9D:
0031e0 93fa      	ST   -Y,R31
0031e1 93ea      	ST   -Y,R30
0031e2 81ee      	LDD  R30,Y+6
0031e3 81ff      	LDD  R31,Y+6+1
0031e4 2766      	CLR  R22
0031e5 2777      	CLR  R23
0031e6 940e 3530 	CALL __PUTPARD1
0031e8 01f8      	MOVW R30,R16
0031e9 cf53      	RJMP SUBOPT_0x8A
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 10 TIMES, CODE SIZE REDUCTION:15 WORDS
                 SUBOPT_0x9E:
0031ea e1ef      	LDI  R30,LOW(_path)
0031eb e0f8      	LDI  R31,HIGH(_path)
0031ec 93fa      	ST   -Y,R31
0031ed 93ea      	ST   -Y,R30
0031ee 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0x9F:
0031ef 93fa      	ST   -Y,R31
0031f0 93ea      	ST   -Y,R30
0031f1 940c 2d31 	JMP  _strcpyf
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xA0:
0031f3 e8ec      	LDI  R30,LOW(_tmpbytes)
0031f4 e0f3      	LDI  R31,HIGH(_tmpbytes)
0031f5 93fa      	ST   -Y,R31
0031f6 93ea      	ST   -Y,R30
0031f7 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xA1:
0031f8 940e 267e 	CALL _pf_open
0031fa 93e0 081e 	STS  _res,R30
0031fc 30e0      	CPI  R30,0
0031fd 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0xA2:
                +
0031fe e1e7     +LDI R30 , LOW ( 2 * _0x60000 + ( 565 ) )
0031ff e0fd     +LDI R31 , HIGH ( 2 * _0x60000 + ( 565 ) )
                 	__POINTW1FN _0x60000,565
003200 93fa      	ST   -Y,R31
003201 93ea      	ST   -Y,R30
003202 e1ef      	LDI  R30,LOW(_path)
003203 e0f8      	LDI  R31,HIGH(_path)
003204 cd97      	RJMP SUBOPT_0x44
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:33 WORDS
                 SUBOPT_0xA3:
                +
003205 e0e0     +LDI R30 , LOW ( 0x0 )
003206 e0f0     +LDI R31 , HIGH ( 0x0 )
003207 e060     +LDI R22 , BYTE3 ( 0x0 )
003208 e070     +LDI R23 , BYTE4 ( 0x0 )
                 	__GETD1N 0x0
003209 940e 3530 	CALL __PUTPARD1
00320b 940e 28c8 	CALL _pf_lseek
00320d 93e0 081e 	STS  _res,R30
00320f 30e0      	CPI  R30,0
003210 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xA4:
                +
003211 e2ee     +LDI R30 , LOW ( 2 * _0x60000 + ( 588 ) )
003212 e0fd     +LDI R31 , HIGH ( 2 * _0x60000 + ( 588 ) )
                 	__POINTW1FN _0x60000,588
003213 93fa      	ST   -Y,R31
003214 93ea      	ST   -Y,R30
003215 e1ef      	LDI  R30,LOW(_path)
003216 e0f8      	LDI  R31,HIGH(_path)
003217 cd84      	RJMP SUBOPT_0x44
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:8 WORDS
                 SUBOPT_0xA5:
003218 efef      	LDI  R30,LOW(511)
003219 e0f1      	LDI  R31,HIGH(511)
00321a 93fa      	ST   -Y,R31
00321b 93ea      	ST   -Y,R30
00321c e3ee      	LDI  R30,LOW(_nbytes)
00321d e0f6      	LDI  R31,HIGH(_nbytes)
00321e 93fa      	ST   -Y,R31
00321f 93ea      	ST   -Y,R30
003220 940e 26d3 	CALL _pf_read
003222 93e0 081e 	STS  _res,R30
003224 30e0      	CPI  R30,0
003225 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0xA6:
003226 81ec      	LDD  R30,Y+4
003227 81fd      	LDD  R31,Y+4+1
003228 93fa      	ST   -Y,R31
003229 93ea      	ST   -Y,R30
00322a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xA7:
00322b 940e 2d46 	CALL _strlenf
00322d 9631      	ADIW R30,1
00322e 0fe2      	ADD  R30,R18
00322f 1ff3      	ADC  R31,R19
003230 018f      	MOVW R16,R30
003231 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0xA8:
003232 93fa      	ST   -Y,R31
003233 93ea      	ST   -Y,R30
003234 e3ee      	LDI  R30,LOW(_nbytes)
003235 e0f6      	LDI  R31,HIGH(_nbytes)
003236 93fa      	ST   -Y,R31
003237 93ea      	ST   -Y,R30
003238 940e 27bc 	CALL _pf_write
00323a 93e0 081e 	STS  _res,R30
00323c 30e0      	CPI  R30,0
00323d 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0xA9:
00323e e0e0      	LDI  R30,LOW(0)
00323f e0f0      	LDI  R31,HIGH(0)
003240 93fa      	ST   -Y,R31
003241 93ea      	ST   -Y,R30
003242 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:18 WORDS
                 SUBOPT_0xAA:
003243 93ea      	ST   -Y,R30
                +
003244 e0e0     +LDI R30 , LOW ( 0x0 )
003245 e0f0     +LDI R31 , HIGH ( 0x0 )
003246 e060     +LDI R22 , BYTE3 ( 0x0 )
003247 e070     +LDI R23 , BYTE4 ( 0x0 )
                 	__GETD1N 0x0
003248 940e 3530 	CALL __PUTPARD1
00324a 940c 203d 	JMP  _send_cmd_G004
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0xAB:
00324c 93ea      	ST   -Y,R30
00324d 940e 202a 	CALL _xmit_spi
                +
00324f 81aa     +LDD R26 , Y + 2
003250 81bb     +LDD R27 , Y + 2 + 1
003251 818c     +LDD R24 , Y + 2 + 2
003252 819d     +LDD R25 , Y + 2 + 3
                 	__GETD2S 2
003253 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 14 TIMES, CODE SIZE REDUCTION:23 WORDS
                 SUBOPT_0xAC:
                +
003254 81ea     +LDD R30 , Y + 2
003255 81fb     +LDD R31 , Y + 2 + 1
003256 816c     +LDD R22 , Y + 2 + 2
003257 817d     +LDD R23 , Y + 2 + 3
                 	__GETD1S 2
003258 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0xAD:
                +
003259 e0e0     +LDI R30 , LOW ( 0x0 )
00325a e0f0     +LDI R31 , HIGH ( 0x0 )
00325b e060     +LDI R22 , BYTE3 ( 0x0 )
00325c e070     +LDI R23 , BYTE4 ( 0x0 )
                 	__GETD1N 0x0
00325d 940e 3530 	CALL __PUTPARD1
00325f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xAE:
003260 940e 3530 	CALL __PUTPARD1
003262 940c 203d 	JMP  _send_cmd_G004
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xAF:
003264 2fe1      	MOV  R30,R17
003265 e0f0      	LDI  R31,0
003266 01de      	MOVW R26,R28
003267 9616      	ADIW R26,6
003268 0fea      	ADD  R30,R26
003269 1ffb      	ADC  R31,R27
00326a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xB0:
                +
00326b e0e0     +LDI R30 , LOW ( 0x200 )
00326c e0f2     +LDI R31 , HIGH ( 0x200 )
00326d e060     +LDI R22 , BYTE3 ( 0x200 )
00326e e070     +LDI R23 , BYTE4 ( 0x200 )
                 	__GETD1N 0x200
00326f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0xB1:
                +
003270 85e8     +LDD R30 , Y + 8
003271 85f9     +LDD R31 , Y + 8 + 1
003272 856a     +LDD R22 , Y + 8 + 2
003273 857b     +LDD R23 , Y + 8 + 3
                 	__GETD1S 8
003274 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xB2:
                +
003275 e0a0     +LDI R26 , LOW ( 0x200 )
003276 e0b2     +LDI R27 , HIGH ( 0x200 )
003277 e080     +LDI R24 , BYTE3 ( 0x200 )
003278 e090     +LDI R25 , BYTE4 ( 0x200 )
                 	__GETD2N 0x200
003279 940e 34ad 	CALL __MULD12U
00327b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 9 TIMES, CODE SIZE REDUCTION:13 WORDS
                 SUBOPT_0xB3:
                +
00327c 87e8     +STD Y + 8 , R30
00327d 87f9     +STD Y + 8 + 1 , R31
00327e 876a     +STD Y + 8 + 2 , R22
00327f 877b     +STD Y + 8 + 3 , R23
                 	__PUTD1S 8
003280 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xB4:
                +
003281 85e9     +LDD R30 , Y + 9
003282 85fa     +LDD R31 , Y + 9 + 1
003283 856b     +LDD R22 , Y + 9 + 2
003284 857c     +LDD R23 , Y + 9 + 3
                 	__GETD1S 9
003285 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xB5:
003286 91e0 0835 	LDS  R30,_FatFs_G005
003288 91f0 0836 	LDS  R31,_FatFs_G005+1
00328a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xB6:
                +
00328b 85ac     +LDD R26 , Y + 12
00328c 85bd     +LDD R27 , Y + 12 + 1
00328d 858e     +LDD R24 , Y + 12 + 2
00328e 859f     +LDD R25 , Y + 12 + 3
                 	__GETD2S 12
00328f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:17 WORDS
                 SUBOPT_0xB7:
                +
003290 30a2     +CPI R26 , LOW ( 0x2 )
003291 e0e0     +LDI R30 , HIGH ( 0x2 )
003292 07be     +CPC R27 , R30
003293 e0e0     +LDI R30 , BYTE3 ( 0x2 )
003294 078e     +CPC R24 , R30
003295 e0e0     +LDI R30 , BYTE4 ( 0x2 )
003296 079e     +CPC R25 , R30
                 	__CPD2N 0x2
003297 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xB8:
003298 01fe      	MOVW R30,R28
003299 9638      	ADIW R30,8
00329a cecc      	RJMP SUBOPT_0x91
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0xB9:
                +
00329b 85a4     +LDD R26 , Z + 12
00329c 85b5     +LDD R27 , Z + 12 + 1
00329d 8586     +LDD R24 , Z + 12 + 2
00329e 8597     +LDD R25 , Z + 12 + 3
                 	__GETD2Z 12
00329f 01f9      	MOVW R30,R18
0032a0 cdae      	RJMP SUBOPT_0x60
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:17 WORDS
                 SUBOPT_0xBA:
0032a1 e0e2      	LDI  R30,LOW(2)
0032a2 e0f0      	LDI  R31,HIGH(2)
0032a3 93fa      	ST   -Y,R31
0032a4 93ea      	ST   -Y,R30
0032a5 940e 211c 	CALL _disk_readp
0032a7 30e0      	CPI  R30,0
0032a8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0xBB:
0032a9 e0e1      	LDI  R30,LOW(1)
0032aa e0f0      	LDI  R31,HIGH(1)
0032ab 93fa      	ST   -Y,R31
0032ac 93ea      	ST   -Y,R30
0032ad 940e 211c 	CALL _disk_readp
0032af 30e0      	CPI  R30,0
0032b0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xBC:
                +
0032b1 85a4     +LDD R26 , Z + 12
0032b2 85b5     +LDD R27 , Z + 12 + 1
0032b3 8586     +LDD R24 , Z + 12 + 2
0032b4 8597     +LDD R25 , Z + 12 + 3
                 	__GETD2Z 12
0032b5 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xBD:
                +
0032b6 85ae     +LDD R26 , Y + 14
0032b7 85bf     +LDD R27 , Y + 14 + 1
0032b8 8988     +LDD R24 , Y + 14 + 2
0032b9 8999     +LDD R25 , Y + 14 + 3
                 	__GETD2S 14
0032ba 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xBE:
0032bb 940e 3422 	CALL __ADDD12
0032bd 940e 3530 	CALL __PUTPARD1
0032bf 89ea      	LDD  R30,Y+18
0032c0 89fb      	LDD  R31,Y+18+1
0032c1 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xBF:
0032c2 93fa      	ST   -Y,R31
0032c3 93ea      	ST   -Y,R30
0032c4 cfdc      	RJMP SUBOPT_0xBA
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0xC0:
0032c5 93fa      	ST   -Y,R31
0032c6 93ea      	ST   -Y,R30
0032c7 940e 211c 	CALL _disk_readp
0032c9 30e0      	CPI  R30,0
0032ca 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xC1:
0032cb 931a      	ST   -Y,R17
0032cc 930a      	ST   -Y,R16
                +
0032cd 9100 0835+LDS R16 , 0 + ( _FatFs_G005 )
0032cf 9110 0836+LDS R17 , 0 + ( _FatFs_G005 ) + 1
                 	__GETWRMN 16,17,0,_FatFs_G005
0032d1 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0xC2:
                +
0032d2 83ea     +STD Y + 2 , R30
0032d3 83fb     +STD Y + 2 + 1 , R31
0032d4 836c     +STD Y + 2 + 2 , R22
0032d5 837d     +STD Y + 2 + 3 , R23
                 	__PUTD1S 2
0032d6 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0xC3:
                +
0032d7 81aa     +LDD R26 , Y + 2
0032d8 81bb     +LDD R27 , Y + 2 + 1
0032d9 818c     +LDD R24 , Y + 2 + 2
0032da 819d     +LDD R25 , Y + 2 + 3
                 	__GETD2S 2
0032db 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xC4:
                +
0032dc e0e0     +LDI R30 , LOW ( 0x0 )
0032dd e0f0     +LDI R31 , HIGH ( 0x0 )
0032de e060     +LDI R22 , BYTE3 ( 0x0 )
0032df e070     +LDI R23 , BYTE4 ( 0x0 )
                 	__GETD1N 0x0
0032e0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xC5:
0032e1 e0e0      	LDI  R30,LOW(0)
0032e2 e0f0      	LDI  R31,HIGH(0)
0032e3 93ed      	ST   X+,R30
0032e4 93fc      	ST   X,R31
0032e5 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xC6:
0032e6 940e 3517 	CALL __GETD1P
0032e8 cfe9      	RJMP SUBOPT_0xC2
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:4 WORDS
                 SUBOPT_0xC7:
0032e9 dfed      	RCALL SUBOPT_0xC3
                +
0032ea 30a1     +CPI R26 , LOW ( 0x1 )
0032eb e0e0     +LDI R30 , HIGH ( 0x1 )
0032ec 07be     +CPC R27 , R30
0032ed e0e0     +LDI R30 , BYTE3 ( 0x1 )
0032ee 078e     +CPC R24 , R30
0032ef e0e0     +LDI R30 , BYTE4 ( 0x1 )
0032f0 079e     +CPC R25 , R30
                 	__CPD2N 0x1
0032f1 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xC8:
0032f2 df61      	RCALL SUBOPT_0xAC
0032f3 940e 357c 	CALL __CPD10
0032f5 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xC9:
0032f6 df5d      	RCALL SUBOPT_0xAC
0032f7 940e 3530 	CALL __PUTPARD1
0032f9 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xCA:
0032fa 940e 3592 	CALL __SAVELOCR4
                +
0032fc 9120 0835+LDS R18 , 0 + ( _FatFs_G005 )
0032fe 9130 0836+LDS R19 , 0 + ( _FatFs_G005 ) + 1
                 	__GETWRMN 18,19,0,_FatFs_G005
003300 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xCB:
003301 940e 3535 	CALL __PUTPARD2
003303 940c 2234 	JMP  _get_fat_G005
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0xCC:
003305 91a0 0835 	LDS  R26,_FatFs_G005
003307 91b0 0836 	LDS  R27,_FatFs_G005+1
003309 9616      	ADIW R26,6
00330a 912d      	LD   R18,X+
00330b 913c      	LD   R19,X
00330c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xCD:
00330d 940e 3513 	CALL __GETW1P
00330f 83ee      	STD  Y+6,R30
003310 83ff      	STD  Y+6+1,R31
003311 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0xCE:
003312 2fe2      	MOV  R30,R18
003313 5f2f      	SUBI R18,-1
003314 81ae      	LDD  R26,Y+6
003315 81bf      	LDD  R27,Y+6+1
003316 e0f0      	LDI  R31,0
003317 0fae      	ADD  R26,R30
003318 1fbf      	ADC  R27,R31
003319 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0xCF:
00331a 2fe5      	MOV  R30,R21
00331b 5f5f      	SUBI R21,-1
00331c 85a8      	LDD  R26,Y+8
00331d 85b9      	LDD  R27,Y+8+1
00331e e0f0      	LDI  R31,0
00331f 0fea      	ADD  R30,R26
003320 1ffb      	ADC  R31,R27
003321 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xD0:
003322 dfb9      	RCALL SUBOPT_0xC4
003323 940e 3522 	CALL __PUTDP1
003325 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xD1:
003326 81ee      	LDD  R30,Y+6
003327 81ff      	LDD  R31,Y+6+1
003328 93fa      	ST   -Y,R31
003329 93ea      	ST   -Y,R30
00332a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0xD2:
00332b 81ae      	LDD  R26,Y+6
00332c 81bf      	LDD  R27,Y+6+1
00332d 9612      	ADIW R26,2
00332e 940e 3513 	CALL __GETW1P
003330 85e3      	LDD  R30,Z+11
003331 30e0      	CPI  R30,0
003332 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xD3:
003333 940e 3513 	CALL __GETW1P
003335 2766      	CLR  R22
003336 2777      	CLR  R23
003337 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xD4:
003338 81ac      	LDD  R26,Y+4
003339 81bd      	LDD  R27,Y+4+1
00333a 940e 3513 	CALL __GETW1P
00333c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:21 WORDS
                 SUBOPT_0xD5:
00333d 01fe      	MOVW R30,R28
00333e 9671      	ADIW R30,17
00333f 93fa      	ST   -Y,R31
003340 93ea      	ST   -Y,R30
                +
003341 85ef     +LDD R30 , Y + 15
003342 89f8     +LDD R31 , Y + 15 + 1
003343 8969     +LDD R22 , Y + 15 + 2
003344 897a     +LDD R23 , Y + 15 + 3
                 	__GETD1S 15
003345 940e 3530 	CALL __PUTPARD1
003347 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xD6:
                +
003348 87e9     +STD Y + 9 , R30
003349 87fa     +STD Y + 9 + 1 , R31
00334a 876b     +STD Y + 9 + 2 , R22
00334b 877c     +STD Y + 9 + 3 , R23
                 	__PUTD1S 9
00334c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xD7:
00334d 01fe      	MOVW R30,R28
00334e 967f      	ADIW R30,31
00334f 973d      	SBIW R30,13
003350 01df      	MOVW R26,R30
003351 940e 3513 	CALL __GETW1P
003353 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0xD8:
003354 a9ed      	LDD  R30,Y+53
003355 a9fe      	LDD  R31,Y+53+1
003356 81a4      	LDD  R26,Z+4
003357 81b5      	LDD  R27,Z+5
003358 01fd      	MOVW R30,R26
003359 940e 3485 	CALL __LSRW4
00335b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xD9:
00335c 81e1      	LDD  R30,Z+1
00335d e0f0      	LDI  R31,0
00335e 940e 34a3 	CALL __CWD1
003360 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xDA:
003361 a9ed      	LDD  R30,Y+53
003362 a9fe      	LDD  R31,Y+53+1
003363 df4d      	RCALL SUBOPT_0xBC
003364 df1c      	RCALL SUBOPT_0xB4
003365 940e 3422 	CALL __ADDD12
003367 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0xDB:
003368 81ee      	LDD  R30,Y+6
003369 81ff      	LDD  R31,Y+6+1
                +
00336a 8da0     +LDD R26 , Z + 24
00336b 8db1     +LDD R27 , Z + 24 + 1
00336c 8d82     +LDD R24 , Z + 24 + 2
00336d 8d93     +LDD R25 , Z + 24 + 3
                 	__GETD2Z 24
00336e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xDC:
00336f defb      	RCALL SUBOPT_0xB0
003370 940e 34e0 	CALL __DIVD21U
003372 01df      	MOVW R26,R30
003373 01cb      	MOVW R24,R22
003374 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xDD:
003375 81ee      	LDD  R30,Y+6
003376 81ff      	LDD  R31,Y+6+1
                +
003377 a1a4     +LDD R26 , Z + 36
003378 a1b5     +LDD R27 , Z + 36 + 1
003379 a186     +LDD R24 , Z + 36 + 2
00337a a197     +LDD R25 , Z + 36 + 3
                 	__GETD2Z 36
00337b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xDE:
                +
00337c 87ec     +STD Y + 12 , R30
00337d 87fd     +STD Y + 12 + 1 , R31
00337e 876e     +STD Y + 12 + 2 , R22
00337f 877f     +STD Y + 12 + 3 , R23
                 	__PUTD1S 12
003380 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xDF:
003381 9613      	ADIW R26,3
003382 91ec      	LD   R30,X
003383 5fef      	SUBI R30,-LOW(1)
003384 93ec      	ST   X,R30
003385 50e1      	SUBI R30,LOW(1)
003386 e0f0      	LDI  R31,0
003387 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xE0:
003388 8da0      	LDD  R26,Z+24
003389 8db1      	LDD  R27,Z+25
00338a 01fd      	MOVW R30,R26
00338b 70f1      	ANDI R31,HIGH(0x1FF)
00338c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xE1:
                +
00338d a5a0     +LDD R26 , Z + 40
00338e a5b1     +LDD R27 , Z + 40 + 1
00338f a582     +LDD R24 , Z + 40 + 2
003390 a593     +LDD R25 , Z + 40 + 3
                 	__GETD2Z 40
003391 940e 3535 	CALL __PUTPARD2
003393 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:6 WORDS
                 SUBOPT_0xE2:
003394 9678      	ADIW R30,24
003395 010f      	MOVW R0,R30
003396 01df      	MOVW R26,R30
003397 940e 3517 	CALL __GETD1P
003399 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xE3:
00339a 9612      	ADIW R26,2
00339b e0e0      	LDI  R30,LOW(0)
00339c 93ec      	ST   X,R30
00339d e0e1      	LDI  R30,LOW(1)
00339e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xE4:
00339f 01fa      	MOVW R30,R20
                +
0033a0 8da0     +LDD R26 , Z + 24
0033a1 8db1     +LDD R27 , Z + 24 + 1
0033a2 8d82     +LDD R24 , Z + 24 + 2
0033a3 8d93     +LDD R25 , Z + 24 + 3
                 	__GETD2Z 24
0033a4 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xE5:
                +
0033a5 83ee     +STD Y + 6 , R30
0033a6 83ff     +STD Y + 6 + 1 , R31
0033a7 8768     +STD Y + 6 + 2 , R22
0033a8 8779     +STD Y + 6 + 3 , R23
                 	__PUTD1S 6
0033a9 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xE6:
                +
0033aa 87ee     +STD Y + 14 , R30
0033ab 87ff     +STD Y + 14 + 1 , R31
0033ac 8b68     +STD Y + 14 + 2 , R22
0033ad 8b79     +STD Y + 14 + 3 , R23
                 	__PUTD1S 14
0033ae 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xE7:
                +
0033af 85ee     +LDD R30 , Y + 14
0033b0 85ff     +LDD R31 , Y + 14 + 1
0033b1 8968     +LDD R22 , Y + 14 + 2
0033b2 8979     +LDD R23 , Y + 14 + 3
                 	__GETD1S 14
0033b3 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xE8:
                +
0033b4 85ea     +LDD R30 , Y + 10
0033b5 85fb     +LDD R31 , Y + 10 + 1
0033b6 856c     +LDD R22 , Y + 10 + 2
0033b7 857d     +LDD R23 , Y + 10 + 3
                 	__GETD1S 10
0033b8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xE9:
                +
0033b9 85aa     +LDD R26 , Y + 10
0033ba 85bb     +LDD R27 , Y + 10 + 1
0033bb 858c     +LDD R24 , Y + 10 + 2
0033bc 859d     +LDD R25 , Y + 10 + 3
                 	__GETD2S 10
0033bd 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xEA:
0033be 940e 3517 	CALL __GETD1P
                +
0033c0 89aa     +LDD R26 , Y + 18
0033c1 89bb     +LDD R27 , Y + 18 + 1
0033c2 898c     +LDD R24 , Y + 18 + 2
0033c3 899d     +LDD R25 , Y + 18 + 3
                 	__GETD2S 18
0033c4 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES, CODE SIZE REDUCTION:3 WORDS
                 SUBOPT_0xEB:
                +
0033c5 89aa     +LDD R26 , Y + 18
0033c6 89bb     +LDD R27 , Y + 18 + 1
0033c7 898c     +LDD R24 , Y + 18 + 2
0033c8 899d     +LDD R25 , Y + 18 + 3
                 	__GETD2S 18
0033c9 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xEC:
                +
0033ca 89ea     +LDD R30 , Y + 18
0033cb 89fb     +LDD R31 , Y + 18 + 1
0033cc 896c     +LDD R22 , Y + 18 + 2
0033cd 897d     +LDD R23 , Y + 18 + 3
                 	__GETD1S 18
0033ce 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:5 WORDS
                 SUBOPT_0xED:
                +
0033cf 50e1     +SUBI R30 , LOW ( 1 )
0033d0 40f0     +SBCI R31 , HIGH ( 1 )
0033d1 4060     +SBCI R22 , BYTE3 ( 1 )
0033d2 4070     +SBCI R23 , BYTE4 ( 1 )
                 	__SUBD1N 1
0033d3 01df      	MOVW R26,R30
0033d4 01cb      	MOVW R24,R22
0033d5 dfde      	RCALL SUBOPT_0xE8
0033d6 940e 34e0 	CALL __DIVD21U
0033d8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0xEE:
0033d9 dfd5      	RCALL SUBOPT_0xE7
                +
0033da 01d8     +MOVW R26 , R16
0033db 9694     +ADIW R26 , 36
0033dc 940e 3522+CALL __PUTDP1
                 	__PUTD1RNS 16,36
0033de 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:2 WORDS
                 SUBOPT_0xEF:
0033df 93ea      	ST   -Y,R30
0033e0 940e 29c4 	CALL __lcd_write_data
0033e2 e0e3      	LDI  R30,LOW(3)
0033e3 e0f0      	LDI  R31,HIGH(3)
0033e4 ca67      	RJMP SUBOPT_0x17
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:9 WORDS
                 SUBOPT_0xF0:
0033e5 e3e0      	LDI  R30,LOW(48)
0033e6 93ea      	ST   -Y,R30
0033e7 940e 29b0 	CALL __lcd_write_nibble_G100
                +
0033e9 e28c     +LDI R24 , LOW ( 300 )
0033ea e091     +LDI R25 , HIGH ( 300 )
                +__DELAY_USW_LOOP :
0033eb 9701     +SBIW R24 , 1
0033ec f7f1     +BRNE __DELAY_USW_LOOP
                 	__DELAY_USW 300
0033ed 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xF1:
0033ee 81ae      	LDD  R26,Y+6
0033ef 81bf      	LDD  R27,Y+6+1
0033f0 9611      	ADIW R26,1
0033f1 83ae      	STD  Y+6,R26
0033f2 83bf      	STD  Y+6+1,R27
0033f3 9711      	SBIW R26,1
0033f4 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES, CODE SIZE REDUCTION:1 WORDS
                 SUBOPT_0xF2:
0033f5 de5e      	RCALL SUBOPT_0xAC
                +
0033f6 85a8     +LDD R26 , Y + 8
0033f7 85b9     +LDD R27 , Y + 8 + 1
0033f8 858a     +LDD R24 , Y + 8 + 2
0033f9 859b     +LDD R25 , Y + 8 + 3
                 	__GETD2S 8
0033fa 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES, CODE SIZE REDUCTION:21 WORDS
                 SUBOPT_0xF3:
0033fb 932a      	ST   -Y,R18
0033fc 89ea      	LDD  R30,Y+18
0033fd 89fb      	LDD  R31,Y+18+1
0033fe 93fa      	ST   -Y,R31
0033ff 93ea      	ST   -Y,R30
003400 89ee      	LDD  R30,Y+22
003401 89ff      	LDD  R31,Y+22+1
003402 9509      	ICALL
003403 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES, CODE SIZE REDUCTION:12 WORDS
                 SUBOPT_0xF4:
003404 89ed      	LDD  R30,Y+21
003405 89fe      	LDD  R31,Y+21+1
003406 9734      	SBIW R30,4
003407 8bed      	STD  Y+21,R30
003408 8bfe      	STD  Y+21+1,R31
003409 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES, CODE SIZE REDUCTION:7 WORDS
                 SUBOPT_0xF5:
00340a 89ea      	LDD  R30,Y+18
00340b 89fb      	LDD  R31,Y+18+1
00340c 93fa      	ST   -Y,R31
00340d 93ea      	ST   -Y,R30
00340e 89ee      	LDD  R30,Y+22
00340f 89ff      	LDD  R31,Y+22+1
003410 9509      	ICALL
003411 9508      	RET
                 
                 
                 	.CSEG
                 _delay_ms:
003412 91e9      	ld   r30,y+
003413 91f9      	ld   r31,y+
003414 9630      	adiw r30,0
003415 f039      	breq __delay_ms1
                 __delay_ms0:
                +
003416 eb88     +LDI R24 , LOW ( 0xBB8 )
003417 e09b     +LDI R25 , HIGH ( 0xBB8 )
                +__DELAY_USW_LOOP :
003418 9701     +SBIW R24 , 1
003419 f7f1     +BRNE __DELAY_USW_LOOP
                 	__DELAY_USW 0xBB8
00341a 95a8      	wdr
00341b 9731      	sbiw r30,1
00341c f7c9      	brne __delay_ms0
                 __delay_ms1:
00341d 9508      	ret
                 
                 __ADDW2R15:
00341e 2400      	CLR  R0
00341f 0daf      	ADD  R26,R15
003420 1db0      	ADC  R27,R0
003421 9508      	RET
                 
                 __ADDD12:
003422 0fea      	ADD  R30,R26
003423 1ffb      	ADC  R31,R27
003424 1f68      	ADC  R22,R24
003425 1f79      	ADC  R23,R25
003426 9508      	RET
                 
                 __ADDD21:
003427 0fae      	ADD  R26,R30
003428 1fbf      	ADC  R27,R31
003429 1f86      	ADC  R24,R22
00342a 1f97      	ADC  R25,R23
00342b 9508      	RET
                 
                 __SUBD12:
00342c 1bea      	SUB  R30,R26
00342d 0bfb      	SBC  R31,R27
00342e 0b68      	SBC  R22,R24
00342f 0b79      	SBC  R23,R25
003430 9508      	RET
                 
                 __SUBD21:
003431 1bae      	SUB  R26,R30
003432 0bbf      	SBC  R27,R31
003433 0b86      	SBC  R24,R22
003434 0b97      	SBC  R25,R23
003435 9508      	RET
                 
                 __ANDD12:
003436 23ea      	AND  R30,R26
003437 23fb      	AND  R31,R27
003438 2368      	AND  R22,R24
003439 2379      	AND  R23,R25
00343a 9508      	RET
                 
                 __ORD12:
00343b 2bea      	OR   R30,R26
00343c 2bfb      	OR   R31,R27
00343d 2b68      	OR   R22,R24
00343e 2b79      	OR   R23,R25
00343f 9508      	RET
                 
                 __ANEGW1:
003440 95f1      	NEG  R31
003441 95e1      	NEG  R30
003442 40f0      	SBCI R31,0
003443 9508      	RET
                 
                 __ANEGD1:
003444 95f0      	COM  R31
003445 9560      	COM  R22
003446 9570      	COM  R23
003447 95e1      	NEG  R30
003448 4fff      	SBCI R31,-1
003449 4f6f      	SBCI R22,-1
00344a 4f7f      	SBCI R23,-1
00344b 9508      	RET
                 
                 __LSLB12:
00344c 23ee      	TST  R30
00344d 2e0e      	MOV  R0,R30
00344e 2fea      	MOV  R30,R26
00344f f019      	BREQ __LSLB12R
                 __LSLB12L:
003450 0fee      	LSL  R30
003451 940a      	DEC  R0
003452 f7e9      	BRNE __LSLB12L
                 __LSLB12R:
003453 9508      	RET
                 
                 __LSLW12:
003454 23ee      	TST  R30
003455 2e0e      	MOV  R0,R30
003456 01fd      	MOVW R30,R26
003457 f021      	BREQ __LSLW12R
                 __LSLW12L:
003458 0fee      	LSL  R30
003459 1fff      	ROL  R31
00345a 940a      	DEC  R0
00345b f7e1      	BRNE __LSLW12L
                 __LSLW12R:
00345c 9508      	RET
                 
                 __LSLD12:
00345d 23ee      	TST  R30
00345e 2e0e      	MOV  R0,R30
00345f 01fd      	MOVW R30,R26
003460 01bc      	MOVW R22,R24
003461 f031      	BREQ __LSLD12R
                 __LSLD12L:
003462 0fee      	LSL  R30
003463 1fff      	ROL  R31
003464 1f66      	ROL  R22
003465 1f77      	ROL  R23
003466 940a      	DEC  R0
003467 f7d1      	BRNE __LSLD12L
                 __LSLD12R:
003468 9508      	RET
                 
                 __LSRD12:
003469 23ee      	TST  R30
00346a 2e0e      	MOV  R0,R30
00346b 01fd      	MOVW R30,R26
00346c 01bc      	MOVW R22,R24
00346d f031      	BREQ __LSRD12R
                 __LSRD12L:
00346e 9576      	LSR  R23
00346f 9567      	ROR  R22
003470 95f7      	ROR  R31
003471 95e7      	ROR  R30
003472 940a      	DEC  R0
003473 f7d1      	BRNE __LSRD12L
                 __LSRD12R:
003474 9508      	RET
                 
                 __LSLW4:
003475 0fee      	LSL  R30
003476 1fff      	ROL  R31
                 __LSLW3:
003477 0fee      	LSL  R30
003478 1fff      	ROL  R31
                 __LSLW2:
003479 0fee      	LSL  R30
00347a 1fff      	ROL  R31
00347b 0fee      	LSL  R30
00347c 1fff      	ROL  R31
00347d 9508      	RET
                 
                 __ASRW3:
00347e 95f5      	ASR  R31
00347f 95e7      	ROR  R30
                 __ASRW2:
003480 95f5      	ASR  R31
003481 95e7      	ROR  R30
003482 95f5      	ASR  R31
003483 95e7      	ROR  R30
003484 9508      	RET
                 
                 __LSRW4:
003485 95f6      	LSR  R31
003486 95e7      	ROR  R30
                 __LSRW3:
003487 95f6      	LSR  R31
003488 95e7      	ROR  R30
                 __LSRW2:
003489 95f6      	LSR  R31
00348a 95e7      	ROR  R30
00348b 95f6      	LSR  R31
00348c 95e7      	ROR  R30
00348d 9508      	RET
                 
                 __LSRD1:
00348e 9576      	LSR  R23
00348f 9567      	ROR  R22
003490 95f7      	ROR  R31
003491 95e7      	ROR  R30
003492 9508      	RET
                 
                 __LSRD16:
003493 2fe6      	MOV  R30,R22
003494 2ff7      	MOV  R31,R23
003495 e060      	LDI  R22,0
003496 e070      	LDI  R23,0
003497 9508      	RET
                 
                 __LSLD16:
003498 2f6e      	MOV  R22,R30
003499 2f7f      	MOV  R23,R31
00349a e0e0      	LDI  R30,0
00349b e0f0      	LDI  R31,0
00349c 9508      	RET
                 
                 __CBD1:
00349d 2ffe      	MOV  R31,R30
00349e 0fff      	ADD  R31,R31
00349f 0bff      	SBC  R31,R31
0034a0 2f6f      	MOV  R22,R31
0034a1 2f7f      	MOV  R23,R31
0034a2 9508      	RET
                 
                 __CWD1:
0034a3 2f6f      	MOV  R22,R31
0034a4 0f66      	ADD  R22,R22
0034a5 0b66      	SBC  R22,R22
0034a6 2f76      	MOV  R23,R22
0034a7 9508      	RET
                 
                 __COMD1:
0034a8 95e0      	COM  R30
0034a9 95f0      	COM  R31
0034aa 9560      	COM  R22
0034ab 9570      	COM  R23
0034ac 9508      	RET
                 
                 __MULD12U:
0034ad 9f7a      	MUL  R23,R26
0034ae 2d70      	MOV  R23,R0
0034af 9f6b      	MUL  R22,R27
0034b0 0d70      	ADD  R23,R0
0034b1 9ff8      	MUL  R31,R24
0034b2 0d70      	ADD  R23,R0
0034b3 9fe9      	MUL  R30,R25
0034b4 0d70      	ADD  R23,R0
0034b5 9f6a      	MUL  R22,R26
0034b6 2d60      	MOV  R22,R0
0034b7 0d71      	ADD  R23,R1
0034b8 9ffb      	MUL  R31,R27
0034b9 0d60      	ADD  R22,R0
0034ba 1d71      	ADC  R23,R1
0034bb 9fe8      	MUL  R30,R24
0034bc 0d60      	ADD  R22,R0
0034bd 1d71      	ADC  R23,R1
0034be 2788      	CLR  R24
0034bf 9ffa      	MUL  R31,R26
0034c0 2df0      	MOV  R31,R0
0034c1 0d61      	ADD  R22,R1
0034c2 1f78      	ADC  R23,R24
0034c3 9feb      	MUL  R30,R27
0034c4 0df0      	ADD  R31,R0
0034c5 1d61      	ADC  R22,R1
0034c6 1f78      	ADC  R23,R24
0034c7 9fea      	MUL  R30,R26
0034c8 2de0      	MOV  R30,R0
0034c9 0df1      	ADD  R31,R1
0034ca 1f68      	ADC  R22,R24
0034cb 1f78      	ADC  R23,R24
0034cc 9508      	RET
                 
                 __DIVW21U:
0034cd 2400      	CLR  R0
0034ce 2411      	CLR  R1
0034cf e190      	LDI  R25,16
                 __DIVW21U1:
0034d0 0faa      	LSL  R26
0034d1 1fbb      	ROL  R27
0034d2 1c00      	ROL  R0
0034d3 1c11      	ROL  R1
0034d4 1a0e      	SUB  R0,R30
0034d5 0a1f      	SBC  R1,R31
0034d6 f418      	BRCC __DIVW21U2
0034d7 0e0e      	ADD  R0,R30
0034d8 1e1f      	ADC  R1,R31
0034d9 c001      	RJMP __DIVW21U3
                 __DIVW21U2:
0034da 60a1      	SBR  R26,1
                 __DIVW21U3:
0034db 959a      	DEC  R25
0034dc f799      	BRNE __DIVW21U1
0034dd 01fd      	MOVW R30,R26
0034de 01d0      	MOVW R26,R0
0034df 9508      	RET
                 
                 __DIVD21U:
0034e0 933f      	PUSH R19
0034e1 934f      	PUSH R20
0034e2 935f      	PUSH R21
0034e3 2400      	CLR  R0
0034e4 2411      	CLR  R1
0034e5 2744      	CLR  R20
0034e6 2755      	CLR  R21
0034e7 e230      	LDI  R19,32
                 __DIVD21U1:
0034e8 0faa      	LSL  R26
0034e9 1fbb      	ROL  R27
0034ea 1f88      	ROL  R24
0034eb 1f99      	ROL  R25
0034ec 1c00      	ROL  R0
0034ed 1c11      	ROL  R1
0034ee 1f44      	ROL  R20
0034ef 1f55      	ROL  R21
0034f0 1a0e      	SUB  R0,R30
0034f1 0a1f      	SBC  R1,R31
0034f2 0b46      	SBC  R20,R22
0034f3 0b57      	SBC  R21,R23
0034f4 f428      	BRCC __DIVD21U2
0034f5 0e0e      	ADD  R0,R30
0034f6 1e1f      	ADC  R1,R31
0034f7 1f46      	ADC  R20,R22
0034f8 1f57      	ADC  R21,R23
0034f9 c001      	RJMP __DIVD21U3
                 __DIVD21U2:
0034fa 60a1      	SBR  R26,1
                 __DIVD21U3:
0034fb 953a      	DEC  R19
0034fc f759      	BRNE __DIVD21U1
0034fd 01fd      	MOVW R30,R26
0034fe 01bc      	MOVW R22,R24
0034ff 01d0      	MOVW R26,R0
003500 01ca      	MOVW R24,R20
003501 915f      	POP  R21
003502 914f      	POP  R20
003503 913f      	POP  R19
003504 9508      	RET
                 
                 __MANDW12:
003505 94e8      	CLT
003506 fff7      	SBRS R31,7
003507 c002      	RJMP __MANDW121
003508 df37      	RCALL __ANEGW1
003509 9468      	SET
                 __MANDW121:
00350a 23ea      	AND  R30,R26
00350b 23fb      	AND  R31,R27
00350c f40e      	BRTC __MANDW122
00350d df32      	RCALL __ANEGW1
                 __MANDW122:
00350e 9508      	RET
                 
                 __MODD21U:
00350f dfd0      	RCALL __DIVD21U
003510 01fd      	MOVW R30,R26
003511 01bc      	MOVW R22,R24
003512 9508      	RET
                 
                 __GETW1P:
003513 91ed      	LD   R30,X+
003514 91fc      	LD   R31,X
003515 9711      	SBIW R26,1
003516 9508      	RET
                 
                 __GETD1P:
003517 91ed      	LD   R30,X+
003518 91fd      	LD   R31,X+
003519 916d      	LD   R22,X+
00351a 917c      	LD   R23,X
00351b 9713      	SBIW R26,3
00351c 9508      	RET
                 
                 __GETD1P_INC:
00351d 91ed      	LD   R30,X+
00351e 91fd      	LD   R31,X+
00351f 916d      	LD   R22,X+
003520 917d      	LD   R23,X+
003521 9508      	RET
                 
                 __PUTDP1:
003522 93ed      	ST   X+,R30
003523 93fd      	ST   X+,R31
003524 936d      	ST   X+,R22
003525 937c      	ST   X,R23
003526 9508      	RET
                 
                 __PUTDP1_DEC:
003527 937e      	ST   -X,R23
003528 936e      	ST   -X,R22
003529 93fe      	ST   -X,R31
00352a 93ee      	ST   -X,R30
00352b 9508      	RET
                 
                 __GETW1PF:
00352c 9005      	LPM  R0,Z+
00352d 91f4      	LPM  R31,Z
00352e 2de0      	MOV  R30,R0
00352f 9508      	RET
                 
                 __PUTPARD1:
003530 937a      	ST   -Y,R23
003531 936a      	ST   -Y,R22
003532 93fa      	ST   -Y,R31
003533 93ea      	ST   -Y,R30
003534 9508      	RET
                 
                 __PUTPARD2:
003535 939a      	ST   -Y,R25
003536 938a      	ST   -Y,R24
003537 93ba      	ST   -Y,R27
003538 93aa      	ST   -Y,R26
003539 9508      	RET
                 
                 __SWAPD12:
00353a 2e18      	MOV  R1,R24
00353b 2f86      	MOV  R24,R22
00353c 2d61      	MOV  R22,R1
00353d 2e19      	MOV  R1,R25
00353e 2f97      	MOV  R25,R23
00353f 2d71      	MOV  R23,R1
                 
                 __SWAPW12:
003540 2e1b      	MOV  R1,R27
003541 2fbf      	MOV  R27,R31
003542 2df1      	MOV  R31,R1
                 
                 __SWAPB12:
003543 2e1a      	MOV  R1,R26
003544 2fae      	MOV  R26,R30
003545 2de1      	MOV  R30,R1
003546 9508      	RET
                 
                 __EEPROMRDD:
003547 9612      	ADIW R26,2
003548 d002      	RCALL __EEPROMRDW
003549 01bf      	MOVW R22,R30
00354a 9712      	SBIW R26,2
                 
                 __EEPROMRDW:
00354b 9611      	ADIW R26,1
00354c d002      	RCALL __EEPROMRDB
00354d 2ffe      	MOV  R31,R30
00354e 9711      	SBIW R26,1
                 
                 __EEPROMRDB:
00354f 99f9      	SBIC EECR,EEWE
003550 cffe      	RJMP __EEPROMRDB
003551 93ff      	PUSH R31
003552 b7ff      	IN   R31,SREG
003553 94f8      	CLI
003554 bda1      	OUT  EEARL,R26
003555 bdb2      	OUT  EEARH,R27
003556 9af8      	SBI  EECR,EERE
003557 b5e0      	IN   R30,EEDR
003558 bfff      	OUT  SREG,R31
003559 91ff      	POP  R31
00355a 9508      	RET
                 
                 __EEPROMWRD:
00355b d007      	RCALL __EEPROMWRW
00355c 9612      	ADIW R26,2
00355d 010f      	MOVW R0,R30
00355e 01fb      	MOVW R30,R22
00355f d003      	RCALL __EEPROMWRW
003560 01f0      	MOVW R30,R0
003561 9712      	SBIW R26,2
003562 9508      	RET
                 
                 __EEPROMWRW:
003563 d007      	RCALL __EEPROMWRB
003564 9611      	ADIW R26,1
003565 93ef      	PUSH R30
003566 2fef      	MOV  R30,R31
003567 d003      	RCALL __EEPROMWRB
003568 91ef      	POP  R30
003569 9711      	SBIW R26,1
00356a 9508      	RET
                 
                 __EEPROMWRB:
00356b 9bf9      	SBIS EECR,EEWE
00356c c002      	RJMP __EEPROMWRB1
00356d 95a8      	WDR
00356e cffc      	RJMP __EEPROMWRB
                 __EEPROMWRB1:
00356f b79f      	IN   R25,SREG
003570 94f8      	CLI
003571 bda1      	OUT  EEARL,R26
003572 bdb2      	OUT  EEARH,R27
003573 9af8      	SBI  EECR,EERE
003574 b580      	IN   R24,EEDR
003575 17e8      	CP   R30,R24
003576 f019      	BREQ __EEPROMWRB0
003577 bde0      	OUT  EEDR,R30
003578 9afa      	SBI  EECR,EEMWE
003579 9af9      	SBI  EECR,EEWE
                 __EEPROMWRB0:
00357a bf9f      	OUT  SREG,R25
00357b 9508      	RET
                 
                 __CPD10:
00357c 9730      	SBIW R30,0
00357d 4060      	SBCI R22,0
00357e 4070      	SBCI R23,0
00357f 9508      	RET
                 
                 __CPD02:
003580 2400      	CLR  R0
003581 160a      	CP   R0,R26
003582 060b      	CPC  R0,R27
003583 0608      	CPC  R0,R24
003584 0609      	CPC  R0,R25
003585 9508      	RET
                 
                 __CPD12:
003586 17ea      	CP   R30,R26
003587 07fb      	CPC  R31,R27
003588 0768      	CPC  R22,R24
003589 0779      	CPC  R23,R25
00358a 9508      	RET
                 
                 __CPD21:
00358b 17ae      	CP   R26,R30
00358c 07bf      	CPC  R27,R31
00358d 0786      	CPC  R24,R22
00358e 0797      	CPC  R25,R23
00358f 9508      	RET
                 
                 __SAVELOCR6:
003590 935a      	ST   -Y,R21
                 __SAVELOCR5:
003591 934a      	ST   -Y,R20
                 __SAVELOCR4:
003592 933a      	ST   -Y,R19
                 __SAVELOCR3:
003593 932a      	ST   -Y,R18
                 __SAVELOCR2:
003594 931a      	ST   -Y,R17
003595 930a      	ST   -Y,R16
003596 9508      	RET
                 
                 __LOADLOCR6:
003597 815d      	LDD  R21,Y+5
                 __LOADLOCR5:
003598 814c      	LDD  R20,Y+4
                 __LOADLOCR4:
003599 813b      	LDD  R19,Y+3
                 __LOADLOCR3:
00359a 812a      	LDD  R18,Y+2
                 __LOADLOCR2:
00359b 8119      	LDD  R17,Y+1
00359c 8108      	LD   R16,Y
00359d 9508      	RET
                 
                 ;END OF CODE MARKER
                 __END_OF_CODE:


RESOURCE USE INFORMATION
------------------------

Notice:
The register and instruction counts are symbol table hit counts,
and hence implicitly used resources are not counted, eg, the
'lpm' instruction without operands implicitly uses r0 and z,
none of which are counted.

x,y,z are separate entities in the symbol table and are
counted separately from r26..r31 here.

.dseg memory usage only counts static data declared with .byte

ATmega328P register use summary:
r0 : 119 r1 :  33 r2 :   0 r3 :   0 r4 :   4 r5 :   4 r6 :   4 r7 :   7 
r8 :   0 r9 :   4 r10:  11 r11:   0 r12:   8 r13:   4 r14:   0 r15:   4 
r16: 225 r17: 323 r18: 103 r19:  87 r20:  87 r21:  75 r22: 222 r23: 163 
r24: 175 r25:  93 r26: 840 r27: 247 r28: 102 r29:   1 r30:3105 r31: 961 
x  : 142 y  :1452 z  : 119 
Registers used: 30 out of 35 (85.7%)

ATmega328P instruction use summary:
.lds  :   0 .lds.l:   0 .sts  :   0 .sts.l:   0 adc   :  55 add   :  79 
adiw  : 185 and   :   8 andi  :  73 asr   :   3 bclr  :   0 bld   :   0 
brbc  :   0 brbs  :   0 brcc  :   3 brcs  :   0 break :   0 breq  : 286 
brge  :   2 brhc  :   0 brhs  :   0 brid  :   0 brie  :   0 brlo  :  54 
brlt  :  10 brmi  :   0 brne  : 460 brpl  :   3 brsh  :  41 brtc  :   3 
brts  :   1 brvc  :   0 brvs  :   0 bset  :   0 bst   :   0 call  :1423 
cbi   :  44 cbr   :   1 clc   :   0 clh   :   0 cli   :   5 cln   :   0 
clr   : 103 cls   :   0 clt   :   4 clv   :   0 clz   :   0 com   :  24 
cp    :  69 cpc   : 100 cpi   : 557 cpse  :   0 dec   :  19 des   :   0 
eor   :   2 fmul  :   0 fmuls :   0 fmulsu:   0 icall :   2 ijmp  :   0 
in    :  21 inc   :   6 jmp   :  82 ld    : 180 ldd   : 670 ldi   :1299 
lds   : 470 lpm   :  40 lsl   :  28 lsr   :   9 mov   : 180 movw  : 236 
mul   :  17 muls  :   0 mulsu :   0 neg   :   3 nop   :   0 or    :  32 
ori   :  23 out   :  42 pop   :  95 push  :  95 rcall : 246 ret   : 307 
reti  :   3 rjmp  : 585 rol   :  30 ror   :  16 sbc   :  20 sbci  :  80 
sbi   :  53 sbic  :   6 sbis  :   6 sbiw  :  98 sbr   :   2 sbrc  :   5 
sbrs  :  15 sec   :   0 seh   :   0 sei   :   3 sen   :   0 ser   :   3 
ses   :   0 set   :   4 sev   :   0 sez   :   0 sleep :   0 spm   :   0 
st    : 680 std   : 156 sts   : 208 sub   :  15 subi  : 123 swap  :   7 
tst   :  29 wdr   :   4 
Instructions used: 74 out of 116 (63.8%)

ATmega328P memory use summary [bytes]:
Segment   Begin    End      Code   Data   Used    Size   Use%
---------------------------------------------------------------
[.cseg] 0x000000 0x006b3c  24042   3410  27452   32768  83.8%
[.dseg] 0x000100 0x000842      0   1346   1346    2048  65.7%
[.eseg] 0x000000 0x0001fe      0    502    502    1024  49.0%

Assembly complete, 0 errors, 17 warnings
